/*! (c) gotoAndPlay | All rights reserved */
(window["webpackJsonpapplication"] = window["webpackJsonpapplication"] || []).push([["module-13"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/components/charts/chart-utils.js":
/*!**********************************************!*\
  !*** ./src/components/charts/chart-utils.js ***!
  \**********************************************/
/*! exports provided: getFormattedDateTime, getBasicSharedTemplate, getMemorySharedTemplate, getMemoryValueAxisLabelTemplate, getNetworkSharedTemplate, getNetworkValueAxisLabelTemplate, getUserCountSharedTemplate, getTimeRangeTooltipTemplate, getWRBytesLabelTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFormattedDateTime", function() { return getFormattedDateTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBasicSharedTemplate", function() { return getBasicSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemorySharedTemplate", function() { return getMemorySharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemoryValueAxisLabelTemplate", function() { return getMemoryValueAxisLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkSharedTemplate", function() { return getNetworkSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkValueAxisLabelTemplate", function() { return getNetworkValueAxisLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUserCountSharedTemplate", function() { return getUserCountSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTimeRangeTooltipTemplate", function() { return getTimeRangeTooltipTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWRBytesLabelTemplate", function() { return getWRBytesLabelTemplate; });
/* harmony import */ var _utils_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utilities */ "./src/utils/utilities.js");


function getFormattedDateTime(date, format = 'dd MMM HH:mm:ss')
{
	return kendo.toString(date, format);
}

function getBasicSharedTemplate(valueFormat = '{0}') {
	return kendo.template(`
		<div class="chart-tooltip-category"><strong>#: category #</strong></div>
		# for (var i = 0; i < points.length; i++) { #
		<div>
			<i class="fas fa-square" style="color: #: points[i].color # "></i>
			#: points[i].series.name# : #: kendo.format('${valueFormat}', points[i].value) #
		</div>
		# } #
	`);
}

function getMemorySharedTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: category #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: bytesToSize(points[i].value) #
			</div>
			# } #
		`)(dataItem);
	};
}

function getMemoryValueAxisLabelTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			#: bytesToSize(value) #
		`)(dataItem);
	};
}

function getNetworkSharedTemplate(categoryFormat = 'dd MMM HH:mm:ss') {
	return function(dataItem) {
		dataItem.kBytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["kBytesToSize"]; // Pass kBytesToSize utility function to template
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: kendo.toString(category, '${categoryFormat}') #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: kBytesToSize(points[i].value, 1, '', '/s') #
			</div>
			# } #
		`)(dataItem);
	};
}

function getNetworkValueAxisLabelTemplate() {
	return function(dataItem) {
		dataItem.kBytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["kBytesToSize"]; // Pass kBytesToSize utility function to template
		return kendo.template(`
			#: kBytesToSize(value, 1, '', '/s') #
		`)(dataItem);
	};
}

function getUserCountSharedTemplate(categoryFormat = 'dd MMM HH:mm:ss') {
	return function(dataItem) {
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: kendo.toString(category, '${categoryFormat}') #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: points[i].value #
			</div>
			# } #
		`)(dataItem);
	};
}

function getTimeRangeTooltipTemplate() {
	return function(dataItem) {
		dataItem.getTooltipString = function(v1, v2) {
			if (v1 == v2)
			{
				if (v2 == -24)
					v2 = -23;

				v1 = v2 - 1;
			}

			let start = Math.abs(v1);
			let end = Math.abs(v2);

			return `From ${start} hour${start != 1 ? 's' : ''} ago to ${end > 0 ? ('to ' + end + ' hour' + (end != 1 ? 's' : '') + ' ago') : 'now'}`;
		}; // Pass utility function to template
		return kendo.template(`
			#: getTooltipString(selectionStart, selectionEnd) #
		`)(dataItem);
	};
}

function getWRBytesLabelTemplate() {
	return function(dataItem) {
		return kendo.template(`
			#: value # #: dataItem.unit #
		`)(dataItem);
	};
}


/***/ }),

/***/ "./src/components/charts/user-count-chart.js":
/*!***************************************************!*\
  !*** ./src/components/charts/user-count-chart.js ***!
  \***************************************************/
/*! exports provided: UserCountChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCountChart", function() { return UserCountChart; });
/* harmony import */ var _chart_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chart-utils */ "./src/components/charts/chart-utils.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);



class UserCountChart extends HTMLElement
{
	constructor()
	{
	    super();

		// Create chart html
		let chartHtml = $('<div>');
		$(this).append(chartHtml);

		// Initialize chart
		this._chartWidget = this._initChartWidget(chartHtml);
	}

	_initChartWidget(chartHtml)
	{
		return chartHtml.kendoChart({
			transitions: false,
			chartArea: {
				height: 270,
				background: 'transparent'
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'area',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
	        },
	        series: [{
				name: 'Users',
	            field: 'users',
	            categoryField: 'time',
				color: '#fd7d24',
				line: {
					width: 2
				}
	        }],
	        valueAxis: {
	            labels: {
	                format: '{0}',
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
				majorGridLines: {
	                visible: true,
					step: 60
	            },
				majorTicks: {
					visible: true,
					step: 60
				},
				labels: {
					visible: true,
					step: 60
				},
				baseUnit: 'minutes',
				type: 'date',
	        },
	        tooltip: {
				shared: true,
	            visible: true,
				sharedTemplate: Object(_chart_utils__WEBPACK_IMPORTED_MODULE_0__["getUserCountSharedTemplate"])('dd MMM HH:mm'),
				background: '#e4e4e4'
	        }
	    }).data('kendoChart');
	}

	redraw()
	{
		this._chartWidget.redraw();
	}

	set range(values)
	{
		this._range = values;

		this._updateXAxisLimits();
	}

	get range()
	{
		return this._range;
	}

	addHistoryEntries(userCountData, samplingRateSeconds)
	{
		let date = new Date();
		let start = moment__WEBPACK_IMPORTED_MODULE_1__(date);
		start.subtract((samplingRateSeconds * userCountData.length), 's')

		let dataSource = new kendo.data.DataSource();

		for (let i = 1; i < userCountData.length; i++)
		{
			let date = start.clone();
			date.add(i * samplingRateSeconds, 's');

			this.addEntry(userCountData[i], dataSource, date.toDate(), false);
		}

		// Assign datasource to chart
		this._chartWidget.setDataSource(dataSource);

		// Update axis
		this._updateXAxisLimits();
	}

	addEntry(userCount, dataSource = null, date = null, updateAxis = true)
	{
		if (date == null)
			date = new Date();

		let newEntry = {
			time: date,
			users: userCount
		};

		// Add entry to data source
		if (dataSource == null)
			dataSource = this._dataSource;

		dataSource.add(newEntry);

		if (updateAxis)
			this._updateXAxisLimits();
	}

	_updateXAxisLimits()
	{
		let ds = this._dataSource;

		if (ds.total() > 0)
		{
			const chartMinimum = moment__WEBPACK_IMPORTED_MODULE_1__(this._lastDate).add(this._range[0], 'h');
			const chartMaximum = moment__WEBPACK_IMPORTED_MODULE_1__(this._lastDate).add(this._range[1], 'h');

			this._chartWidget.options.categoryAxis.min = chartMinimum.toDate();
			this._chartWidget.options.categoryAxis.max = chartMaximum.toDate();

			this._chartWidget.redraw();
		}
	}

	get _dataSource()
	{
		return this._chartWidget.dataSource;
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('user-count-chart'))
	window.customElements.define('user-count-chart', UserCountChart);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/module-specific/match-expression-builder.js":
/*!********************************************************************!*\
  !*** ./src/components/module-specific/match-expression-builder.js ***!
  \********************************************************************/
/*! exports provided: MatchExpressionBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchExpressionBuilder", function() { return MatchExpressionBuilder; });
class MatchExpressionBuilder extends HTMLElement
{
	constructor()
	{
	    super();

		this.EXPRESSION_UPDATED_EVENT = 'expressionUpdated';

		this._dialog = $(`
			<div class="modal" id="matchExprBuilderModal" tabindex="-1" role="dialog" aria-labelledby="matchExprBuilderModalTitle" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title text-primary" id="matchExprBuilderModalTitle">...</h5>
						</div>
						<div class="modal-body p-0">
							<form class="bg-color-default p-3">
								<div class="d-inline-flex align-items-center radio-button-group inline-form-groups">
									<div class="custom-control custom-radio custom-control-inline mr-2">
										<input type="radio" id="andOperatorRB" name="operatorRBG" class="custom-control-input" value="AND" checked disabled>
										<label class="custom-control-label" for="andOperatorRB">AND</label>
									</div>
									<div class="custom-control custom-radio custom-control-inline mr-2">
										<input type="radio" id="orOperatorRB" name="operatorRBG" class="custom-control-input" value="OR" disabled>
										<label class="custom-control-label" for="orOperatorRB">OR</label>
									</div>
								</div>
								<div class="d-inline-block">
									<div class="inline-form-groups my-1">
										<input id="varNameCB"/>
									</div>
									<div class="inline-form-groups my-1">
										<input id="typeDD" class="matchTypeDropdown"/>
										<input id="conditionDD" class="matchConditionDropdown"/>
									</div>
								</div>
								<div class="d-inline inline-form-groups">
									<input id="valueIn" class="k-textbox mt-1" placeholder="Value"/>
									<button id="matchExprAddBt" type="button" class="k-button k-secondary mt-1"><i class="fas fa-plus mr-1"></i>Add</button>
								</div>
							</form>

							<div id="matchExprGrid" class="m-3"></div>
						</div>
						<div class="modal-footer d-flex">
							<div class="flex-grow-1 text-left">
								<button id="matchExprApplyBt" type="button" class="k-button k-primary mr-2"><i class="fas fa-check-circle mr-1"></i>Apply</button>
							</div>
							<div class="flex-grow-1 text-right">
								<button id="matchExprRemoveBt" type="button" class="k-button k-secondary" disabled><i class="fas fa-minus-circle mr-1"></i>Remove selected</button>
								<button id="matchExprClearBt" type="button" class="k-button k-secondary"><i class="fas fa-times-circle mr-1"></i>Clear all</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		`);

		$('#matchExprAddBt', this._dialog).on('click', $.proxy(this._onAddBtClick, this));
		$('#matchExprApplyBt', this._dialog).on('click', $.proxy(this._onApplyBtClick, this));
		$('#matchExprRemoveBt', this._dialog).on('click', $.proxy(this._onRemoveBtClick, this));
		$('#matchExprClearBt', this._dialog).on('click', $.proxy(this._onClearBtClick, this));

		// INITIALIZE FORM ITEMS

		this._varNameCb = $('#varNameCB', this._dialog).kendoComboBox({
			dataTextField: 'label',
			dataValueField: 'value',
			placeholder: 'Variable name',
		}).data('kendoComboBox');

		// Set types dropdown data source
		// NOTE: in order to avoid XxxMatch objects to be wrapped by Kendo data source, we have to pass them using _ property names
		let typeDS = [];

		// Boolean ----------------
		typeDS.push({
			label: 'Boolean',
			_value: SFS2X.BoolMatch.EQUALS,
			conditions: [
				{
					label: SFS2X.BoolMatch.EQUALS.symbol,
					_value: SFS2X.BoolMatch.EQUALS,
				},
				{
					label: SFS2X.BoolMatch.NOT_EQUALS.symbol,
					_value: SFS2X.BoolMatch.NOT_EQUALS,
				}
			]
		});

		// Number ----------------
		typeDS.push({
			label: 'Number',
			_value: SFS2X.NumberMatch.EQUALS,
			conditions: [
				{
					label: SFS2X.NumberMatch.EQUALS.symbol,
					_value: SFS2X.NumberMatch.EQUALS,
				},
				{
					label: SFS2X.NumberMatch.NOT_EQUALS.symbol,
					_value: SFS2X.NumberMatch.NOT_EQUALS,
				},
				{
					label: SFS2X.NumberMatch.GREATER_THAN.symbol,
					_value: SFS2X.NumberMatch.GREATER_THAN,
				},
				{
					label: SFS2X.NumberMatch.LESS_THAN.symbol,
					_value: SFS2X.NumberMatch.LESS_THAN,
				},
				{
					label: SFS2X.NumberMatch.GREATER_THAN_OR_EQUAL_TO.symbol,
					_value: SFS2X.NumberMatch.GREATER_THAN_OR_EQUAL_TO,
				},
				{
					label: SFS2X.NumberMatch.LESS_THAN_OR_EQUAL_TO.symbol,
					_value: SFS2X.NumberMatch.LESS_THAN_OR_EQUAL_TO,
				}
			]
		});

		// String ----------------
		typeDS.push({
			label: 'String',
			_value: SFS2X.StringMatch.EQUALS,
			conditions: [
				{
					label: SFS2X.StringMatch.EQUALS.symbol,
					_value: SFS2X.StringMatch.EQUALS,
				},
				{
					label: SFS2X.StringMatch.NOT_EQUALS.symbol,
					_value: SFS2X.StringMatch.NOT_EQUALS,
				},
				{
					label: SFS2X.StringMatch.CONTAINS.symbol,
					_value: SFS2X.StringMatch.CONTAINS,
				},
				{
					label: SFS2X.StringMatch.STARTS_WITH.symbol,
					_value: SFS2X.StringMatch.STARTS_WITH,
				},
				{
					label: SFS2X.StringMatch.ENDS_WITH.symbol,
					_value: SFS2X.StringMatch.ENDS_WITH,
				}
			]
		});

		this._typeDd = $('#typeDD', this._dialog).kendoDropDownList({
			dataSource: typeDS,
			dataTextField: 'label',
			dataValueField: '_value',
			optionLabel: {
				label: 'Type',
				_value: ''
			},
			optionLabelTemplate: '<span class="text-muted">#:label#</span>',
			change: $.proxy(function() {
				if (this._typeDd && this._typeDd.select())
				{
					let selectedType = this._typeDd.dataItem(this._typeDd.select());
					this._conditionDd.setDataSource(selectedType.conditions);
					this._conditionDd.select(1);
				}
			}, this)
		}).data('kendoDropDownList');

		this._conditionDd = $('#conditionDD', this._dialog).kendoDropDownList({
			dataTextField: 'label',
			dataValueField: '_value',
			optionLabel: {
				label: 'Condition',
				_value: ''
			},
			optionLabelTemplate: '<span class="text-muted">#:label#</span>',
		}).data('kendoDropDownList');

		this._valueIn = $('#valueIn', this._dialog);

		// INITIALIZE GRID

		this._grid = $('#matchExprGrid', this._dialog).kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: 'row',
			change: $.proxy(this._onGridSelectionChange, this),
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'operator',
					title: 'Operator',
					width: 90
				},
				{
					field: 'label',
					title: 'Name',
					width: 120
				},
				{
					field: 'typeLabel',
					title: 'Type',
					width: 85
				},
				{
					field: 'symbol',
					title: 'Condition',
					width: 95
				},
				{
					field: 'value',
					title: 'Value',
					width: 200
				},
			]
		}).data('kendoGrid');
	}

	get title()
	{
		return $('#matchExprBuilderModalTitle', this._dialog).text();
	}

	set title(value)
	{
		$('#matchExprBuilderModalTitle', this._dialog).text(value);
	}

	get predefinedVarNames()
	{
		return this._predefinedVarNames;
	}

	set predefinedVarNames(value)
	{
		this._predefinedVarNames = value;

		this._varNameCb.setDataSource(value);
	}

	get filterExpression()
	{
		return this._filterExpression;
	}

	show()
	{
		this._dialog.modal({
			backdrop: 'static',
			keyboard: false,
			show: true
		});
	}

	_onGridSelectionChange()
	{
		let selectedRows = this._grid.select();
		let selectedDataItems = [];

		for (let i = 0; i < selectedRows.length; i++)
		{
			let dataItem = this._grid.dataItem(selectedRows[i]);
			selectedDataItems.push(dataItem);
		}

		// Enable/disable remove button
		$('#matchExprRemoveBt', this._dialog).attr('disabled', selectedDataItems.length == 0);
	}

	_onAddBtClick()
	{
		if (this._varNameCb.value() != '' && this._typeDd.select())
		{
			// Variable name and label
			let varName, varLabel;

			if (this._varNameCb.select() > -1)
			{
				let dataItem = this._varNameCb.dataItem(this._varNameCb.select());
				varName = dataItem.value;
				varLabel = dataItem.label;
			}
			else
				varName = varLabel = this._varNameCb.value();

			// Variable type's label
			let typeLabel = this._typeDd.dataItem(this._typeDd.select()).label;

			// Match condition
			let condition = this._conditionDd.dataItem(this._conditionDd.select())._value;

			// Expression operator
			let operator = this._grid.dataSource.total() > 0 ? $('input[name=operatorRBG]:checked', this._dialog).val() : null;

			// Variable value
			let val = this._valueIn.val();
			let varValue;

			if (condition instanceof SFS2X.BoolMatch)
				varValue = (val == 'true' ? true : false);
			else if (condition instanceof SFS2X.NumberMatch)
				varValue = (isNaN(Number(val)) ? 0 : Number(val));
			else
				varValue = val;

			// Add item to grid
			let exprPart = this._getExpressionPart(varLabel, varName, varValue, typeLabel, condition, operator);
			this._grid.dataSource.add(exprPart);

			// Reset inputs
			this._varNameCb.value('');
			this._valueIn.val('');

			// Enable operator radio buttons
			this._enableOperatorRb(true);
		}
	}

	_onApplyBtClick()
	{
		// Hide dialog
		this._dialog.modal('hide');

		// Clear grid selection
		this._grid.clearSelection();

		// Build final match expression
		this._filterExpression = null;

		if (this._grid.dataSource.total() > 0)
		{
			let expPart = this._grid.dataSource.at(0);
			this._filterExpression = new SFS2X.MatchExpression(expPart.name, expPart._condition, expPart.value);

			for (let i = 1; i < this._grid.dataSource.total(); i++)
			{
				expPart = this._grid.dataSource.at(i);

				if (expPart.operator == SFS2X.LogicOperator.AND.id)
					this._filterExpression = this._filterExpression.and(expPart.name, expPart._condition, expPart.value);
				else if (expPart.operator == SFS2X.LogicOperator.OR.id)
					this._filterExpression = this._filterExpression.or(expPart.name, expPart._condition, expPart.value);
			}
		}

		// Fire event
		let evt = new CustomEvent(this.EXPRESSION_UPDATED_EVENT, {
		    	detail: null,
				bubbles: false,
				cancelable: false
			});

		this.dispatchEvent(evt);
	}

	_onRemoveBtClick()
	{
		let dataItem = this._grid.dataItem(this._grid.select());
		this._grid.dataSource.remove(dataItem);

		// Clear grid selection
		this._grid.clearSelection();

		if (this._grid.dataSource.total() == 0)
		{
			// Disable operator radio buttons
			this._enableOperatorRb(false);
		}
		else
		{
			// Reset operator on first entry
			this._grid.dataSource.at(0).operator = null;
			this._grid.refresh();
		}
	}

	_onClearBtClick()
	{
		// Reset form
		$('#andOperatorRB', this._dialog).attr('checked', true);
		$('#orOperatorRB', this._dialog).attr('checked', false);
		this._enableOperatorRb(false);

		this._varNameCb.value('');
		this._typeDd.select(0);
		this._conditionDd.select(0);

		this._valueIn.val('');

		// Clear grid selection
		this._grid.clearSelection();

		// Clear table
		this._grid.setDataSource([]);
	}

	_getExpressionPart(varLabel, varName, varValue, typeLabel, condition, operator)
	{
		return {
			'label': varLabel,
			'name': varName,
			'value': varValue,
			'typeLabel': typeLabel,
			'symbol': condition.symbol,
			'operator': operator,
			'_condition': condition,
		};
	}

	_enableOperatorRb(enable)
	{
		$('#andOperatorRB', this._dialog).attr('disabled', !enable);
		$('#orOperatorRB', this._dialog).attr('disabled', !enable);
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('match-expression-builder'))
	window.customElements.define('match-expression-builder', MatchExpressionBuilder);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/sidebar-layout.js":
/*!******************************************!*\
  !*** ./src/components/sidebar-layout.js ***!
  \******************************************/
/*! exports provided: SidebarLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidebarLayout", function() { return SidebarLayout; });
class SidebarLayout extends HTMLElement
{
	constructor()
	{
	    super();

		// Attach a shadow root
		const shadowRoot = this.attachShadow({mode: 'open'});
		shadowRoot.innerHTML = `
			<style>
				:host {
					display: flex;
					flex-direction: row;
				}

				@media (max-width: 575.98px) {
					:host(.split-xs) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-xs) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				@media (max-width: 767.98px) {
					:host(.split-sm) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-sm) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				@media (max-width: 991.98px) {
					:host(.split-md) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-md) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				@media (max-width: 1199.98px) {
					:host(.split-lg) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-lg) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				.side-col::slotted(*) {
				}

				.main-col::slotted(*) {
					flex-grow: 1;
				}
			</style>

			<slot class="side-col" name="side-column"></slot>
			<slot class="main-col" name="main-column"></slot>
		`;

		// Set initial selection
		this.selectedIndex = 0;
	}

	get selectedPanel()
	{
		return this._selectedPanel;
	}

	set selectedPanel(element) // 'side' or 'main'
	{
		if (element != null && element.parentNode == this)
		{
			this._selectedPanel = element;

			for (let element of this.children)
			{
				if (element == this._selectedPanel)
					element.setAttribute('aria-selected', 'true');
				else
					element.removeAttribute('aria-selected');
			}
		}
		else
		{
			console.error('Element is not a child of SidebarLayout');
		}
	}

	get selectedIndex()
	{
		return Array.from(this.children).indexOf(this._selectedPanel);
	}

	set selectedIndex(index)
	{
		if (this.children.length > 0)
		{
			if (this.children[index] == null)
			{
				console.error('Invalid SidebarLayout index');
				return;
			}

			let element = this.children[index];
			this.selectedPanel = element;
		}
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('sidebar-layout'))
	window.customElements.define('sidebar-layout', SidebarLayout);


/***/ }),

/***/ "./src/modules/zone-monitor.js":
/*!*************************************!*\
  !*** ./src/modules/zone-monitor.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZoneMonitor; });
/* harmony import */ var _base_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-module */ "./src/modules/base-module.js");
/* harmony import */ var _components_sidebar_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/sidebar-layout */ "./src/components/sidebar-layout.js");
/* harmony import */ var _components_module_specific_match_expression_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/module-specific/match-expression-builder */ "./src/components/module-specific/match-expression-builder.js");
/* harmony import */ var _utils_uibuilder_config_interface_builder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/uibuilder/config-interface-builder */ "./src/utils/uibuilder/config-interface-builder.js");
/* harmony import */ var _utils_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/utilities */ "./src/utils/utilities.js");
/* harmony import */ var _utils_match_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/match-properties */ "./src/utils/match-properties.js");
/* harmony import */ var _components_charts_user_count_chart__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/charts/user-count-chart */ "./src/components/charts/user-count-chart.js");
/* harmony import */ var _components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/charts/chart-utils */ "./src/components/charts/chart-utils.js");









class ZoneMonitor extends _base_module__WEBPACK_IMPORTED_MODULE_0__["BaseModule"]
{
	constructor()
	{
	    super('zoneMonitor');

		this.MONITORED_TYPE_ZONE = 'zone';
		this.MONITORED_TYPE_ROOM = 'room';
		this.MONITORED_TYPE_USER = 'user';

		this.ANY_LABEL = '[any]';
		this.DEFAULT_GROUP_NAME = 'default';
		this.MAX_EXTENSION_LOG_SIZE = 300;
		this.KICK_BAN_DEFAULT_DELAY = 5;

		// Outgoing requests
		this.REQ_GET_DATA = 'getData';
		this.REQ_SET_ZONE_SETTINGS = 'setZoneSettings';
		this.REQ_SET_ROOM_SETTINGS = 'setRoomSettings';
		this.REQ_SET_USER_SETTINGS = 'setUserSettings';
		this.REQ_RELOAD_ZONE_EXT = 'reloadZoneExt';
		this.REQ_RELOAD_WORDS = 'reloadWords';
		this.REQ_DISCONNECT_USER = 'disconnUser';
		this.REQ_KICK_USER = 'kickUser';
		this.REQ_BAN_USER = 'banUser';
		this.REQ_GET_ROOM_CONFIG = 'getRoomConfig';
		this.REQ_CREATE_ROOM = 'createRoom';
		this.REQ_REMOVE_ROOM = 'removeRoom';
		this.REQ_ADMIN_MSG = 'adminMsg';

		// Incoming responses
		this.RESP_DATA = 'data';
		this.RESP_UNEXPECTED_ERROR = 'unexpError';
		this.RESP_UPDATE_ERROR = 'updateError';
		this.RESP_ROOM_CONFIG = 'roomConfig';
		this.RESP_ROOM_CONFIG_ERROR = 'roomConfigErr';
		this.RESP_ROOM_CREATED = 'roomCreated';
		this.RESP_ROOM_CREATION_ERROR = 'roomError';
		this.RESP_LOG_MESSAGES = 'log'; // This response doesn't have a corresponding request because it is managed by a server event listener

		this._currentRequestId = -1;
	}

	//------------------------------------
	// COMMON MODULE INTERFACE METHODS
	// This members are used by the main controller
	// to communicate with the module's controller.
	//------------------------------------

	initialize(idData, shellController)
	{
		// Call super method
		super.initialize(idData, shellController);

		// Set monitoring interface
		this._setMonitoringInterface();

		// Initialize progress bar
		$('#znm-progressBar').kendoProgressBar({
			min: 0,
            max: 100,
			value: false,
            type: 'value',
            animation: {
                duration: 400
            }
        });

		// LISTS

		// Initialize interval dropdown
		this._intervalDropDown = $('#znm-intervalDD').kendoDropDownList({
			valueTemplate: '<span class="text-muted pr-1">Interval:</span><span>#:data.text#</span>',
			change: $.proxy(this._onUpdateIntervalChange, this)
		}).data('kendoDropDownList');

		// Initialize pane bar
		this._accordion = $('#znm-panelbar').kendoPanelBar({
            expandMode: 'single',
			change: $.proxy(this._onEntitiesPanelChange, this)
        }).data('kendoPanelBar');

		// Initialize lists
		this._zoneListBox = $("#znm-zoneList").kendoListBox({
			template: '<div>#:data.name# (#:data.users#)</div>',
			change: $.proxy(this._onZoneSelected, this)
		}).data('kendoListBox');

		this._zoneListBox.wrapper.find('.k-list').on('dblclick', '.k-item', $.proxy(this._onMonitorSelectionBtClick, this));

		this._roomListBox = $("#znm-roomList").kendoListBox({
			template: '<div>#:data.name# (#:data.users#)</div>',
			change: $.proxy(this._onRoomSelected, this)
		}).data('kendoListBox');

		this._roomListBox.wrapper.find('.k-list').on('dblclick', '.k-item', $.proxy(this._onMonitorSelectionBtClick, this));

		this._userListBox = $("#znm-userList").kendoListBox({
			template: '<div>#:data.name#</div>',
			change: $.proxy(this._onUserSelected, this)
		}).data('kendoListBox');

		this._userListBox.wrapper.find('.k-list').on('dblclick', '.k-item', $.proxy(this._onMonitorSelectionBtClick, this));

		// Initialize Room Groups dropdown
		this._groupsDropDown = $('#znm-roomGroupsDD').kendoDropDownList({
			dataTextField: 'label',
  			dataValueField: 'name',
			change: $.proxy(this._onGroupChange, this)
		}).data('kendoDropDownList');

		// Build initial groups list
		this._setGroupsDataProvider(null);

		// // Create interface builder instances
		this._interfaceBuilder = new _utils_uibuilder_config_interface_builder__WEBPACK_IMPORTED_MODULE_3__["ConfigInterfaceBuilder"]();
		this._roomCreationIBuilder = new _utils_uibuilder_config_interface_builder__WEBPACK_IMPORTED_MODULE_3__["ConfigInterfaceBuilder"]();

		// Add listener to show limit warning tooltips
		$('#znm-panelbar').kendoTooltip({
			filter: 'i[title].limit-warning',
			position: 'right',
			width: '250px',
			content: function(e) {
				return `<div class="help-tooltip">${e.target.data('title')}</div>`;
			}
		});

		// ROOM CREATION PANEL

		// Add click listener to Create & Remove Room buttons
		$('#znm-createRoomBt').on('click', $.proxy(this._onCreateRoomBtClick, this));
		$('#znm-removeRoomBt').on('click', $.proxy(this._onRemoveRoomBtClick, this));

		// Configure room creation panel
		$('#znm-createRoomModal').modal({
			backdrop: 'static',
			keyboard: false,
			show: false,
		});

		// Add listener for room creation panel's create button click
		$('#znm-roomCreatorCreateBt').on('click', $.proxy(this._onRoomCreatorCreateBtClick, this));

		// Add listener for room creation panel hide
		$('#znm-createRoomModal').on('hidden.bs.modal', $.proxy(this._onCreateRoomModalHidden, this));

		// ROOM & USER FILTERING PANELS

		// Setup match expression builder panel for rooms
		this._roomFilter = document.getElementById('znm-roomFilter');
		this._roomFilter.title = 'Room Filter Expression Builder';
		this._roomFilter.predefinedVarNames = _utils_match_properties__WEBPACK_IMPORTED_MODULE_5__["RoomPropertiesData"].propertiesArray;
		$(this._roomFilter).on(this._roomFilter.EXPRESSION_UPDATED_EVENT, $.proxy(this._onRoomFilterUpdated, this));

		$('#znm-filterRoomBt').on('click', $.proxy(this._onShowRoomFilterBtClick, this));
		$('#znm-applyRoomFilterCB').on('change', $.proxy(this._onApplyBtChange, this));

		// Setup match expression builder panel for users
		this._userFilter = document.getElementById('znm-userFilter');
		this._userFilter.title = 'User Filter Expression Builder';
		this._userFilter.predefinedVarNames = _utils_match_properties__WEBPACK_IMPORTED_MODULE_5__["UserPropertiesData"].propertiesArray;
		$(this._userFilter).on(this._userFilter.EXPRESSION_UPDATED_EVENT, $.proxy(this._onUserFilterUpdated, this));

		$('#znm-filterUserBt').on('click', $.proxy(this._onShowUserFilterBtClick, this));
		$('#znm-applyUserFilterCB').on('change', $.proxy(this._onApplyBtChange, this));

		// MAIN CONTROLS

		$('#znm-monitorBt').on('click', $.proxy(this._onMonitorSelectionBtClick, this));
		$('#znm-sendMessageBt').on('click', $.proxy(this._onSendAdminMsgBtClick, this));
		$('#znm-messageIn').on('keyup', $.proxy(this._onSendAdminMsgInKeyUp, this));

		// MONITORING CONTROLS

		$('#znm-closeMonitorBt').on('click', $.proxy(this._onCloseMonitorBtClick, this));
		$('#znm-editBt').on('click', $.proxy(this._onEditBtClick, this));
		$('#znm-cancelBt').on('click', $.proxy(this._onCancelBtClick, this));
		$('#znm-submitBt').on('click', $.proxy(this._onSubmitBtClick, this));

		// Hide edit controls
		$('#znm-editControls').hide();

		// ZONE MONITOR ---------------------

		// Set reference to user count chart
		this._userCountChart = document.getElementById('znm-userCountChart');

		// Initialize time range slider
		this._timeSlider = $('#znm-timeSlider').kendoRangeSlider({
			min: -24,
            max: 0,
            smallStep: 1,
            largeStep: 0,
			change: $.proxy(this._onTimeRangeChange, this),
			tooltip: {
				template: Object(_components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__["getTimeRangeTooltipTemplate"])()
			},
			leftDragHandleTitle: 'Drag',
			rightDragHandleTitle: 'Drag',
		}).data('kendoRangeSlider');

		// Reset time range on user count chart
		this._onTimeRangeChange();

		// Add button click listeners
		$('#znm-reloadWordsBt').on('click', $.proxy(this._onWordsReloadBtClick, this));
		$('#znm-reloadZoneExtBt').on('click', $.proxy(this._onZoneExtReloadBtClick, this));

		// Initialize extension log grid
		this._zoneExtLogGrid = $('#znm-zoneExtLogGrid').kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: false,
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'timestamp',
					title: 'Timestamp',
					width: 180
				},
				{
					field: 'level',
					title: 'Level',
					width: 100
				},
				{
					field: 'message',
					title: 'Message',
					width: 400
				},
			],
			dataBound: function() {
			    this.content.scrollTop(this.tbody.height()); // Scroll to bottom
			}
		}).data('kendoGrid');

		// ROOM MONITOR ---------------------

		// Initialize extension log grid
		this._roomExtLogGrid = $('#znm-roomExtLogGrid').kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: false,
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'timestamp',
					title: 'Timestamp',
					width: 180
				},
				{
					field: 'level',
					title: 'Level',
					width: 100
				},
				{
					field: 'message',
					title: 'Message',
					width: 400
				},
			],
			dataBound: function() {
			    this.content.scrollTop(this.tbody.height()); // Scroll to bottom
			}
		}).data('kendoGrid');

		// USER MONITOR ---------------------

		this._kickDelayIn = $('#znm-kickDelayNS').kendoNumericTextBox({
		    min: 0,
		    step: 1,
		    format: '#',
			placeholder: 'Delay (s)'
		}).data('kendoNumericTextBox');

		this._banModeDd = $('#znm-banModeDD').kendoDropDownList({
			dataSource: ['IP', 'NAME'],
			autoWidth: true,
			optionLabel: {
				text: 'Mode'
			},
			optionLabelTemplate: '<span class="text-muted">#:text#</span>',
		}).data('kendoDropDownList');

		this._banDurUnitDd = $('#znm-banDurationUnitDD').kendoDropDownList({
			autoWidth: true,
		}).data('kendoDropDownList');

		this._banDurationIn = $('#znm-banDurationNS').kendoNumericTextBox({
		    min: 1,
		    step: 1,
		    format: '#',
			placeholder: 'Duration'
		}).data('kendoNumericTextBox');

		this._banDelayIn = $('#znm-banDelayNS').kendoNumericTextBox({
		    min: 0,
		    step: 1,
		    format: '#',
			placeholder: 'Delay (s)'
		}).data('kendoNumericTextBox');

		// Add button click listeners
		$('#znm-disconnectBt').on('click', $.proxy(this._onDisconnectBtClick, this));
		$('#znm-kickBt').on('click', $.proxy(this._onKickBtClick, this));
		$('#znm-banBt').on('click', $.proxy(this._onBanBtClick, this));

		// Charts

		this._packetQueueChart = $('#znm-packetQueueChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}%',
	                background: 'transparent',
					position: 'insideBase'
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Packet queue',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}%'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	    		max: 100
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		this._droppedMsgChart = $('#znm-droppedMsgChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}',
	                background: 'transparent',
					position: 'insideBase',
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Dropped messages',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		this._writtenDataChart = $('#znm-writtenDataChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}',
	                background: 'transparent',
					position: 'insideBase',
					template: Object(_components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__["getWRBytesLabelTemplate"])(),
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Written data',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		this._readDataChart = $('#znm-readDataChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}',
	                background: 'transparent',
					position: 'insideBase',
					template: Object(_components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__["getWRBytesLabelTemplate"])(),
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Read data',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		//-------------------------------

		// Add listener to redraw all charts in case of window resize
		$(window).on('resize', $.proxy(this._onWindowResize, this));
		this._onWindowResize(); // Also do it immediately

		// Request data to server
		this._requestData(true);
	}

	destroy()
	{
		// Call super method
		super.destroy();

		// Close monitoring
		this._onCloseMonitorBtClick();

		// Remove doubleclick event listeners
		this._zoneListBox.wrapper.find('.k-list').off('dblclick');
		this._roomListBox.wrapper.find('.k-list').off('dblclick');
		this._userListBox.wrapper.find('.k-list').off('dblclick');

		// Remove other event listeners
		$('#znm-createRoomBt').off('click');
		$('#znm-removeRoomBt').off('click');
		$('#znm-roomCreatorCreateBt').off('click');
		$('#znm-filterRoomBt').off('click');
		$('#znm-applyRoomFilterCB').off('change');
		$('#znm-filterUserBt').off('click');
		$('#znm-applyUserFilterCB').off('change');
		$('#znm-monitorBt').off('click');
		$('#znm-sendMessageBt').off('click');
		$('#znm-messageIn').off('keyup');
		$('#znm-closeMonitorBt').off('click');
		$('#znm-editBt').off('click');
		$('#znm-cancelBt').off('click');
		$('#znm-submitBt').off('click');
		$(window).off('resize');
		$('#znm-reloadWordsBt').off('click');
		$('#znm-reloadZoneExtBt').off('click');
		$('#znm-disconnectBt').off('click');
		$('#znm-kickBt').off('click');
		$('#znm-banBt').off('click');

		// Clear request scheduling
		clearTimeout(this._requestTimer);

		// Hide room creation panel
		$('#znm-createRoomModal').modal('hide');

		// Remove room creation panel listener
		$('#znm-createRoomModal').off('hidden.bs.modal');

		// Remove filter panels listeners
		$(this._roomFilter).off(this._roomFilter.EXPRESSION_UPDATED_EVENT);
		$(this._userFilter).off(this._userFilter.EXPRESSION_UPDATED_EVENT);
	}

	onExtensionCommand(command, data)
	{
		// Data received
		if (command == this.RESP_DATA)
		{
			// We have to check if the response id corresponds to the current request id;
			// if not, the response is discarded as it refers to an outdatet request
			const responseId = data.getInt('id');

			if (responseId == this._currentRequestId)
			{
				// --- ZONES LIST ---
				if (data.containsKey('zones'))
				{
					this._setZonesDataProvider(data.getSFSArray('zones'));

					if (this._selectedZone)
						this._setScopeLabel();
				}

				// --- ROOMS LIST ---
				if (data.containsKey('rooms'))
				{
					this._setGroupsDataProvider(data.getUtfStringArray('groups'));

					// -------------------------------

					// If a null rooms list is returned, the zone must have been deleted!
					if (!data.isNull('rooms'))
					{
						this._setRoomsDataProvider(data.getSFSArray('rooms'));

						if (!this._selectedRoom)
							this._setScopeLabel();

						// -------------------------------

						// Show warning if the rooms list exceeds the server-side limit
						if (data.containsKey('rSize'))
							this._showLimitExceededWarning($('#znm-roomListWarning'), 'The received list is incomplete, because its size (' + data.getInt('rSize') + ' Rooms) exceeded this client\'s limit of ' + data.getInt('rLimit') + '; you should refine your search');
						else
							this._showLimitExceededWarning($('#znm-roomListWarning'), '');
					}
					else
					{
						if (this._activePanelType == 'room')
						{
							this._accordion.select('[data-item-type="zone"]');
							this._accordion.expand('[data-item-type="zone"]');
							this._onZoneSelected();
							this._onEntitiesPanelChange();
						}
					}
				}

				// --- USERS LIST ---
				if (data.containsKey('users'))
				{
					// If a null users list is returned, the room must have been deleted!
					if (!data.isNull('users'))
					{
						this._setUsersDataProvider(data.getSFSArray('users'));

						// Show warning if the users list exceeds the server-side limit
						if (data.containsKey('uSize'))
							this._showLimitExceededWarning($('#znm-userListWarning'), 'The received list is incomplete, because its size (' + data.getInt('uSize') + ' users) exceeds this client\'s limit of ' + data.getInt('uLimit') + '; you should refine your search');
						else
							this._showLimitExceededWarning($('#znm-userListWarning'), '');
					}
					else
					{
						if (this._activePanelType == 'user')
						{
							this._accordion.select('[data-item-type="room"]');
							this._accordion.expand('[data-item-type="room"]');
							this._onRoomSelected();
							this._onEntitiesPanelChange();
						}
					}
				}

				// --- MONITORED DATA ---
				if (data.containsKey('monitored'))
				{
					const zone = data.getSFSObject('monitored').getUtfString('zone');
					const type = data.getSFSObject('monitored').getUtfString('type');
					const name = data.getSFSObject('monitored').getUtfString('name');

					if (zone == this._monitoredZone && type == this._monitoredType && name == this._monitoredName)
					{
						if (!data.getSFSObject('monitored').isNull('params'))
						{
							const params = data.getSFSObject('monitored').getSFSArray('params');

							this._setMonitoringInterface();

							// Build interface
							if (!this._isEditing)
							{
								this._interfaceBuilder.buildInterface(params, `znm-${this._monitoredType}TabNavigator`, true);

								if (!this._skipInitTabs)
								{
									$(`#znm-${this._monitoredType}TabNavigator #tabs`).scrollingTabs({
										bootstrapVersion: 4,
										scrollToTabEdge: true,
										enableSwiping: true,
										disableScrollArrowsOnFullyScrolled: true,
										cssClassLeftArrow: 'fa fa-chevron-left',
										cssClassRightArrow: 'fa fa-chevron-right'
									});

									this._skipInitTabs = true;

									// Set first tab panel as active
									this._interfaceBuilder.activateFirstTabPanel();

									// Redraw time range slider to set its width
									this._timeSlider.resize();

									// Add listener to redraw all charts on tab change
									// (to work around an issue with the chart resizing to default width when pane is hidden)
									$('a[data-toggle="tab"]').on('shown.bs.tab', $.proxy(this._onWindowResize, this));
								}
							}

							// Disable categories
							let disabledCat = (data.getSFSObject('monitored').containsKey('exclude') ? data.getSFSObject('monitored').getUtfStringArray('exclude') : []);

							for (let cat of disabledCat)
							{
								let navLink = $(`#znm-${this._monitoredType}TabNavigator #tabs #tab-${cat}`);

								navLink.addClass('disabled');
								navLink.attr('tabindex', -1);
								navLink.attr('aria-disabled', true);
							}

							if (this._monitoredType == this.MONITORED_TYPE_ZONE)
								this._showZoneTrafficData(data.getSFSObject('monitored').getSFSObject('traffic'));

							if (this._monitoredType == this.MONITORED_TYPE_USER)
							{
								// Stats
								this._showUserStatsData(data.getSFSObject('monitored').getSFSObject('stats'));

								// NPC
								const isNpc = data.getSFSObject('monitored').getBool('npc');

								// Disable disconnect, kick and ban buttons
								$('#znm-disconnectBt').attr('disabled', isNpc);
								$('#znm-kickBt').attr('disabled', isNpc);
								$('#znm-banBt').attr('disabled', isNpc);

								// Geo-location
								const geoLocData = data.getSFSObject('monitored').getSFSObject('geoLoc');
								this._setGeoLocationUI(geoLocData);
							}
						}
						else
						{
							// Show alert
							this.shellCtrl.showSimpleAlert(`The ${Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._monitoredType)} being monitored is no more available on the server, please select another one.`, false);

							// Cancel monitoring
							this._onCloseMonitorBtClick();
						}
					}
				}
			}
		}

		else if (command == this.RESP_UPDATE_ERROR)
		{
			if (data.getUtfString('zone') == this._monitoredZone
				&& data.getUtfString('type') ==  this._monitoredType
				&& data.getUtfString('name') ==  this._monitoredName)
			{
				// Show alert
				this.shellCtrl.showSimpleAlert(`Unable to update ${Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._monitoredType)} settings; the following error was reported: ${data.getUtfString('message')}.`);
			}
		}

		else if (command == this.RESP_ROOM_CONFIG)
		{
			// Re-enable Create button
			$('#znm-createRoomBt').attr('disabled', false);

			// Show Room creation panel
			this._showRoomCreationPanel(data.getSFSArray('settings'));
		}

		else if (command == this.RESP_ROOM_CONFIG_ERROR)
		{
			// Re-enable Create button
			$('#znm-createRoomBt').attr('disabled', false);

			// Show an alert
			this.shellCtrl.showSimpleAlert(data.getUtfString('error'));
		}

		else if (command == this.RESP_ROOM_CREATED)
		{
			// Re-enable room creation panel
			this._enableCreateRoomPanel(true);

			// Hide room creation panel
			$('#znm-createRoomModal').modal('hide');

			// Update rooms list
			this._requestData(true);
		}

		else if (command == this.RESP_ROOM_CREATION_ERROR)
		{
			// Display error message
			$('#znm-createRoomError').text(data.getUtfString('error'));
			$('#znm-createRoomError').show();

			// Re-enable room creation panel
			this._enableCreateRoomPanel(true);
		}

		// Unexpected error received
		// This error is returned in case something went wrong when retrieving the monitored entity parameters,
		// so we have to stop requesting the same entity
		else if (command == this.RESP_UNEXPECTED_ERROR)
		{
			// Cancel monitoring
			this._onCloseMonitorBtClick();

			// Show an alert
			this.shellCtrl.showSimpleAlert(data.getUtfString('error'));
		}

		// Extension (Zone or Room) log messages received
		else if (command == this.RESP_LOG_MESSAGES)
		{
			let logEntries = data.getSFSArray('entries');

			for (let e = 0; e < logEntries.size(); e++)
			{
				let logEntry = logEntries.getSFSObject(e);

				const logZone = logEntry.getUtfString('zone');
				const logRoom = logEntry.getUtfString('room');

				// Check if the zone is currently monitored
				if (this._monitoredZone == logZone)
				{
					// console.log(logEntry.getLong('time'))
					// console.log(new Date(logEntry.getLong('time'))

					let ele = {
						timestamp: kendo.toString(new Date(logEntry.getLong('time')), 'dd/MM/yyyy HH:mm:ss'),
						level: logEntry.getUtfString('level'),
						message: logEntry.getUtfString('msg'),
					};

					if (this._monitoredType == this.MONITORED_TYPE_ZONE && logRoom == '')
					{
						// Add to zone extension log
						this._addLogEntryToGrid(this._zoneExtLogGrid, ele);
					}
					else
					{
						if (this._monitoredType == this.MONITORED_TYPE_ROOM && this._monitoredName == logRoom)
						{
							// Add to room extension log
							this._addLogEntryToGrid(this._roomExtLogGrid, ele);
						}
					}
				}
			}
		}
	}

	//---------------------------------
	// UI EVENT LISTENERS
	//---------------------------------

	_onUpdateIntervalChange()
	{
		// Request data to server
		this._requestData(false);
	}

	_onEntitiesPanelChange()
	{
		// Set main controls state
		this._setMainControlsEnabled();

		// Request data to server
		this._requestData(true);
	}

	/**
	 * Update the Scope label in the Rooms panel.
	 */
	_onZoneSelected()
	{
		// Clear Room and User lists
		this._resetRoomList();
		this._resetUserList();

		// Set scope label
		this._setScopeLabel();

		// Enable/disable Room and User tools
		const disabled = this._selectedZone == undefined;

		// (NOTE: this enables/disables whole fieldset; this doesn't affect Kendo DropDown, so we have to do it manually)
		$('#roomTools').attr('disabled', disabled);
		$('#userTools').attr('disabled', disabled);

		this._groupsDropDown.enable(!disabled);

		// Set main controls state
		this._setMainControlsEnabled();
	}

	/**
	 * Update the Scope label in the Users panel.
	 */
	_onRoomSelected()
	{
		// Clear User list
		this._resetUserList();

		// Set scope label
		this._setScopeLabel();

		// Enable Remove button
		$('#znm-removeRoomBt').attr('disabled', this._selectedRoom == undefined);

		// Set main controls state
		this._setMainControlsEnabled();
	}

	/**
	 * Update the scope label in the Users panel.
	 */
	_onGroupChange()
	{
		// Clear Room and User lists
		this._resetRoomList();
		this._resetUserList();

		// Set scope label
		this._setScopeLabel();

		// Request data to server
		this._requestData(true);

		// Set main controls state
		this._setMainControlsEnabled();
	}

	_onUserSelected()
	{
		// Set main controls state
		this._setMainControlsEnabled();
	}

	/**
	 * Show room creation panel.
	 */
	_onCreateRoomBtClick()
	{
		// Disable Create button
		$('#znm-createRoomBt').attr('disabled', true);

		// Request default room settings to extension
		this.sendExtensionRequest(this.REQ_GET_ROOM_CONFIG);
	}

	/**
	 * Remove existing room.
	 */
	_onRemoveRoomBtClick()
	{
		this.shellCtrl.showConfirmWarning('Are you sure you want to remove the selected Room?', $.proxy(this._onRemoveRemoveConfirm, this));
	}

	_onRemoveRemoveConfirm()
	{
		const selectedZone = this._zoneListBox.dataItem(this._zoneListBox.select());
		let selectedRoom = this._roomListBox.dataItem(this._roomListBox.select());

		if (selectedRoom)
		{
			// Send request to server
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', selectedZone.name);
			params.putUtfString('room', selectedRoom.name);

			this.sendExtensionRequest(this.REQ_REMOVE_ROOM, params);

			// Request data to server to update the rooms list
			this._requestData(true);
		}
	}

	/**
	 * Remove content of room creation panel.
	 */
	_onCreateRoomModalHidden(e)
	{
		// If a nested modal is opened, its closing causes the parent modal to be closed too (Bootstrap doesn't support nested modals)
		// As a workaround, here we reset the css class 'modal-open' when the nested modal is closed and skip everything else
		// In addition we had to use a custom listener on the close/cancel buttons of the nested modal (see config-grid.js for example)
		if (e.target !== document.getElementById('znm-createRoomModal'))
		{
			$('body').addClass('modal-open')
			return;
		}

		// Destroy scrolling tabs in room creation panel
		$('#znm-roomCreatorTabNav #tabs').scrollingTabs('destroy');

		// Remove all tab navigator content
		this._roomCreationIBuilder.destroyInterface();

		// Remove listener for custom actions triggered by configuration interface
		$('#znm-roomCreatorTabNav').off('value-set');

		// Reset and hide error message
		this._resetRoomCreationError();
	}

	_onConfigValueSet(e) // SAME METHOD DUPLICATED IN zone-configurator.js
	{
		const configParam = e.target.data;

		// Handle extension name/type dropdowns update and update the main class dropdown datasource accordingly
		if (configParam.name == 'extension.name' || configParam.name == 'extension.type' || configParam.name == 'extension.filterClass')
		{
			// All involved ConfigFormItems must be available and initialized to proceed
			const nameFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.name');
			const typeFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.type');
			const classFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.file');
			const filterFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.filterClass');

			if (nameFormItem != null && typeFormItem != null && classFormItem != null && filterFormItem != null)
			{
				const source = nameFormItem.data;
				let classesList = [];

				let data = source.triggerData;
				for (let i = 0; i < data.size(); i++)
				{
					let ext = data.getSFSObject(i);

					if (ext.getUtfString('name') == nameFormItem.data.value && ext.getUtfString('type') == typeFormItem.data.value)
					{
						let classes = ext.getUtfString('classesString').split(',');

						if (filterFormItem.data.value == true)
						{
							let filteredClasses = classes.filter(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["filterClassName"]);
							classes = filteredClasses;
						}

						classesList = classesList.concat(classes);
					}
				}

				let currentClass = classFormItem.data.value;

				// If the classes list doesn't contain the current value, create an empty entry and reset the value
				if (classesList.indexOf(currentClass) < 0)
				{
					if (classesList.length == 0)
					{
						classesList.push('');
						currentClass = '';
					}
					else
						currentClass = classesList[0];
				}

				let mainClassDropDown = classFormItem._innerWidget;
				mainClassDropDown.setDataSource(classesList);

				classFormItem.data.value = currentClass;
				classFormItem._setWidgetValue();
			}
		}
	}

	_onRoomCreatorCreateBtClick()
	{
		// Reset and hide error message
		this._resetRoomCreationError();

		// Check validity
		if (this._roomCreationIBuilder.checkIsValid())
		{
			let changes = this._roomCreationIBuilder.getChangedData();

			if (changes.size() > 0)
			{
				// Check the room name against the rooms list (duplicate names not allowed!)
				if (true)//this._validateNewRoomName(changes))
				{
					// Disable room creation panel
					this._enableCreateRoomPanel(false);

					// Send settings to server instance
					let params = new SFS2X.SFSObject();
					params.putSFSArray('settings', changes);
					params.putUtfString('zName', this._zoneListBox.dataItem(this._zoneListBox.select()).name);
					params.putBool('notify', $('#znm-notifyClientsCB').prop('checked'));

					// Send settings to extension
					this.sendExtensionRequest(this.REQ_CREATE_ROOM, params);
				}
				else
				{}
			}
		}
		else
		{
			// Show alert
			this.shellCtrl.showSimpleAlert('Unable to submit Room configuration due to an invalid value; please verify the highlighted form fields in all tabs.', true);
		}
	}

	_onShowRoomFilterBtClick()
	{
		this._roomFilter.show();
	}

	_onShowUserFilterBtClick()
	{
		this._userFilter.show();
	}

	_onApplyBtChange()
	{
		// Request data to server
		this._requestData(true);
	}

	_onRoomFilterUpdated()
	{
		// Enable/disable "Apply" checkbox
		$('#znm-applyRoomFilterCB').attr('disabled', this._roomFilter.filterExpression == null);

		// Request data to server
		this._requestData(true);
	}

	_onUserFilterUpdated()
	{
		// Enable/disable "Apply" checkbox
		$('#znm-applyUserFilterCB').attr('disabled', this._userFilter.filterExpression == null);

		// Request data to server
		this._requestData(true);
	}

	_onMonitorSelectionBtClick()
	{
		if (this._selectedZone)
		{
			// Cancel previous monitoring
			this._onCloseMonitorBtClick();

			let getZoneUserCountHistory = false;

			this._monitoredZone = this._selectedZone.name;

			// Zone must be monitored
			if (this._activePanelType == 'zone')
			{
				this._monitoredType = this.MONITORED_TYPE_ZONE;
				this._monitoredName = this._monitoredZone;

				getZoneUserCountHistory = true;
			}

			// Room must be monitored
			if (this._activePanelType == 'room' && this._selectedRoom != undefined)
			{
				this._monitoredType = this.MONITORED_TYPE_ROOM;
				this._monitoredName = this._selectedRoom.name;
			}

			// User must be monitored
			if (this._activePanelType == 'user' && this._selectedUser != undefined)
			{
				this._monitoredType = this.MONITORED_TYPE_USER;
				this._monitoredName = this._selectedUser.name;
			}

			// Show loading bar
			this._switchView('znm-loading');

			// Request data to server
			this._requestData(true, getZoneUserCountHistory);
		}
	}

	_onSendAdminMsgInKeyUp(event)
	{
		if (event.key !== 'Enter')
			return;

		event.preventDefault();
		this._onSendAdminMsgBtClick();
	}

	_onSendAdminMsgBtClick()
	{
		if (this._selectedZone && $('#znm-messageIn').val() != '')
		{
			// Build request parameters
			let params = new SFS2X.SFSObject();

			// Always include zone
			params.putUtfString('zone', this._selectedZone.name);

			// Send message to room?
			if (this._activePanelType == 'room' && this._selectedRoom != undefined)
				params.putUtfString('room', this._selectedRoom.name);

			// Send message to user?
			if (this._activePanelType == 'user' && this._selectedUser != undefined)
				params.putUtfString('user', this._selectedUser.name);

			// Add message
			params.putUtfString('msg', $('#znm-messageIn').val());

			// Send request to extension
			this.sendExtensionRequest(this.REQ_ADMIN_MSG, params);

			// Clear text input
			$('#znm-messageIn').val('');
		}
	}

	_onCloseMonitorBtClick()
	{
		// Save ref. for later usage
		const monitoredType = this._monitoredType;

		this._monitoredZone = null;
		this._monitoredType = null;
		this._monitoredName = null;

		// Clear geolocation UI
		this._clearGeoLocationUI();

		// Clear log datagrids dataproviders
		// NOTE: a try-catch is used here because, for an unknown reason, Kendo is throwing an error when resetting the data sources when the module is destroyed
		try
		{
			this._zoneExtLogGrid.setDataSource([]);
			this._roomExtLogGrid.setDataSource([]);
		}
		catch (e) { /* Ignore */ }

		// Leave edit mode
		this._onCancelBtClick();

		// Rearrange monitoring interface
		this._setMonitoringInterface();

		// Clear tab navigator
		this._clearTabs(monitoredType);
	}

	_onEditBtClick()
	{
		if (!this._isEditing)
		{
			// Show edit controls
			$('#znm-editControls').show();

			// Hide edit button
			$('#znm-editBt').hide();

			// Enable editable fields
			this._interfaceBuilder.disableInterface(false);

			this._isEditMode = true;
		}
	}

	_onCancelBtClick()
	{
		if (this._isEditing)
		{
			// Hide edit controls
			$('#znm-editControls').hide();

			// Show edit button
			$('#znm-editBt').show();

			// Disable editable fields
			this._interfaceBuilder.disableInterface(true);

			this._isEditMode = false;

			// Hide validation messages
			this._interfaceBuilder.resetValidation();

			// Request data to update interface (updating suspended in edit mode)
			this._requestData(true);
		}
	}

	_onSubmitBtClick()
	{
		if (this._isEditing)
		{
			// Check validity
			if (this._interfaceBuilder.checkIsValid())
			{
				let changes = this._interfaceBuilder.getChangedData();

				if (changes.size() > 0)
				{
					//console.log(changes.getDump())

					// Send settings to server instance
					let params = new SFS2X.SFSObject();
					params.putSFSArray('settings', changes);
					params.putUtfString('zone', this._monitoredZone);

					if (this._monitoredType == this.MONITORED_TYPE_ROOM)
					{
						// Submit room settings
						params.putUtfString('room', this._monitoredName);
						this.sendExtensionRequest(this.REQ_SET_ROOM_SETTINGS, params);
					}
					else if (this._monitoredType == this.MONITORED_TYPE_USER)
					{
						// Submit user settings
						params.putUtfString('user', this._monitoredName);
						this.sendExtensionRequest(this.REQ_SET_USER_SETTINGS, params);
					}
					else
					{
						// Submit zone settings
						this.sendExtensionRequest(this.REQ_SET_ZONE_SETTINGS, params);
					}

					// Leave edit mode
					this._onCancelBtClick();
				}
			}
			else
			{
				// Show alert
				this.shellCtrl.showSimpleAlert('Unable to submit changes due to an invalid value; please verify the highlighted form fields in all tabs.', true);
			}
		}
	}

	_onTimeRangeChange()
	{
		let values = this._timeSlider.value();

		if (values[0] == values[1])
		{
			if (values[1] == -24)
				values[1] = -23;

			values[0] = values[1] - 1;

			// Reset the time range slider value (we need to use setTimeout
			// bacause doing it in the change event listener doesn't redraw the slider)
			setTimeout($.proxy( function(values) { this._timeSlider.value(values); }, this), 10, values);
		}

		this._userCountChart.range = values;
	}

	_onWindowResize()
	{
		// Redraw charts
		this._userCountChart.redraw();
		this._packetQueueChart.redraw();
		this._droppedMsgChart.redraw();
		this._writtenDataChart.redraw();
		this._readDataChart.redraw();

		// Redraw time range slider
		this._timeSlider.resize();
	}

	_onWordsReloadBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_ZONE)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredName);

			this.sendExtensionRequest(this.REQ_RELOAD_WORDS, params);
		}
	}

	_onZoneExtReloadBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_ZONE)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredName);

			this.sendExtensionRequest(this.REQ_RELOAD_ZONE_EXT, params);
		}
	}

	_onDisconnectBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_USER)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredZone);
			params.putUtfString('user', this._monitoredName);

			this.sendExtensionRequest(this.REQ_DISCONNECT_USER, params);
		}
	}

	_onKickBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_USER)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredZone);
			params.putUtfString('user', this._monitoredName);
			params.putUtfString('msg', $('#znm-kickMsgIn').val());
			params.putInt('delay', (this._kickDelayIn.value() != null ? Number(this._kickDelayIn.value()) : this.KICK_BAN_DEFAULT_DELAY));

			this.sendExtensionRequest(this.REQ_KICK_USER, params);

			// Reset message
			$('#znm-kickMsgIn').val('');
		}
	}

	_onBanBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_USER)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredZone);
			params.putUtfString('user', this._monitoredName);
			params.putUtfString('msg', $('#znm-banMsgIn').val());
			params.putUtfString('mode', this._banModeDd.select() > 0 ? this._banModeDd.value() : 'NAME');
			params.putInt('delay', (this._banDelayIn.value() != null ? Number(this._banDelayIn.value()) : this.KICK_BAN_DEFAULT_DELAY));

			let duration = this._banDurationIn.value() != null ? Number(this._banDurationIn.value()) : 1;

			if (this._banDurUnitDd.value() == 'hours')
				duration = duration * 60;
			else if (this._banDurUnitDd.value() == 'days')
				duration = duration * 60 * 24;

			params.putInt('duration', duration);

			this.sendExtensionRequest(this.REQ_BAN_USER, params);

			// Reset message
			$('#znm-banMsgIn').val('');
		}
	}

	//------------------------------------
	// PRIVATE METHODS
	//------------------------------------

	_setMonitoringInterface()
	{
		const enabled = (this._monitoredType != null && this._monitoredName != null);

		// Show/hide header and footer
		if (enabled)
		{
			this._switchView(`znm-${this._monitoredType}Monitor`);

			// Header title
			let title = 'Now monitoring ';

			if (this._monitoredType == this.MONITORED_TYPE_USER)
				title += `User: <strong>${this._monitoredName}</strong> (Zone: ${this._monitoredZone})`;
			else if (this._monitoredType == this.MONITORED_TYPE_ROOM)
				title += `Room: <strong>${this._monitoredName}</strong> (Zone: ${this._monitoredZone})`;
			else
				title += `Zone: <strong>${this._monitoredZone}</strong>`;

			$('#znm-monitoredHeader').html(title);
			$('#znm-monitoredFooter').show();

			// Show panel
			this._switchPanel('znm-mainPanel');
		}
		else
		{
			this._switchView('znm-select');

			$('#znm-monitoredHeader').html('');
			$('#znm-monitoredFooter').hide();

			// Show panel
			this._switchPanel('znm-sidebarPanel');
		}
	}

	_switchView(viewId)
	{
		document.getElementById('znm-viewstack').selectedElement = document.getElementById(viewId);
	}

	_switchPanel(panelId)
	{
		document.getElementById('znm-view').selectedPanel = document.getElementById(panelId);
	}

	/**
	 * Build the polling request to be sent to the server, based on the selections and other settings in the accordion.
	 */
	_requestData(newId = false, getZoneUserCountHistory = false)
	{
		// Clear previous request scheduling
		clearTimeout(this._requestTimer);

		// Check if connection is still available
		if (this.smartFox.isConnected)
		{
			if (newId)
				this._currentRequestId++;

			// Build request parameters
			let params = new SFS2X.SFSObject();

			// The updated zones/rooms/users lists are requested if the corresponding panel is displayed only
			const getZones = (this._activePanelType == 'zone');
			const getRooms = (this._activePanelType == 'room' && this._selectedZone != undefined);
			const getUsers = (this._activePanelType == 'user' && this._selectedZone != undefined);

			// --- ZONES ---
			params.putBool('zones', getZones);

			// ROOMS & USERS
			if (getRooms || getUsers)
			{
				// Common filtering params:

				// a) zone name
				params.putUtfString('zone', this._selectedZone.name);

				// b) group name
				params.putUtfString('group', this._selectedGroup.name);
			}

			// ROOMS
			params.putBool('rooms', getRooms);
			if (getRooms)
			{
				// Filtering params:

				// c) advanced filtering params
				if ($('#znm-applyRoomFilterCB').prop('checked') && this._roomFilter.filterExpression != null)
					params.putSFSArray('rFilter', this._roomFilter.filterExpression.toSFSArray());
			}

			// USERS
			params.putBool('users', getUsers);
			if (getUsers)
			{
				// Filtering params:

				// c) room name
				if (this._selectedRoom)
					params.putUtfString('room', this._selectedRoom.name);

				// d) advanced filtering params
				if ($('#znm-applyUserFilterCB').prop('checked') && this._userFilter.filterExpression != null)
					params.putSFSArray('uFilter', this._userFilter.filterExpression.toSFSArray());
			}

			// --- CURRENTLY MONITORED DATA ---
			if (this._monitoredType != null && this._monitoredName != null)
			{
				let monitoredObj = this._getBasicMonitoredObject();

				if (this._monitoredType == this.MONITORED_TYPE_ZONE)
					monitoredObj.putBool('uc', getZoneUserCountHistory);

				params.putSFSObject('monitored', monitoredObj);
			}

			// Set request id; when a response is received, we check its id matches the current request id: if not, the response is discarded
			params.putInt('id', this._currentRequestId);

			// Send request to extension
			this.sendExtensionRequest(this.REQ_GET_DATA, params);

			// Schedule next request
			this._requestTimer = setTimeout($.proxy(this._requestData, this), Number(this._intervalDropDown.value()) * 1000);
		}
	}

	_getBasicMonitoredObject()
	{
		let monitoredObj = new SFS2X.SFSObject();

		monitoredObj.putUtfString('zone', this._monitoredZone);
		monitoredObj.putUtfString('type', this._monitoredType);
		monitoredObj.putUtfString('name', this._monitoredName);

		return monitoredObj;
	}

	_setZonesDataProvider(zonesData)
	{
		this._setListDataProvider(this._zoneListBox, zonesData, true);
	}

	_setRoomsDataProvider(roomsData)
	{
		this._setListDataProvider(this._roomListBox, roomsData, true);

		// Set Remove button state
		$('#znm-removeRoomBt').attr('disabled', this._selectedRoom == undefined);
	}

	_setUsersDataProvider(usersData)
	{
		this._setListDataProvider(this._userListBox, usersData);
	}

	_setListDataProvider(listWidget, listData, countUsers = false)
	{
		// Save reference to selected item name
		// NOTE: as we are substituting the whole data source, we need it to re-select the same item after update
		let selectedDataItem = listWidget.dataItem(listWidget.select());
		let selectedDataItemName = selectedDataItem ? selectedDataItem.name : null;

		let dataArray = [];

		// Convert data coming from server
		for (let i = 0; i < listData.size(); i++)
		{
			let itemData = listData.getSFSObject(i);

			let item = {};
			item.name = itemData.getUtfString('name');

			if (countUsers)
				item.users = itemData.getInt('users');

			dataArray.push(item);
		}

		// Create new data source
		let listDS = new kendo.data.DataSource({
			data: dataArray,
			schema: {
				model: {
					id: 'name'
				}
			},
			sort: {
				field: 'name',
				dir: 'asc'
			}
		});

		// Assign data source to list
		listWidget.setDataSource(listDS);

		// Select again previously selected item
		if (selectedDataItemName != null)
		{
			selectedDataItem = listDS.get(selectedDataItemName);

			if (selectedDataItem)
			{
				let selectedElement = listWidget.wrapper.find('[data-uid="' + selectedDataItem.uid + '"]');
				listWidget.select(selectedElement);
			}
		}

		// Reset main control state
		this._setMainControlsEnabled();
	}

	_setGroupsDataProvider(groupsData)
	{
		// Create Groups array, adding common entries
		let groupsArray = [
			this._getGroupObj('', this.ANY_LABEL),
			this._getGroupObj(this.DEFAULT_GROUP_NAME)
		];

		// Save reference to selected group name
		// NOTE: as we are substituting the whole data source, we need it to re-select the same item after update
		let selectedDataItem = this._selectedGroup;
		let selectedDataItemName = selectedDataItem ? selectedDataItem.name : null;

		if (groupsData != null)
		{
			for (let i = 0; i < groupsData.length; i++)
			{
				if (groupsData[i] != this.DEFAULT_GROUP_NAME) // Default group was added before
					groupsArray.push(this._getGroupObj(groupsData[i]));
			}
		}

		// Create new data source
		let groupDS = new kendo.data.DataSource({
			data: groupsArray,
			schema: {
				model: {
					id: 'name'
				}
			}
		});

		// Assign data source to dropdown
		this._groupsDropDown.setDataSource(groupDS);

		//--------------------------------

		// Select previously selected item
		selectedDataItem = groupDS.get(selectedDataItemName);

		// If group is not found, select the default one
		if (selectedDataItem == undefined)
			selectedDataItem = groupDS.get(this.DEFAULT_GROUP_NAME);

		this._groupsDropDown.select(function(dataItem) {
			return dataItem.name === selectedDataItem.name;
		});
	}

	_getGroupObj(name, label = null)
	{
		return {
			name: name,
			label: (label != null ? label : name)
		}
	}

	/**
	 * Update the Scope label in the Rooms panel and in the Users panel.
	 */
	_setScopeLabel()
	{
		let roomScope = '';
		let userScope = '';

		if (this._selectedZone)
		{
			let zoneName = this._selectedZone.name;
			roomScope = this._getScopeLabelPart('Zone:', zoneName);

			let selectedGroup = this._selectedGroup;
			let groupName = (selectedGroup && selectedGroup.name != '') ? selectedGroup.name : this.ANY_LABEL;
			let roomName = (this._selectedRoom) ? this._selectedRoom.name : this.ANY_LABEL;

			userScope = this._getScopeLabelPart('Zone:', zoneName) + '<br>' + this._getScopeLabelPart('Group:', groupName) + '<br>' + this._getScopeLabelPart('Room:', roomName);
		}

		$('#znm-roomScopeLb').html(roomScope);
		$('#znm-userScopeLb').html(userScope);
	}

	_getScopeLabelPart(label, text)
	{
		return `<span class="text-muted">${label}</span> <span>${text}</span>`;
	}

	_resetRoomList()
	{
		this._roomListBox.setDataSource([]);

		// Also disable Remove button
		$('#znm-removeRoomBt').attr('disabled', true);
	}

	_resetUserList()
	{
		this._userListBox.setDataSource([]);
	}

	_setMainControlsEnabled()
	{
		let enabled = (this._activePanelType == 'zone' && this._selectedZone != undefined)
					|| (this._activePanelType == 'room' && this._selectedRoom != undefined)
					|| (this._activePanelType == 'user' && this._selectedUser != undefined);

		$('#znm-mainControls').attr('disabled', !enabled);

		$('#znm-monitorTargetLb').text(enabled ? Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._activePanelType) : 'selection');
		$('#znm-messageIn').attr('placeholder', 'Message to ' + (enabled ? Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._activePanelType) : 'selection'));
	}

	_showLimitExceededWarning(icon, title)
	{
		icon.attr('title', title);

		if (title != '')
			icon.removeClass('hidden');
		else
			icon.addClass('hidden');
	}

	_showRoomCreationPanel(roomSettings)
	{
		// Build user interface based on passed data
		this._roomCreationIBuilder.buildInterface(roomSettings, 'znm-roomCreatorTabNav', false, 'rc');

		// Enable scrolling tabs
		$('#znm-roomCreatorTabNav > #tabs').scrollingTabs({
			bootstrapVersion: 4,
			scrollToTabEdge: true,
			enableSwiping: true,
			disableScrollArrowsOnFullyScrolled: true,
			cssClassLeftArrow: 'fa fa-chevron-left',
			cssClassRightArrow: 'fa fa-chevron-right'
		});

		// Reset Notify clients checkbox
		$('#znm-notifyClientsCB').prop('checked', true);

		// Set listener for custom actions triggered by configuration interface
		$('#znm-roomCreatorTabNav').on('value-set', $.proxy(this._onConfigValueSet, this));

		// Display panel
		$('#znm-createRoomModal').modal('show');

		// Reset and hide error message
		this._resetRoomCreationError();
	}

	_resetRoomCreationError()
	{
		// Reset and hide error message
		$('#znm-createRoomError').text('');
		$('#znm-createRoomError').hide();
	}

	_validateNewRoomName(changes)
	{
		for (let i = 0; i < changes.size(); i++)
		{
			const setting = changes.getSFSObject(i);

			if (setting.containsKey('name') && setting.getUtfString('name') == 'name')
			{
				// Get name value
				const name = setting.getText('value');

				// Get data source
				const ds = this._roomListBox.dataSource.data();

				// Check if name exists in data source
				for (let j = 0; j < ds.length; j++)
				{
					if (ds[j].name == name)
						return false;
				}

				break;
			}
		}

		return true;
	}

	_enableCreateRoomPanel(enable)
	{
		let modalElement = $('#znm-createRoomModal');

		// Enable modal close buttons
		$('button[data-dismiss="modal"]', modalElement).attr('disabled', !enable);

		// Enable create button
		$('#znm-roomCreatorCreateBt', modalElement).attr('disabled', !enable);

		// Enable checkbox
		$('#znm-notifyClientsCB', modalElement).attr('disabled', !enable);

		// Enable configuration interface
		this._roomCreationIBuilder.disableInterface(!enable);
	}

	_clearTabs(monitoredType)
	{
		// Destroy scrolling tabs
		$(`#znm-${monitoredType}TabNavigator #tabs`).scrollingTabs('destroy');

		// Remove all tab navigator content
		this._interfaceBuilder.destroyInterface();

		// Set all tab panels as inactive
		$(`#znm-${monitoredType}TabNavigator #tabPanels .tab-pane`).removeClass('show active');

		// Remove tab change event listener
		$('a[data-toggle="tab"]').off('shown.bs.tab');

		this._skipInitTabs = false;
	}

	_showZoneTrafficData(data)
	{
		// Build user count monitor history
		if (data.containsKey('history'))
		{
			let userCountData = data.getIntArray('history');
			let samplingRateMins = data.getInt('rate');

			this._userCountChart.addHistoryEntries(userCountData, samplingRateMins * 60);
		}

		// Add last user count value
		this._userCountChart.addEntry(data.getInt('current'));
	}

	_addLogEntryToGrid(grid, item)
	{
		let ds = grid.dataSource;

		// Check items limit
		if (ds.total() == this.MAX_EXTENSION_LOG_SIZE)
			ds.remove(ds.at(0));

		ds.add(item);
	}

	_showUserStatsData(data)
	{
		// Packet queue filling %
		let packetQueue = Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["roundToDecimals"])(data.getFloat('packet'), 2);
		this._packetQueueChart.setDataSource([{category: 'Queue', value: packetQueue}]);

		// Dropped messages
		let droppedMsg = data.getInt('dropped');
		this._droppedMsgChart.setDataSource([{category: 'Dropped', value: droppedMsg}]);

		// Written data amount
		let writtenDataObj = Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["scaleBytes"])(data.getLong('wBytes'), 2);
		this._writtenDataChart.setDataSource([{category: 'Written', value: writtenDataObj.value, unit: writtenDataObj.unit}]);

		// Read data amount
		let readDataObj = Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["scaleBytes"])(data.getLong('rBytes'), 2);
		this._readDataChart.setDataSource([{category: 'Read', value: readDataObj.value, unit: readDataObj.unit}]);
	}

	_setGeoLocationUI(geoLocData)
	{
		const location = geoLocData.getUtfString('location');
		const error = geoLocData.getUtfString('error');
		const latitude = geoLocData.getUtfString('latitude');
		const longitude = geoLocData.getUtfString('longitude');

		// Show location
		$('#znm-geoLocationLb').text(location);

		// Log error
		if (error != '')
			this.shellCtrl.logMessage(error, 'warn');

		// Enable/disable Show map button
		if (latitude != '' && longitude != '')
		{
			$('#znm-showMapBt').attr('disabled', false);

			const url = `https://www.google.com/maps/search/?api=1&query=${Number(latitude) + ',' + Number(longitude)}`;
			$('#znm-showMapBt').attr('href', url);
		}
	}

	_clearGeoLocationUI()
	{
		$('#znm-geoLocationLb').text('');
		$('#znm-showMapBt').attr('disabled', true);
		$('#znm-showMapBt').attr('href', '#');
	}

	//---------------------------------
	// PRIVATE GETTERS
	//---------------------------------

	get _activePanelType()
	{
		return this._accordion.select().data('itemType');
	}

	get _selectedZone()
	{
		return this._zoneListBox.dataItem(this._zoneListBox.select());
	}

	get _selectedGroup()
	{
		return this._groupsDropDown.dataItem(this._groupsDropDown.select());
	}

	get _selectedRoom()
	{
		return this._roomListBox.dataItem(this._roomListBox.select());
	}

	get _selectedUser()
	{
		return this._userListBox.dataItem(this._userListBox.select());
	}

	get _isEditing()
	{
		return (this._monitoredType != null && this._monitoredName != null && this._isEditMode);
	}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/utils/match-properties.js":
/*!***************************************!*\
  !*** ./src/utils/match-properties.js ***!
  \***************************************/
/*! exports provided: RoomPropertiesData, UserPropertiesData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPropertiesData", function() { return RoomPropertiesData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPropertiesData", function() { return UserPropertiesData; });
class RoomPropertiesData
{
	static get LABELS() {
		let map = new Map();

		map.set(SFS2X.RoomProperties.NAME, 'name');
		map.set(SFS2X.RoomProperties.GROUP_ID, 'groupId');
		map.set(SFS2X.RoomProperties.MAX_USERS, 'maxUsers');
		map.set(SFS2X.RoomProperties.MAX_SPECTATORS, 'maxSpectators');
		map.set(SFS2X.RoomProperties.USER_COUNT, 'userCount');
		map.set(SFS2X.RoomProperties.SPECTATOR_COUNT, 'spectatorCount');
		map.set(SFS2X.RoomProperties.IS_GAME, 'isGame');
		map.set(SFS2X.RoomProperties.IS_PRIVATE, 'isPrivate');
		map.set(SFS2X.RoomProperties.HAS_FREE_PLAYER_SLOTS, 'hasFreePlayerSlots');
		map.set(SFS2X.RoomProperties.IS_TYPE_SFSGAME, 'isSFSGameType');

		return map;
	}

	static getLabel(propName)
	{
		return 'Room.' + RoomPropertiesData.LABELS.get(propName);
	}

	static get propertiesArray()
	{
		const arr = [];

		for (const [key, value] of RoomPropertiesData.LABELS.entries())
		{
			arr.push({
				label: RoomPropertiesData.getLabel(key),
				value: key
			});
		}

		return arr;
	}
}

class UserPropertiesData
{
	static get LABELS() {
		let map = new Map();

		map.set(SFS2X.UserProperties.NAME, 'name');
		map.set(SFS2X.UserProperties.IS_PLAYER, 'isPlayer');
		map.set(SFS2X.UserProperties.IS_SPECTATOR, 'isSpectator');
		map.set(SFS2X.UserProperties.IS_NPC, 'isNPC');
		map.set(SFS2X.UserProperties.PRIVILEGE_ID, 'privilegeId');

		return map;
	}

	static getLabel(propName)
	{
		return 'User.' + UserPropertiesData.LABELS.get(propName);
	}

	static get propertiesArray()
	{
		const arr = [];

		for (const [key, value] of UserPropertiesData.LABELS.entries())
		{
			arr.push({
				label: UserPropertiesData.getLabel(key),
				value: key
			});
		}

		return arr;
	}
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXRzL2pzL2NvcmUvbW9kdWxlcy9tb2R1bGUtMTMuYnVuZGxlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwbGljYXRpb24vLi9zcmMvY29tcG9uZW50cy9jaGFydHMvY2hhcnQtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYXBwbGljYXRpb24vLi9zcmMvY29tcG9uZW50cy9jaGFydHMvdXNlci1jb3VudC1jaGFydC5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9jb21wb25lbnRzL21vZHVsZS1zcGVjaWZpYy9tYXRjaC1leHByZXNzaW9uLWJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vYXBwbGljYXRpb24vLi9zcmMvY29tcG9uZW50cy9zaWRlYmFyLWxheW91dC5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9tb2R1bGVzL3pvbmUtbW9uaXRvci5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy91dGlscy9tYXRjaC1wcm9wZXJ0aWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Ynl0ZXNUb1NpemUsIGtCeXRlc1RvU2l6ZX0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbGl0aWVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvcm1hdHRlZERhdGVUaW1lKGRhdGUsIGZvcm1hdCA9ICdkZCBNTU0gSEg6bW06c3MnKVxue1xuXHRyZXR1cm4ga2VuZG8udG9TdHJpbmcoZGF0ZSwgZm9ybWF0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2ljU2hhcmVkVGVtcGxhdGUodmFsdWVGb3JtYXQgPSAnezB9Jykge1xuXHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdDxkaXYgY2xhc3M9XCJjaGFydC10b29sdGlwLWNhdGVnb3J5XCI+PHN0cm9uZz4jOiBjYXRlZ29yeSAjPC9zdHJvbmc+PC9kaXY+XG5cdFx0IyBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgeyAjXG5cdFx0PGRpdj5cblx0XHRcdDxpIGNsYXNzPVwiZmFzIGZhLXNxdWFyZVwiIHN0eWxlPVwiY29sb3I6ICM6IHBvaW50c1tpXS5jb2xvciAjIFwiPjwvaT5cblx0XHRcdCM6IHBvaW50c1tpXS5zZXJpZXMubmFtZSMgOiAjOiBrZW5kby5mb3JtYXQoJyR7dmFsdWVGb3JtYXR9JywgcG9pbnRzW2ldLnZhbHVlKSAjXG5cdFx0PC9kaXY+XG5cdFx0IyB9ICNcblx0YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW1vcnlTaGFyZWRUZW1wbGF0ZSgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0ZGF0YUl0ZW0uYnl0ZXNUb1NpemUgPSBieXRlc1RvU2l6ZTsgLy8gUGFzcyBieXRlc1RvU2l6ZSB1dGlsaXR5IGZ1bmN0aW9uIHRvIHRlbXBsYXRlXG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydC10b29sdGlwLWNhdGVnb3J5XCI+PHN0cm9uZz4jOiBjYXRlZ29yeSAjPC9zdHJvbmc+PC9kaXY+XG5cdFx0XHQjIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7ICNcblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxpIGNsYXNzPVwiZmFzIGZhLXNxdWFyZVwiIHN0eWxlPVwiY29sb3I6ICM6IHBvaW50c1tpXS5jb2xvciAjIFwiPjwvaT5cblx0XHRcdFx0IzogcG9pbnRzW2ldLnNlcmllcy5uYW1lIyA6ICM6IGJ5dGVzVG9TaXplKHBvaW50c1tpXS52YWx1ZSkgI1xuXHRcdFx0PC9kaXY+XG5cdFx0XHQjIH0gI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lbW9yeVZhbHVlQXhpc0xhYmVsVGVtcGxhdGUoKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdGRhdGFJdGVtLmJ5dGVzVG9TaXplID0gYnl0ZXNUb1NpemU7IC8vIFBhc3MgYnl0ZXNUb1NpemUgdXRpbGl0eSBmdW5jdGlvbiB0byB0ZW1wbGF0ZVxuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQjOiBieXRlc1RvU2l6ZSh2YWx1ZSkgI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ldHdvcmtTaGFyZWRUZW1wbGF0ZShjYXRlZ29yeUZvcm1hdCA9ICdkZCBNTU0gSEg6bW06c3MnKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdGRhdGFJdGVtLmtCeXRlc1RvU2l6ZSA9IGtCeXRlc1RvU2l6ZTsgLy8gUGFzcyBrQnl0ZXNUb1NpemUgdXRpbGl0eSBmdW5jdGlvbiB0byB0ZW1wbGF0ZVxuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2hhcnQtdG9vbHRpcC1jYXRlZ29yeVwiPjxzdHJvbmc+Izoga2VuZG8udG9TdHJpbmcoY2F0ZWdvcnksICcke2NhdGVnb3J5Rm9ybWF0fScpICM8L3N0cm9uZz48L2Rpdj5cblx0XHRcdCMgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHsgI1xuXHRcdFx0PGRpdj5cblx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtc3F1YXJlXCIgc3R5bGU9XCJjb2xvcjogIzogcG9pbnRzW2ldLmNvbG9yICMgXCI+PC9pPlxuXHRcdFx0XHQjOiBwb2ludHNbaV0uc2VyaWVzLm5hbWUjIDogIzoga0J5dGVzVG9TaXplKHBvaW50c1tpXS52YWx1ZSwgMSwgJycsICcvcycpICNcblx0XHRcdDwvZGl2PlxuXHRcdFx0IyB9ICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXR3b3JrVmFsdWVBeGlzTGFiZWxUZW1wbGF0ZSgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0ZGF0YUl0ZW0ua0J5dGVzVG9TaXplID0ga0J5dGVzVG9TaXplOyAvLyBQYXNzIGtCeXRlc1RvU2l6ZSB1dGlsaXR5IGZ1bmN0aW9uIHRvIHRlbXBsYXRlXG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdCM6IGtCeXRlc1RvU2l6ZSh2YWx1ZSwgMSwgJycsICcvcycpICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyQ291bnRTaGFyZWRUZW1wbGF0ZShjYXRlZ29yeUZvcm1hdCA9ICdkZCBNTU0gSEg6bW06c3MnKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2hhcnQtdG9vbHRpcC1jYXRlZ29yeVwiPjxzdHJvbmc+Izoga2VuZG8udG9TdHJpbmcoY2F0ZWdvcnksICcke2NhdGVnb3J5Rm9ybWF0fScpICM8L3N0cm9uZz48L2Rpdj5cblx0XHRcdCMgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHsgI1xuXHRcdFx0PGRpdj5cblx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtc3F1YXJlXCIgc3R5bGU9XCJjb2xvcjogIzogcG9pbnRzW2ldLmNvbG9yICMgXCI+PC9pPlxuXHRcdFx0XHQjOiBwb2ludHNbaV0uc2VyaWVzLm5hbWUjIDogIzogcG9pbnRzW2ldLnZhbHVlICNcblx0XHRcdDwvZGl2PlxuXHRcdFx0IyB9ICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lUmFuZ2VUb29sdGlwVGVtcGxhdGUoKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdGRhdGFJdGVtLmdldFRvb2x0aXBTdHJpbmcgPSBmdW5jdGlvbih2MSwgdjIpIHtcblx0XHRcdGlmICh2MSA9PSB2Milcblx0XHRcdHtcblx0XHRcdFx0aWYgKHYyID09IC0yNClcblx0XHRcdFx0XHR2MiA9IC0yMztcblxuXHRcdFx0XHR2MSA9IHYyIC0gMTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHN0YXJ0ID0gTWF0aC5hYnModjEpO1xuXHRcdFx0bGV0IGVuZCA9IE1hdGguYWJzKHYyKTtcblxuXHRcdFx0cmV0dXJuIGBGcm9tICR7c3RhcnR9IGhvdXIke3N0YXJ0ICE9IDEgPyAncycgOiAnJ30gYWdvIHRvICR7ZW5kID4gMCA/ICgndG8gJyArIGVuZCArICcgaG91cicgKyAoZW5kICE9IDEgPyAncycgOiAnJykgKyAnIGFnbycpIDogJ25vdyd9YDtcblx0XHR9OyAvLyBQYXNzIHV0aWxpdHkgZnVuY3Rpb24gdG8gdGVtcGxhdGVcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0IzogZ2V0VG9vbHRpcFN0cmluZyhzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V1JCeXRlc0xhYmVsVGVtcGxhdGUoKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQjOiB2YWx1ZSAjICM6IGRhdGFJdGVtLnVuaXQgI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cbiIsImltcG9ydCB7Z2V0VXNlckNvdW50U2hhcmVkVGVtcGxhdGV9IGZyb20gJy4vY2hhcnQtdXRpbHMnO1xuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmV4cG9ydCBjbGFzcyBVc2VyQ291bnRDaGFydCBleHRlbmRzIEhUTUxFbGVtZW50XG57XG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHQgICAgc3VwZXIoKTtcblxuXHRcdC8vIENyZWF0ZSBjaGFydCBodG1sXG5cdFx0bGV0IGNoYXJ0SHRtbCA9ICQoJzxkaXY+Jyk7XG5cdFx0JCh0aGlzKS5hcHBlbmQoY2hhcnRIdG1sKTtcblxuXHRcdC8vIEluaXRpYWxpemUgY2hhcnRcblx0XHR0aGlzLl9jaGFydFdpZGdldCA9IHRoaXMuX2luaXRDaGFydFdpZGdldChjaGFydEh0bWwpO1xuXHR9XG5cblx0X2luaXRDaGFydFdpZGdldChjaGFydEh0bWwpXG5cdHtcblx0XHRyZXR1cm4gY2hhcnRIdG1sLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMjcwLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcblx0ICAgICAgICAgICAgdHlwZTogJ2FyZWEnLFxuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9Jyxcblx0ICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCdcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllczogW3tcblx0XHRcdFx0bmFtZTogJ1VzZXJzJyxcblx0ICAgICAgICAgICAgZmllbGQ6ICd1c2VycycsXG5cdCAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6ICd0aW1lJyxcblx0XHRcdFx0Y29sb3I6ICcjZmQ3ZDI0Jyxcblx0XHRcdFx0bGluZToge1xuXHRcdFx0XHRcdHdpZHRoOiAyXG5cdFx0XHRcdH1cblx0ICAgICAgICB9XSxcblx0ICAgICAgICB2YWx1ZUF4aXM6IHtcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsaW5lOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaW46IDAsXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjYXRlZ29yeUF4aXM6IHtcblx0XHRcdFx0bWFqb3JHcmlkTGluZXM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG5cdFx0XHRcdFx0c3RlcDogNjBcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWFqb3JUaWNrczoge1xuXHRcdFx0XHRcdHZpc2libGU6IHRydWUsXG5cdFx0XHRcdFx0c3RlcDogNjBcblx0XHRcdFx0fSxcblx0XHRcdFx0bGFiZWxzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRzdGVwOiA2MFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRiYXNlVW5pdDogJ21pbnV0ZXMnLFxuXHRcdFx0XHR0eXBlOiAnZGF0ZScsXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0b29sdGlwOiB7XG5cdFx0XHRcdHNoYXJlZDogdHJ1ZSxcblx0ICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcblx0XHRcdFx0c2hhcmVkVGVtcGxhdGU6IGdldFVzZXJDb3VudFNoYXJlZFRlbXBsYXRlKCdkZCBNTU0gSEg6bW0nKSxcblx0XHRcdFx0YmFja2dyb3VuZDogJyNlNGU0ZTQnXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXHR9XG5cblx0cmVkcmF3KClcblx0e1xuXHRcdHRoaXMuX2NoYXJ0V2lkZ2V0LnJlZHJhdygpO1xuXHR9XG5cblx0c2V0IHJhbmdlKHZhbHVlcylcblx0e1xuXHRcdHRoaXMuX3JhbmdlID0gdmFsdWVzO1xuXG5cdFx0dGhpcy5fdXBkYXRlWEF4aXNMaW1pdHMoKTtcblx0fVxuXG5cdGdldCByYW5nZSgpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fcmFuZ2U7XG5cdH1cblxuXHRhZGRIaXN0b3J5RW50cmllcyh1c2VyQ291bnREYXRhLCBzYW1wbGluZ1JhdGVTZWNvbmRzKVxuXHR7XG5cdFx0bGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdGxldCBzdGFydCA9IG1vbWVudChkYXRlKTtcblx0XHRzdGFydC5zdWJ0cmFjdCgoc2FtcGxpbmdSYXRlU2Vjb25kcyAqIHVzZXJDb3VudERhdGEubGVuZ3RoKSwgJ3MnKVxuXG5cdFx0bGV0IGRhdGFTb3VyY2UgPSBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHVzZXJDb3VudERhdGEubGVuZ3RoOyBpKyspXG5cdFx0e1xuXHRcdFx0bGV0IGRhdGUgPSBzdGFydC5jbG9uZSgpO1xuXHRcdFx0ZGF0ZS5hZGQoaSAqIHNhbXBsaW5nUmF0ZVNlY29uZHMsICdzJyk7XG5cblx0XHRcdHRoaXMuYWRkRW50cnkodXNlckNvdW50RGF0YVtpXSwgZGF0YVNvdXJjZSwgZGF0ZS50b0RhdGUoKSwgZmFsc2UpO1xuXHRcdH1cblxuXHRcdC8vIEFzc2lnbiBkYXRhc291cmNlIHRvIGNoYXJ0XG5cdFx0dGhpcy5fY2hhcnRXaWRnZXQuc2V0RGF0YVNvdXJjZShkYXRhU291cmNlKTtcblxuXHRcdC8vIFVwZGF0ZSBheGlzXG5cdFx0dGhpcy5fdXBkYXRlWEF4aXNMaW1pdHMoKTtcblx0fVxuXG5cdGFkZEVudHJ5KHVzZXJDb3VudCwgZGF0YVNvdXJjZSA9IG51bGwsIGRhdGUgPSBudWxsLCB1cGRhdGVBeGlzID0gdHJ1ZSlcblx0e1xuXHRcdGlmIChkYXRlID09IG51bGwpXG5cdFx0XHRkYXRlID0gbmV3IERhdGUoKTtcblxuXHRcdGxldCBuZXdFbnRyeSA9IHtcblx0XHRcdHRpbWU6IGRhdGUsXG5cdFx0XHR1c2VyczogdXNlckNvdW50XG5cdFx0fTtcblxuXHRcdC8vIEFkZCBlbnRyeSB0byBkYXRhIHNvdXJjZVxuXHRcdGlmIChkYXRhU291cmNlID09IG51bGwpXG5cdFx0XHRkYXRhU291cmNlID0gdGhpcy5fZGF0YVNvdXJjZTtcblxuXHRcdGRhdGFTb3VyY2UuYWRkKG5ld0VudHJ5KTtcblxuXHRcdGlmICh1cGRhdGVBeGlzKVxuXHRcdFx0dGhpcy5fdXBkYXRlWEF4aXNMaW1pdHMoKTtcblx0fVxuXG5cdF91cGRhdGVYQXhpc0xpbWl0cygpXG5cdHtcblx0XHRsZXQgZHMgPSB0aGlzLl9kYXRhU291cmNlO1xuXG5cdFx0aWYgKGRzLnRvdGFsKCkgPiAwKVxuXHRcdHtcblx0XHRcdGNvbnN0IGNoYXJ0TWluaW11bSA9IG1vbWVudCh0aGlzLl9sYXN0RGF0ZSkuYWRkKHRoaXMuX3JhbmdlWzBdLCAnaCcpO1xuXHRcdFx0Y29uc3QgY2hhcnRNYXhpbXVtID0gbW9tZW50KHRoaXMuX2xhc3REYXRlKS5hZGQodGhpcy5fcmFuZ2VbMV0sICdoJyk7XG5cblx0XHRcdHRoaXMuX2NoYXJ0V2lkZ2V0Lm9wdGlvbnMuY2F0ZWdvcnlBeGlzLm1pbiA9IGNoYXJ0TWluaW11bS50b0RhdGUoKTtcblx0XHRcdHRoaXMuX2NoYXJ0V2lkZ2V0Lm9wdGlvbnMuY2F0ZWdvcnlBeGlzLm1heCA9IGNoYXJ0TWF4aW11bS50b0RhdGUoKTtcblxuXHRcdFx0dGhpcy5fY2hhcnRXaWRnZXQucmVkcmF3KCk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IF9kYXRhU291cmNlKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl9jaGFydFdpZGdldC5kYXRhU291cmNlO1xuXHR9XG59XG5cbi8vIERFRklORSBDT01QT05FTlRcbmlmICghd2luZG93LmN1c3RvbUVsZW1lbnRzLmdldCgndXNlci1jb3VudC1jaGFydCcpKVxuXHR3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCd1c2VyLWNvdW50LWNoYXJ0JywgVXNlckNvdW50Q2hhcnQpO1xuIiwiZXhwb3J0IGNsYXNzIE1hdGNoRXhwcmVzc2lvbkJ1aWxkZXIgZXh0ZW5kcyBIVE1MRWxlbWVudFxue1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0ICAgIHN1cGVyKCk7XG5cblx0XHR0aGlzLkVYUFJFU1NJT05fVVBEQVRFRF9FVkVOVCA9ICdleHByZXNzaW9uVXBkYXRlZCc7XG5cblx0XHR0aGlzLl9kaWFsb2cgPSAkKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwibWF0Y2hFeHByQnVpbGRlck1vZGFsXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnk9XCJtYXRjaEV4cHJCdWlsZGVyTW9kYWxUaXRsZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nIG1vZGFsLWRpYWxvZy1jZW50ZXJlZCBtb2RhbC1sZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG5cdFx0XHRcdFx0XHRcdDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlIHRleHQtcHJpbWFyeVwiIGlkPVwibWF0Y2hFeHByQnVpbGRlck1vZGFsVGl0bGVcIj4uLi48L2g1PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYm9keSBwLTBcIj5cblx0XHRcdFx0XHRcdFx0PGZvcm0gY2xhc3M9XCJiZy1jb2xvci1kZWZhdWx0IHAtM1wiPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJkLWlubGluZS1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciByYWRpby1idXR0b24tZ3JvdXAgaW5saW5lLWZvcm0tZ3JvdXBzXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvIGN1c3RvbS1jb250cm9sLWlubGluZSBtci0yXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cImFuZE9wZXJhdG9yUkJcIiBuYW1lPVwib3BlcmF0b3JSQkdcIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCIgdmFsdWU9XCJBTkRcIiBjaGVja2VkIGRpc2FibGVkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cImFuZE9wZXJhdG9yUkJcIj5BTkQ8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvIGN1c3RvbS1jb250cm9sLWlubGluZSBtci0yXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIm9yT3BlcmF0b3JSQlwiIG5hbWU9XCJvcGVyYXRvclJCR1wiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIiB2YWx1ZT1cIk9SXCIgZGlzYWJsZWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwib3JPcGVyYXRvclJCXCI+T1I8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImQtaW5saW5lLWJsb2NrXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5saW5lLWZvcm0tZ3JvdXBzIG15LTFcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwidmFyTmFtZUNCXCIvPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5saW5lLWZvcm0tZ3JvdXBzIG15LTFcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwidHlwZUREXCIgY2xhc3M9XCJtYXRjaFR5cGVEcm9wZG93blwiLz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwiY29uZGl0aW9uRERcIiBjbGFzcz1cIm1hdGNoQ29uZGl0aW9uRHJvcGRvd25cIi8+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZC1pbmxpbmUgaW5saW5lLWZvcm0tZ3JvdXBzXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJ2YWx1ZUluXCIgY2xhc3M9XCJrLXRleHRib3ggbXQtMVwiIHBsYWNlaG9sZGVyPVwiVmFsdWVcIi8+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwibWF0Y2hFeHByQWRkQnRcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJrLWJ1dHRvbiBrLXNlY29uZGFyeSBtdC0xXCI+PGkgY2xhc3M9XCJmYXMgZmEtcGx1cyBtci0xXCI+PC9pPkFkZDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XG5cblx0XHRcdFx0XHRcdFx0PGRpdiBpZD1cIm1hdGNoRXhwckdyaWRcIiBjbGFzcz1cIm0tM1wiPjwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyIGQtZmxleFwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmxleC1ncm93LTEgdGV4dC1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBpZD1cIm1hdGNoRXhwckFwcGx5QnRcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJrLWJ1dHRvbiBrLXByaW1hcnkgbXItMlwiPjxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrLWNpcmNsZSBtci0xXCI+PC9pPkFwcGx5PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmxleC1ncm93LTEgdGV4dC1yaWdodFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJtYXRjaEV4cHJSZW1vdmVCdFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImstYnV0dG9uIGstc2Vjb25kYXJ5XCIgZGlzYWJsZWQ+PGkgY2xhc3M9XCJmYXMgZmEtbWludXMtY2lyY2xlIG1yLTFcIj48L2k+UmVtb3ZlIHNlbGVjdGVkPC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBpZD1cIm1hdGNoRXhwckNsZWFyQnRcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJrLWJ1dHRvbiBrLXNlY29uZGFyeVwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzLWNpcmNsZSBtci0xXCI+PC9pPkNsZWFyIGFsbDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGApO1xuXG5cdFx0JCgnI21hdGNoRXhwckFkZEJ0JywgdGhpcy5fZGlhbG9nKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uQWRkQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyNtYXRjaEV4cHJBcHBseUJ0JywgdGhpcy5fZGlhbG9nKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uQXBwbHlCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI21hdGNoRXhwclJlbW92ZUJ0JywgdGhpcy5fZGlhbG9nKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uUmVtb3ZlQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyNtYXRjaEV4cHJDbGVhckJ0JywgdGhpcy5fZGlhbG9nKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uQ2xlYXJCdENsaWNrLCB0aGlzKSk7XG5cblx0XHQvLyBJTklUSUFMSVpFIEZPUk0gSVRFTVNcblxuXHRcdHRoaXMuX3Zhck5hbWVDYiA9ICQoJyN2YXJOYW1lQ0InLCB0aGlzLl9kaWFsb2cpLmtlbmRvQ29tYm9Cb3goe1xuXHRcdFx0ZGF0YVRleHRGaWVsZDogJ2xhYmVsJyxcblx0XHRcdGRhdGFWYWx1ZUZpZWxkOiAndmFsdWUnLFxuXHRcdFx0cGxhY2Vob2xkZXI6ICdWYXJpYWJsZSBuYW1lJyxcblx0XHR9KS5kYXRhKCdrZW5kb0NvbWJvQm94Jyk7XG5cblx0XHQvLyBTZXQgdHlwZXMgZHJvcGRvd24gZGF0YSBzb3VyY2Vcblx0XHQvLyBOT1RFOiBpbiBvcmRlciB0byBhdm9pZCBYeHhNYXRjaCBvYmplY3RzIHRvIGJlIHdyYXBwZWQgYnkgS2VuZG8gZGF0YSBzb3VyY2UsIHdlIGhhdmUgdG8gcGFzcyB0aGVtIHVzaW5nIF8gcHJvcGVydHkgbmFtZXNcblx0XHRsZXQgdHlwZURTID0gW107XG5cblx0XHQvLyBCb29sZWFuIC0tLS0tLS0tLS0tLS0tLS1cblx0XHR0eXBlRFMucHVzaCh7XG5cdFx0XHRsYWJlbDogJ0Jvb2xlYW4nLFxuXHRcdFx0X3ZhbHVlOiBTRlMyWC5Cb29sTWF0Y2guRVFVQUxTLFxuXHRcdFx0Y29uZGl0aW9uczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLkJvb2xNYXRjaC5FUVVBTFMuc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguQm9vbE1hdGNoLkVRVUFMUyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBTRlMyWC5Cb29sTWF0Y2guTk9UX0VRVUFMUy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5Cb29sTWF0Y2guTk9UX0VRVUFMUyxcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0pO1xuXG5cdFx0Ly8gTnVtYmVyIC0tLS0tLS0tLS0tLS0tLS1cblx0XHR0eXBlRFMucHVzaCh7XG5cdFx0XHRsYWJlbDogJ051bWJlcicsXG5cdFx0XHRfdmFsdWU6IFNGUzJYLk51bWJlck1hdGNoLkVRVUFMUyxcblx0XHRcdGNvbmRpdGlvbnM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBTRlMyWC5OdW1iZXJNYXRjaC5FUVVBTFMuc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguTnVtYmVyTWF0Y2guRVFVQUxTLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLk51bWJlck1hdGNoLk5PVF9FUVVBTFMuc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguTnVtYmVyTWF0Y2guTk9UX0VRVUFMUyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBTRlMyWC5OdW1iZXJNYXRjaC5HUkVBVEVSX1RIQU4uc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguTnVtYmVyTWF0Y2guR1JFQVRFUl9USEFOLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLk51bWJlck1hdGNoLkxFU1NfVEhBTi5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5OdW1iZXJNYXRjaC5MRVNTX1RIQU4sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguTnVtYmVyTWF0Y2guR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPLnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLk51bWJlck1hdGNoLkdSRUFURVJfVEhBTl9PUl9FUVVBTF9UTyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBTRlMyWC5OdW1iZXJNYXRjaC5MRVNTX1RIQU5fT1JfRVFVQUxfVE8uc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguTnVtYmVyTWF0Y2guTEVTU19USEFOX09SX0VRVUFMX1RPLFxuXHRcdFx0XHR9XG5cdFx0XHRdXG5cdFx0fSk7XG5cblx0XHQvLyBTdHJpbmcgLS0tLS0tLS0tLS0tLS0tLVxuXHRcdHR5cGVEUy5wdXNoKHtcblx0XHRcdGxhYmVsOiAnU3RyaW5nJyxcblx0XHRcdF92YWx1ZTogU0ZTMlguU3RyaW5nTWF0Y2guRVFVQUxTLFxuXHRcdFx0Y29uZGl0aW9uczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLlN0cmluZ01hdGNoLkVRVUFMUy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5TdHJpbmdNYXRjaC5FUVVBTFMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguU3RyaW5nTWF0Y2guTk9UX0VRVUFMUy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5TdHJpbmdNYXRjaC5OT1RfRVFVQUxTLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLlN0cmluZ01hdGNoLkNPTlRBSU5TLnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLlN0cmluZ01hdGNoLkNPTlRBSU5TLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLlN0cmluZ01hdGNoLlNUQVJUU19XSVRILnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLlN0cmluZ01hdGNoLlNUQVJUU19XSVRILFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLlN0cmluZ01hdGNoLkVORFNfV0lUSC5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5TdHJpbmdNYXRjaC5FTkRTX1dJVEgsXG5cdFx0XHRcdH1cblx0XHRcdF1cblx0XHR9KTtcblxuXHRcdHRoaXMuX3R5cGVEZCA9ICQoJyN0eXBlREQnLCB0aGlzLl9kaWFsb2cpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdGRhdGFTb3VyY2U6IHR5cGVEUyxcblx0XHRcdGRhdGFUZXh0RmllbGQ6ICdsYWJlbCcsXG5cdFx0XHRkYXRhVmFsdWVGaWVsZDogJ192YWx1ZScsXG5cdFx0XHRvcHRpb25MYWJlbDoge1xuXHRcdFx0XHRsYWJlbDogJ1R5cGUnLFxuXHRcdFx0XHRfdmFsdWU6ICcnXG5cdFx0XHR9LFxuXHRcdFx0b3B0aW9uTGFiZWxUZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZFwiPiM6bGFiZWwjPC9zcGFuPicsXG5cdFx0XHRjaGFuZ2U6ICQucHJveHkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICh0aGlzLl90eXBlRGQgJiYgdGhpcy5fdHlwZURkLnNlbGVjdCgpKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGV0IHNlbGVjdGVkVHlwZSA9IHRoaXMuX3R5cGVEZC5kYXRhSXRlbSh0aGlzLl90eXBlRGQuc2VsZWN0KCkpO1xuXHRcdFx0XHRcdHRoaXMuX2NvbmRpdGlvbkRkLnNldERhdGFTb3VyY2Uoc2VsZWN0ZWRUeXBlLmNvbmRpdGlvbnMpO1xuXHRcdFx0XHRcdHRoaXMuX2NvbmRpdGlvbkRkLnNlbGVjdCgxKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcylcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0dGhpcy5fY29uZGl0aW9uRGQgPSAkKCcjY29uZGl0aW9uREQnLCB0aGlzLl9kaWFsb2cpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdGRhdGFUZXh0RmllbGQ6ICdsYWJlbCcsXG5cdFx0XHRkYXRhVmFsdWVGaWVsZDogJ192YWx1ZScsXG5cdFx0XHRvcHRpb25MYWJlbDoge1xuXHRcdFx0XHRsYWJlbDogJ0NvbmRpdGlvbicsXG5cdFx0XHRcdF92YWx1ZTogJydcblx0XHRcdH0sXG5cdFx0XHRvcHRpb25MYWJlbFRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+IzpsYWJlbCM8L3NwYW4+Jyxcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0dGhpcy5fdmFsdWVJbiA9ICQoJyN2YWx1ZUluJywgdGhpcy5fZGlhbG9nKTtcblxuXHRcdC8vIElOSVRJQUxJWkUgR1JJRFxuXG5cdFx0dGhpcy5fZ3JpZCA9ICQoJyNtYXRjaEV4cHJHcmlkJywgdGhpcy5fZGlhbG9nKS5rZW5kb0dyaWQoe1xuXHRcdFx0ZGF0YVNvdXJjZTogW10sXG5cdFx0XHRyZXNpemFibGU6IHRydWUsXG5cdFx0XHRzZWxlY3RhYmxlOiAncm93Jyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vbkdyaWRTZWxlY3Rpb25DaGFuZ2UsIHRoaXMpLFxuXHRcdFx0bm9SZWNvcmRzOiB7XG5cdFx0XHRcdHRlbXBsYXRlOiAnTm8gZW50cmllcy4nXG5cdFx0XHR9LFxuXHRcdFx0Y29sdW1uczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICdvcGVyYXRvcicsXG5cdFx0XHRcdFx0dGl0bGU6ICdPcGVyYXRvcicsXG5cdFx0XHRcdFx0d2lkdGg6IDkwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ2xhYmVsJyxcblx0XHRcdFx0XHR0aXRsZTogJ05hbWUnLFxuXHRcdFx0XHRcdHdpZHRoOiAxMjBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAndHlwZUxhYmVsJyxcblx0XHRcdFx0XHR0aXRsZTogJ1R5cGUnLFxuXHRcdFx0XHRcdHdpZHRoOiA4NVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICdzeW1ib2wnLFxuXHRcdFx0XHRcdHRpdGxlOiAnQ29uZGl0aW9uJyxcblx0XHRcdFx0XHR3aWR0aDogOTVcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAndmFsdWUnLFxuXHRcdFx0XHRcdHRpdGxlOiAnVmFsdWUnLFxuXHRcdFx0XHRcdHdpZHRoOiAyMDBcblx0XHRcdFx0fSxcblx0XHRcdF1cblx0XHR9KS5kYXRhKCdrZW5kb0dyaWQnKTtcblx0fVxuXG5cdGdldCB0aXRsZSgpXG5cdHtcblx0XHRyZXR1cm4gJCgnI21hdGNoRXhwckJ1aWxkZXJNb2RhbFRpdGxlJywgdGhpcy5fZGlhbG9nKS50ZXh0KCk7XG5cdH1cblxuXHRzZXQgdGl0bGUodmFsdWUpXG5cdHtcblx0XHQkKCcjbWF0Y2hFeHByQnVpbGRlck1vZGFsVGl0bGUnLCB0aGlzLl9kaWFsb2cpLnRleHQodmFsdWUpO1xuXHR9XG5cblx0Z2V0IHByZWRlZmluZWRWYXJOYW1lcygpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fcHJlZGVmaW5lZFZhck5hbWVzO1xuXHR9XG5cblx0c2V0IHByZWRlZmluZWRWYXJOYW1lcyh2YWx1ZSlcblx0e1xuXHRcdHRoaXMuX3ByZWRlZmluZWRWYXJOYW1lcyA9IHZhbHVlO1xuXG5cdFx0dGhpcy5fdmFyTmFtZUNiLnNldERhdGFTb3VyY2UodmFsdWUpO1xuXHR9XG5cblx0Z2V0IGZpbHRlckV4cHJlc3Npb24oKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2ZpbHRlckV4cHJlc3Npb247XG5cdH1cblxuXHRzaG93KClcblx0e1xuXHRcdHRoaXMuX2RpYWxvZy5tb2RhbCh7XG5cdFx0XHRiYWNrZHJvcDogJ3N0YXRpYycsXG5cdFx0XHRrZXlib2FyZDogZmFsc2UsXG5cdFx0XHRzaG93OiB0cnVlXG5cdFx0fSk7XG5cdH1cblxuXHRfb25HcmlkU2VsZWN0aW9uQ2hhbmdlKClcblx0e1xuXHRcdGxldCBzZWxlY3RlZFJvd3MgPSB0aGlzLl9ncmlkLnNlbGVjdCgpO1xuXHRcdGxldCBzZWxlY3RlZERhdGFJdGVtcyA9IFtdO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZFJvd3MubGVuZ3RoOyBpKyspXG5cdFx0e1xuXHRcdFx0bGV0IGRhdGFJdGVtID0gdGhpcy5fZ3JpZC5kYXRhSXRlbShzZWxlY3RlZFJvd3NbaV0pO1xuXHRcdFx0c2VsZWN0ZWREYXRhSXRlbXMucHVzaChkYXRhSXRlbSk7XG5cdFx0fVxuXG5cdFx0Ly8gRW5hYmxlL2Rpc2FibGUgcmVtb3ZlIGJ1dHRvblxuXHRcdCQoJyNtYXRjaEV4cHJSZW1vdmVCdCcsIHRoaXMuX2RpYWxvZykuYXR0cignZGlzYWJsZWQnLCBzZWxlY3RlZERhdGFJdGVtcy5sZW5ndGggPT0gMCk7XG5cdH1cblxuXHRfb25BZGRCdENsaWNrKClcblx0e1xuXHRcdGlmICh0aGlzLl92YXJOYW1lQ2IudmFsdWUoKSAhPSAnJyAmJiB0aGlzLl90eXBlRGQuc2VsZWN0KCkpXG5cdFx0e1xuXHRcdFx0Ly8gVmFyaWFibGUgbmFtZSBhbmQgbGFiZWxcblx0XHRcdGxldCB2YXJOYW1lLCB2YXJMYWJlbDtcblxuXHRcdFx0aWYgKHRoaXMuX3Zhck5hbWVDYi5zZWxlY3QoKSA+IC0xKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgZGF0YUl0ZW0gPSB0aGlzLl92YXJOYW1lQ2IuZGF0YUl0ZW0odGhpcy5fdmFyTmFtZUNiLnNlbGVjdCgpKTtcblx0XHRcdFx0dmFyTmFtZSA9IGRhdGFJdGVtLnZhbHVlO1xuXHRcdFx0XHR2YXJMYWJlbCA9IGRhdGFJdGVtLmxhYmVsO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YXJOYW1lID0gdmFyTGFiZWwgPSB0aGlzLl92YXJOYW1lQ2IudmFsdWUoKTtcblxuXHRcdFx0Ly8gVmFyaWFibGUgdHlwZSdzIGxhYmVsXG5cdFx0XHRsZXQgdHlwZUxhYmVsID0gdGhpcy5fdHlwZURkLmRhdGFJdGVtKHRoaXMuX3R5cGVEZC5zZWxlY3QoKSkubGFiZWw7XG5cblx0XHRcdC8vIE1hdGNoIGNvbmRpdGlvblxuXHRcdFx0bGV0IGNvbmRpdGlvbiA9IHRoaXMuX2NvbmRpdGlvbkRkLmRhdGFJdGVtKHRoaXMuX2NvbmRpdGlvbkRkLnNlbGVjdCgpKS5fdmFsdWU7XG5cblx0XHRcdC8vIEV4cHJlc3Npb24gb3BlcmF0b3Jcblx0XHRcdGxldCBvcGVyYXRvciA9IHRoaXMuX2dyaWQuZGF0YVNvdXJjZS50b3RhbCgpID4gMCA/ICQoJ2lucHV0W25hbWU9b3BlcmF0b3JSQkddOmNoZWNrZWQnLCB0aGlzLl9kaWFsb2cpLnZhbCgpIDogbnVsbDtcblxuXHRcdFx0Ly8gVmFyaWFibGUgdmFsdWVcblx0XHRcdGxldCB2YWwgPSB0aGlzLl92YWx1ZUluLnZhbCgpO1xuXHRcdFx0bGV0IHZhclZhbHVlO1xuXG5cdFx0XHRpZiAoY29uZGl0aW9uIGluc3RhbmNlb2YgU0ZTMlguQm9vbE1hdGNoKVxuXHRcdFx0XHR2YXJWYWx1ZSA9ICh2YWwgPT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlKTtcblx0XHRcdGVsc2UgaWYgKGNvbmRpdGlvbiBpbnN0YW5jZW9mIFNGUzJYLk51bWJlck1hdGNoKVxuXHRcdFx0XHR2YXJWYWx1ZSA9IChpc05hTihOdW1iZXIodmFsKSkgPyAwIDogTnVtYmVyKHZhbCkpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YXJWYWx1ZSA9IHZhbDtcblxuXHRcdFx0Ly8gQWRkIGl0ZW0gdG8gZ3JpZFxuXHRcdFx0bGV0IGV4cHJQYXJ0ID0gdGhpcy5fZ2V0RXhwcmVzc2lvblBhcnQodmFyTGFiZWwsIHZhck5hbWUsIHZhclZhbHVlLCB0eXBlTGFiZWwsIGNvbmRpdGlvbiwgb3BlcmF0b3IpO1xuXHRcdFx0dGhpcy5fZ3JpZC5kYXRhU291cmNlLmFkZChleHByUGFydCk7XG5cblx0XHRcdC8vIFJlc2V0IGlucHV0c1xuXHRcdFx0dGhpcy5fdmFyTmFtZUNiLnZhbHVlKCcnKTtcblx0XHRcdHRoaXMuX3ZhbHVlSW4udmFsKCcnKTtcblxuXHRcdFx0Ly8gRW5hYmxlIG9wZXJhdG9yIHJhZGlvIGJ1dHRvbnNcblx0XHRcdHRoaXMuX2VuYWJsZU9wZXJhdG9yUmIodHJ1ZSk7XG5cdFx0fVxuXHR9XG5cblx0X29uQXBwbHlCdENsaWNrKClcblx0e1xuXHRcdC8vIEhpZGUgZGlhbG9nXG5cdFx0dGhpcy5fZGlhbG9nLm1vZGFsKCdoaWRlJyk7XG5cblx0XHQvLyBDbGVhciBncmlkIHNlbGVjdGlvblxuXHRcdHRoaXMuX2dyaWQuY2xlYXJTZWxlY3Rpb24oKTtcblxuXHRcdC8vIEJ1aWxkIGZpbmFsIG1hdGNoIGV4cHJlc3Npb25cblx0XHR0aGlzLl9maWx0ZXJFeHByZXNzaW9uID0gbnVsbDtcblxuXHRcdGlmICh0aGlzLl9ncmlkLmRhdGFTb3VyY2UudG90YWwoKSA+IDApXG5cdFx0e1xuXHRcdFx0bGV0IGV4cFBhcnQgPSB0aGlzLl9ncmlkLmRhdGFTb3VyY2UuYXQoMCk7XG5cdFx0XHR0aGlzLl9maWx0ZXJFeHByZXNzaW9uID0gbmV3IFNGUzJYLk1hdGNoRXhwcmVzc2lvbihleHBQYXJ0Lm5hbWUsIGV4cFBhcnQuX2NvbmRpdGlvbiwgZXhwUGFydC52YWx1ZSk7XG5cblx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5fZ3JpZC5kYXRhU291cmNlLnRvdGFsKCk7IGkrKylcblx0XHRcdHtcblx0XHRcdFx0ZXhwUGFydCA9IHRoaXMuX2dyaWQuZGF0YVNvdXJjZS5hdChpKTtcblxuXHRcdFx0XHRpZiAoZXhwUGFydC5vcGVyYXRvciA9PSBTRlMyWC5Mb2dpY09wZXJhdG9yLkFORC5pZClcblx0XHRcdFx0XHR0aGlzLl9maWx0ZXJFeHByZXNzaW9uID0gdGhpcy5fZmlsdGVyRXhwcmVzc2lvbi5hbmQoZXhwUGFydC5uYW1lLCBleHBQYXJ0Ll9jb25kaXRpb24sIGV4cFBhcnQudmFsdWUpO1xuXHRcdFx0XHRlbHNlIGlmIChleHBQYXJ0Lm9wZXJhdG9yID09IFNGUzJYLkxvZ2ljT3BlcmF0b3IuT1IuaWQpXG5cdFx0XHRcdFx0dGhpcy5fZmlsdGVyRXhwcmVzc2lvbiA9IHRoaXMuX2ZpbHRlckV4cHJlc3Npb24ub3IoZXhwUGFydC5uYW1lLCBleHBQYXJ0Ll9jb25kaXRpb24sIGV4cFBhcnQudmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgZXZlbnRcblx0XHRsZXQgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KHRoaXMuRVhQUkVTU0lPTl9VUERBVEVEX0VWRU5ULCB7XG5cdFx0ICAgIFx0ZGV0YWlsOiBudWxsLFxuXHRcdFx0XHRidWJibGVzOiBmYWxzZSxcblx0XHRcdFx0Y2FuY2VsYWJsZTogZmFsc2Vcblx0XHRcdH0pO1xuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdH1cblxuXHRfb25SZW1vdmVCdENsaWNrKClcblx0e1xuXHRcdGxldCBkYXRhSXRlbSA9IHRoaXMuX2dyaWQuZGF0YUl0ZW0odGhpcy5fZ3JpZC5zZWxlY3QoKSk7XG5cdFx0dGhpcy5fZ3JpZC5kYXRhU291cmNlLnJlbW92ZShkYXRhSXRlbSk7XG5cblx0XHQvLyBDbGVhciBncmlkIHNlbGVjdGlvblxuXHRcdHRoaXMuX2dyaWQuY2xlYXJTZWxlY3Rpb24oKTtcblxuXHRcdGlmICh0aGlzLl9ncmlkLmRhdGFTb3VyY2UudG90YWwoKSA9PSAwKVxuXHRcdHtcblx0XHRcdC8vIERpc2FibGUgb3BlcmF0b3IgcmFkaW8gYnV0dG9uc1xuXHRcdFx0dGhpcy5fZW5hYmxlT3BlcmF0b3JSYihmYWxzZSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQvLyBSZXNldCBvcGVyYXRvciBvbiBmaXJzdCBlbnRyeVxuXHRcdFx0dGhpcy5fZ3JpZC5kYXRhU291cmNlLmF0KDApLm9wZXJhdG9yID0gbnVsbDtcblx0XHRcdHRoaXMuX2dyaWQucmVmcmVzaCgpO1xuXHRcdH1cblx0fVxuXG5cdF9vbkNsZWFyQnRDbGljaygpXG5cdHtcblx0XHQvLyBSZXNldCBmb3JtXG5cdFx0JCgnI2FuZE9wZXJhdG9yUkInLCB0aGlzLl9kaWFsb2cpLmF0dHIoJ2NoZWNrZWQnLCB0cnVlKTtcblx0XHQkKCcjb3JPcGVyYXRvclJCJywgdGhpcy5fZGlhbG9nKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuXHRcdHRoaXMuX2VuYWJsZU9wZXJhdG9yUmIoZmFsc2UpO1xuXG5cdFx0dGhpcy5fdmFyTmFtZUNiLnZhbHVlKCcnKTtcblx0XHR0aGlzLl90eXBlRGQuc2VsZWN0KDApO1xuXHRcdHRoaXMuX2NvbmRpdGlvbkRkLnNlbGVjdCgwKTtcblxuXHRcdHRoaXMuX3ZhbHVlSW4udmFsKCcnKTtcblxuXHRcdC8vIENsZWFyIGdyaWQgc2VsZWN0aW9uXG5cdFx0dGhpcy5fZ3JpZC5jbGVhclNlbGVjdGlvbigpO1xuXG5cdFx0Ly8gQ2xlYXIgdGFibGVcblx0XHR0aGlzLl9ncmlkLnNldERhdGFTb3VyY2UoW10pO1xuXHR9XG5cblx0X2dldEV4cHJlc3Npb25QYXJ0KHZhckxhYmVsLCB2YXJOYW1lLCB2YXJWYWx1ZSwgdHlwZUxhYmVsLCBjb25kaXRpb24sIG9wZXJhdG9yKVxuXHR7XG5cdFx0cmV0dXJuIHtcblx0XHRcdCdsYWJlbCc6IHZhckxhYmVsLFxuXHRcdFx0J25hbWUnOiB2YXJOYW1lLFxuXHRcdFx0J3ZhbHVlJzogdmFyVmFsdWUsXG5cdFx0XHQndHlwZUxhYmVsJzogdHlwZUxhYmVsLFxuXHRcdFx0J3N5bWJvbCc6IGNvbmRpdGlvbi5zeW1ib2wsXG5cdFx0XHQnb3BlcmF0b3InOiBvcGVyYXRvcixcblx0XHRcdCdfY29uZGl0aW9uJzogY29uZGl0aW9uLFxuXHRcdH07XG5cdH1cblxuXHRfZW5hYmxlT3BlcmF0b3JSYihlbmFibGUpXG5cdHtcblx0XHQkKCcjYW5kT3BlcmF0b3JSQicsIHRoaXMuX2RpYWxvZykuYXR0cignZGlzYWJsZWQnLCAhZW5hYmxlKTtcblx0XHQkKCcjb3JPcGVyYXRvclJCJywgdGhpcy5fZGlhbG9nKS5hdHRyKCdkaXNhYmxlZCcsICFlbmFibGUpO1xuXHR9XG59XG5cbi8vIERFRklORSBDT01QT05FTlRcbmlmICghd2luZG93LmN1c3RvbUVsZW1lbnRzLmdldCgnbWF0Y2gtZXhwcmVzc2lvbi1idWlsZGVyJykpXG5cdHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21hdGNoLWV4cHJlc3Npb24tYnVpbGRlcicsIE1hdGNoRXhwcmVzc2lvbkJ1aWxkZXIpO1xuIiwiZXhwb3J0IGNsYXNzIFNpZGViYXJMYXlvdXQgZXh0ZW5kcyBIVE1MRWxlbWVudFxue1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0ICAgIHN1cGVyKCk7XG5cblx0XHQvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdFxuXHRcdGNvbnN0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG5cdFx0c2hhZG93Um9vdC5pbm5lckhUTUwgPSBgXG5cdFx0XHQ8c3R5bGU+XG5cdFx0XHRcdDpob3N0IHtcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRAbWVkaWEgKG1heC13aWR0aDogNTc1Ljk4cHgpIHtcblx0XHRcdFx0XHQ6aG9zdCguc3BsaXQteHMpIDo6c2xvdHRlZCg6bm90KFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSkpIHtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcblx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdDpob3N0KC5zcGxpdC14cykgOjpzbG90dGVkKFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSkge1xuXHRcdFx0XHRcdFx0ZmxleC1ncm93OiAxO1xuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0QG1lZGlhIChtYXgtd2lkdGg6IDc2Ny45OHB4KSB7XG5cdFx0XHRcdFx0Omhvc3QoLnNwbGl0LXNtKSA6OnNsb3R0ZWQoOm5vdChbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0pKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG5cdFx0XHRcdCAgICB9XG5cblx0XHRcdFx0XHQ6aG9zdCguc3BsaXQtc20pIDo6c2xvdHRlZChbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0pIHtcblx0XHRcdFx0XHRcdGZsZXgtZ3JvdzogMTtcblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdEBtZWRpYSAobWF4LXdpZHRoOiA5OTEuOThweCkge1xuXHRcdFx0XHRcdDpob3N0KC5zcGxpdC1tZCkgOjpzbG90dGVkKDpub3QoW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdKSkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuXHRcdFx0XHQgICAgfVxuXG5cdFx0XHRcdFx0Omhvc3QoLnNwbGl0LW1kKSA6OnNsb3R0ZWQoW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdKSB7XG5cdFx0XHRcdFx0XHRmbGV4LWdyb3c6IDE7XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRAbWVkaWEgKG1heC13aWR0aDogMTE5OS45OHB4KSB7XG5cdFx0XHRcdFx0Omhvc3QoLnNwbGl0LWxnKSA6OnNsb3R0ZWQoOm5vdChbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0pKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG5cdFx0XHRcdCAgICB9XG5cblx0XHRcdFx0XHQ6aG9zdCguc3BsaXQtbGcpIDo6c2xvdHRlZChbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0pIHtcblx0XHRcdFx0XHRcdGZsZXgtZ3JvdzogMTtcblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC5zaWRlLWNvbDo6c2xvdHRlZCgqKSB7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQubWFpbi1jb2w6OnNsb3R0ZWQoKikge1xuXHRcdFx0XHRcdGZsZXgtZ3JvdzogMTtcblx0XHRcdFx0fVxuXHRcdFx0PC9zdHlsZT5cblxuXHRcdFx0PHNsb3QgY2xhc3M9XCJzaWRlLWNvbFwiIG5hbWU9XCJzaWRlLWNvbHVtblwiPjwvc2xvdD5cblx0XHRcdDxzbG90IGNsYXNzPVwibWFpbi1jb2xcIiBuYW1lPVwibWFpbi1jb2x1bW5cIj48L3Nsb3Q+XG5cdFx0YDtcblxuXHRcdC8vIFNldCBpbml0aWFsIHNlbGVjdGlvblxuXHRcdHRoaXMuc2VsZWN0ZWRJbmRleCA9IDA7XG5cdH1cblxuXHRnZXQgc2VsZWN0ZWRQYW5lbCgpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fc2VsZWN0ZWRQYW5lbDtcblx0fVxuXG5cdHNldCBzZWxlY3RlZFBhbmVsKGVsZW1lbnQpIC8vICdzaWRlJyBvciAnbWFpbidcblx0e1xuXHRcdGlmIChlbGVtZW50ICE9IG51bGwgJiYgZWxlbWVudC5wYXJlbnROb2RlID09IHRoaXMpXG5cdFx0e1xuXHRcdFx0dGhpcy5fc2VsZWN0ZWRQYW5lbCA9IGVsZW1lbnQ7XG5cblx0XHRcdGZvciAobGV0IGVsZW1lbnQgb2YgdGhpcy5jaGlsZHJlbilcblx0XHRcdHtcblx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gdGhpcy5fc2VsZWN0ZWRQYW5lbClcblx0XHRcdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICd0cnVlJyk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Y29uc29sZS5lcnJvcignRWxlbWVudCBpcyBub3QgYSBjaGlsZCBvZiBTaWRlYmFyTGF5b3V0Jyk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IHNlbGVjdGVkSW5kZXgoKVxuXHR7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbikuaW5kZXhPZih0aGlzLl9zZWxlY3RlZFBhbmVsKTtcblx0fVxuXG5cdHNldCBzZWxlY3RlZEluZGV4KGluZGV4KVxuXHR7XG5cdFx0aWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMClcblx0XHR7XG5cdFx0XHRpZiAodGhpcy5jaGlsZHJlbltpbmRleF0gPT0gbnVsbClcblx0XHRcdHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignSW52YWxpZCBTaWRlYmFyTGF5b3V0IGluZGV4Jyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGVsZW1lbnQgPSB0aGlzLmNoaWxkcmVuW2luZGV4XTtcblx0XHRcdHRoaXMuc2VsZWN0ZWRQYW5lbCA9IGVsZW1lbnQ7XG5cdFx0fVxuXHR9XG59XG5cbi8vIERFRklORSBDT01QT05FTlRcbmlmICghd2luZG93LmN1c3RvbUVsZW1lbnRzLmdldCgnc2lkZWJhci1sYXlvdXQnKSlcblx0d2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2lkZWJhci1sYXlvdXQnLCBTaWRlYmFyTGF5b3V0KTtcbiIsImltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9iYXNlLW1vZHVsZSc7XG5pbXBvcnQge1NpZGViYXJMYXlvdXR9IGZyb20gJy4uL2NvbXBvbmVudHMvc2lkZWJhci1sYXlvdXQnO1xuaW1wb3J0IHtNYXRjaEV4cHJlc3Npb25CdWlsZGVyfSBmcm9tICcuLi9jb21wb25lbnRzL21vZHVsZS1zcGVjaWZpYy9tYXRjaC1leHByZXNzaW9uLWJ1aWxkZXInO1xuaW1wb3J0IHtDb25maWdJbnRlcmZhY2VCdWlsZGVyfSBmcm9tICcuLi91dGlscy91aWJ1aWxkZXIvY29uZmlnLWludGVyZmFjZS1idWlsZGVyJztcbmltcG9ydCB7Y2FwaXRhbGl6ZUZpcnN0LCBmaWx0ZXJDbGFzc05hbWUsIHJvdW5kVG9EZWNpbWFscywgc2NhbGVCeXRlc30gZnJvbSAnLi4vdXRpbHMvdXRpbGl0aWVzJztcbmltcG9ydCB7Um9vbVByb3BlcnRpZXNEYXRhLFVzZXJQcm9wZXJ0aWVzRGF0YX0gZnJvbSAnLi4vdXRpbHMvbWF0Y2gtcHJvcGVydGllcyc7XG5pbXBvcnQge1VzZXJDb3VudENoYXJ0fSBmcm9tICcuLi9jb21wb25lbnRzL2NoYXJ0cy91c2VyLWNvdW50LWNoYXJ0JztcbmltcG9ydCB7Z2V0VGltZVJhbmdlVG9vbHRpcFRlbXBsYXRlLCBnZXRXUkJ5dGVzTGFiZWxUZW1wbGF0ZX0gZnJvbSAnLi4vY29tcG9uZW50cy9jaGFydHMvY2hhcnQtdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBab25lTW9uaXRvciBleHRlbmRzIEJhc2VNb2R1bGVcbntcblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdCAgICBzdXBlcignem9uZU1vbml0b3InKTtcblxuXHRcdHRoaXMuTU9OSVRPUkVEX1RZUEVfWk9ORSA9ICd6b25lJztcblx0XHR0aGlzLk1PTklUT1JFRF9UWVBFX1JPT00gPSAncm9vbSc7XG5cdFx0dGhpcy5NT05JVE9SRURfVFlQRV9VU0VSID0gJ3VzZXInO1xuXG5cdFx0dGhpcy5BTllfTEFCRUwgPSAnW2FueV0nO1xuXHRcdHRoaXMuREVGQVVMVF9HUk9VUF9OQU1FID0gJ2RlZmF1bHQnO1xuXHRcdHRoaXMuTUFYX0VYVEVOU0lPTl9MT0dfU0laRSA9IDMwMDtcblx0XHR0aGlzLktJQ0tfQkFOX0RFRkFVTFRfREVMQVkgPSA1O1xuXG5cdFx0Ly8gT3V0Z29pbmcgcmVxdWVzdHNcblx0XHR0aGlzLlJFUV9HRVRfREFUQSA9ICdnZXREYXRhJztcblx0XHR0aGlzLlJFUV9TRVRfWk9ORV9TRVRUSU5HUyA9ICdzZXRab25lU2V0dGluZ3MnO1xuXHRcdHRoaXMuUkVRX1NFVF9ST09NX1NFVFRJTkdTID0gJ3NldFJvb21TZXR0aW5ncyc7XG5cdFx0dGhpcy5SRVFfU0VUX1VTRVJfU0VUVElOR1MgPSAnc2V0VXNlclNldHRpbmdzJztcblx0XHR0aGlzLlJFUV9SRUxPQURfWk9ORV9FWFQgPSAncmVsb2FkWm9uZUV4dCc7XG5cdFx0dGhpcy5SRVFfUkVMT0FEX1dPUkRTID0gJ3JlbG9hZFdvcmRzJztcblx0XHR0aGlzLlJFUV9ESVNDT05ORUNUX1VTRVIgPSAnZGlzY29ublVzZXInO1xuXHRcdHRoaXMuUkVRX0tJQ0tfVVNFUiA9ICdraWNrVXNlcic7XG5cdFx0dGhpcy5SRVFfQkFOX1VTRVIgPSAnYmFuVXNlcic7XG5cdFx0dGhpcy5SRVFfR0VUX1JPT01fQ09ORklHID0gJ2dldFJvb21Db25maWcnO1xuXHRcdHRoaXMuUkVRX0NSRUFURV9ST09NID0gJ2NyZWF0ZVJvb20nO1xuXHRcdHRoaXMuUkVRX1JFTU9WRV9ST09NID0gJ3JlbW92ZVJvb20nO1xuXHRcdHRoaXMuUkVRX0FETUlOX01TRyA9ICdhZG1pbk1zZyc7XG5cblx0XHQvLyBJbmNvbWluZyByZXNwb25zZXNcblx0XHR0aGlzLlJFU1BfREFUQSA9ICdkYXRhJztcblx0XHR0aGlzLlJFU1BfVU5FWFBFQ1RFRF9FUlJPUiA9ICd1bmV4cEVycm9yJztcblx0XHR0aGlzLlJFU1BfVVBEQVRFX0VSUk9SID0gJ3VwZGF0ZUVycm9yJztcblx0XHR0aGlzLlJFU1BfUk9PTV9DT05GSUcgPSAncm9vbUNvbmZpZyc7XG5cdFx0dGhpcy5SRVNQX1JPT01fQ09ORklHX0VSUk9SID0gJ3Jvb21Db25maWdFcnInO1xuXHRcdHRoaXMuUkVTUF9ST09NX0NSRUFURUQgPSAncm9vbUNyZWF0ZWQnO1xuXHRcdHRoaXMuUkVTUF9ST09NX0NSRUFUSU9OX0VSUk9SID0gJ3Jvb21FcnJvcic7XG5cdFx0dGhpcy5SRVNQX0xPR19NRVNTQUdFUyA9ICdsb2cnOyAvLyBUaGlzIHJlc3BvbnNlIGRvZXNuJ3QgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgcmVxdWVzdCBiZWNhdXNlIGl0IGlzIG1hbmFnZWQgYnkgYSBzZXJ2ZXIgZXZlbnQgbGlzdGVuZXJcblxuXHRcdHRoaXMuX2N1cnJlbnRSZXF1ZXN0SWQgPSAtMTtcblx0fVxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIENPTU1PTiBNT0RVTEUgSU5URVJGQUNFIE1FVEhPRFNcblx0Ly8gVGhpcyBtZW1iZXJzIGFyZSB1c2VkIGJ5IHRoZSBtYWluIGNvbnRyb2xsZXJcblx0Ly8gdG8gY29tbXVuaWNhdGUgd2l0aCB0aGUgbW9kdWxlJ3MgY29udHJvbGxlci5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRpbml0aWFsaXplKGlkRGF0YSwgc2hlbGxDb250cm9sbGVyKVxuXHR7XG5cdFx0Ly8gQ2FsbCBzdXBlciBtZXRob2Rcblx0XHRzdXBlci5pbml0aWFsaXplKGlkRGF0YSwgc2hlbGxDb250cm9sbGVyKTtcblxuXHRcdC8vIFNldCBtb25pdG9yaW5nIGludGVyZmFjZVxuXHRcdHRoaXMuX3NldE1vbml0b3JpbmdJbnRlcmZhY2UoKTtcblxuXHRcdC8vIEluaXRpYWxpemUgcHJvZ3Jlc3MgYmFyXG5cdFx0JCgnI3pubS1wcm9ncmVzc0JhcicpLmtlbmRvUHJvZ3Jlc3NCYXIoe1xuXHRcdFx0bWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxMDAsXG5cdFx0XHR2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICB0eXBlOiAndmFsdWUnLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXHRcdC8vIExJU1RTXG5cblx0XHQvLyBJbml0aWFsaXplIGludGVydmFsIGRyb3Bkb3duXG5cdFx0dGhpcy5faW50ZXJ2YWxEcm9wRG93biA9ICQoJyN6bm0taW50ZXJ2YWxERCcpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdHZhbHVlVGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWQgcHItMVwiPkludGVydmFsOjwvc3Bhbj48c3Bhbj4jOmRhdGEudGV4dCM8L3NwYW4+Jyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vblVwZGF0ZUludGVydmFsQ2hhbmdlLCB0aGlzKVxuXHRcdH0pLmRhdGEoJ2tlbmRvRHJvcERvd25MaXN0Jyk7XG5cblx0XHQvLyBJbml0aWFsaXplIHBhbmUgYmFyXG5cdFx0dGhpcy5fYWNjb3JkaW9uID0gJCgnI3pubS1wYW5lbGJhcicpLmtlbmRvUGFuZWxCYXIoe1xuICAgICAgICAgICAgZXhwYW5kTW9kZTogJ3NpbmdsZScsXG5cdFx0XHRjaGFuZ2U6ICQucHJveHkodGhpcy5fb25FbnRpdGllc1BhbmVsQ2hhbmdlLCB0aGlzKVxuICAgICAgICB9KS5kYXRhKCdrZW5kb1BhbmVsQmFyJyk7XG5cblx0XHQvLyBJbml0aWFsaXplIGxpc3RzXG5cdFx0dGhpcy5fem9uZUxpc3RCb3ggPSAkKFwiI3pubS16b25lTGlzdFwiKS5rZW5kb0xpc3RCb3goe1xuXHRcdFx0dGVtcGxhdGU6ICc8ZGl2PiM6ZGF0YS5uYW1lIyAoIzpkYXRhLnVzZXJzIyk8L2Rpdj4nLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uWm9uZVNlbGVjdGVkLCB0aGlzKVxuXHRcdH0pLmRhdGEoJ2tlbmRvTGlzdEJveCcpO1xuXG5cdFx0dGhpcy5fem9uZUxpc3RCb3gud3JhcHBlci5maW5kKCcuay1saXN0Jykub24oJ2RibGNsaWNrJywgJy5rLWl0ZW0nLCAkLnByb3h5KHRoaXMuX29uTW9uaXRvclNlbGVjdGlvbkJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdHRoaXMuX3Jvb21MaXN0Qm94ID0gJChcIiN6bm0tcm9vbUxpc3RcIikua2VuZG9MaXN0Qm94KHtcblx0XHRcdHRlbXBsYXRlOiAnPGRpdj4jOmRhdGEubmFtZSMgKCM6ZGF0YS51c2VycyMpPC9kaXY+Jyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vblJvb21TZWxlY3RlZCwgdGhpcylcblx0XHR9KS5kYXRhKCdrZW5kb0xpc3RCb3gnKTtcblxuXHRcdHRoaXMuX3Jvb21MaXN0Qm94LndyYXBwZXIuZmluZCgnLmstbGlzdCcpLm9uKCdkYmxjbGljaycsICcuay1pdGVtJywgJC5wcm94eSh0aGlzLl9vbk1vbml0b3JTZWxlY3Rpb25CdENsaWNrLCB0aGlzKSk7XG5cblx0XHR0aGlzLl91c2VyTGlzdEJveCA9ICQoXCIjem5tLXVzZXJMaXN0XCIpLmtlbmRvTGlzdEJveCh7XG5cdFx0XHR0ZW1wbGF0ZTogJzxkaXY+IzpkYXRhLm5hbWUjPC9kaXY+Jyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vblVzZXJTZWxlY3RlZCwgdGhpcylcblx0XHR9KS5kYXRhKCdrZW5kb0xpc3RCb3gnKTtcblxuXHRcdHRoaXMuX3VzZXJMaXN0Qm94LndyYXBwZXIuZmluZCgnLmstbGlzdCcpLm9uKCdkYmxjbGljaycsICcuay1pdGVtJywgJC5wcm94eSh0aGlzLl9vbk1vbml0b3JTZWxlY3Rpb25CdENsaWNrLCB0aGlzKSk7XG5cblx0XHQvLyBJbml0aWFsaXplIFJvb20gR3JvdXBzIGRyb3Bkb3duXG5cdFx0dGhpcy5fZ3JvdXBzRHJvcERvd24gPSAkKCcjem5tLXJvb21Hcm91cHNERCcpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdGRhdGFUZXh0RmllbGQ6ICdsYWJlbCcsXG4gIFx0XHRcdGRhdGFWYWx1ZUZpZWxkOiAnbmFtZScsXG5cdFx0XHRjaGFuZ2U6ICQucHJveHkodGhpcy5fb25Hcm91cENoYW5nZSwgdGhpcylcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0Ly8gQnVpbGQgaW5pdGlhbCBncm91cHMgbGlzdFxuXHRcdHRoaXMuX3NldEdyb3Vwc0RhdGFQcm92aWRlcihudWxsKTtcblxuXHRcdC8vIC8vIENyZWF0ZSBpbnRlcmZhY2UgYnVpbGRlciBpbnN0YW5jZXNcblx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyID0gbmV3IENvbmZpZ0ludGVyZmFjZUJ1aWxkZXIoKTtcblx0XHR0aGlzLl9yb29tQ3JlYXRpb25JQnVpbGRlciA9IG5ldyBDb25maWdJbnRlcmZhY2VCdWlsZGVyKCk7XG5cblx0XHQvLyBBZGQgbGlzdGVuZXIgdG8gc2hvdyBsaW1pdCB3YXJuaW5nIHRvb2x0aXBzXG5cdFx0JCgnI3pubS1wYW5lbGJhcicpLmtlbmRvVG9vbHRpcCh7XG5cdFx0XHRmaWx0ZXI6ICdpW3RpdGxlXS5saW1pdC13YXJuaW5nJyxcblx0XHRcdHBvc2l0aW9uOiAncmlnaHQnLFxuXHRcdFx0d2lkdGg6ICcyNTBweCcsXG5cdFx0XHRjb250ZW50OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHJldHVybiBgPGRpdiBjbGFzcz1cImhlbHAtdG9vbHRpcFwiPiR7ZS50YXJnZXQuZGF0YSgndGl0bGUnKX08L2Rpdj5gO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gUk9PTSBDUkVBVElPTiBQQU5FTFxuXG5cdFx0Ly8gQWRkIGNsaWNrIGxpc3RlbmVyIHRvIENyZWF0ZSAmIFJlbW92ZSBSb29tIGJ1dHRvbnNcblx0XHQkKCcjem5tLWNyZWF0ZVJvb21CdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25DcmVhdGVSb29tQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tcmVtb3ZlUm9vbUJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblJlbW92ZVJvb21CdENsaWNrLCB0aGlzKSk7XG5cblx0XHQvLyBDb25maWd1cmUgcm9vbSBjcmVhdGlvbiBwYW5lbFxuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbU1vZGFsJykubW9kYWwoe1xuXHRcdFx0YmFja2Ryb3A6ICdzdGF0aWMnLFxuXHRcdFx0a2V5Ym9hcmQ6IGZhbHNlLFxuXHRcdFx0c2hvdzogZmFsc2UsXG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgbGlzdGVuZXIgZm9yIHJvb20gY3JlYXRpb24gcGFuZWwncyBjcmVhdGUgYnV0dG9uIGNsaWNrXG5cdFx0JCgnI3pubS1yb29tQ3JlYXRvckNyZWF0ZUJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblJvb21DcmVhdG9yQ3JlYXRlQnRDbGljaywgdGhpcykpO1xuXG5cdFx0Ly8gQWRkIGxpc3RlbmVyIGZvciByb29tIGNyZWF0aW9uIHBhbmVsIGhpZGVcblx0XHQkKCcjem5tLWNyZWF0ZVJvb21Nb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAkLnByb3h5KHRoaXMuX29uQ3JlYXRlUm9vbU1vZGFsSGlkZGVuLCB0aGlzKSk7XG5cblx0XHQvLyBST09NICYgVVNFUiBGSUxURVJJTkcgUEFORUxTXG5cblx0XHQvLyBTZXR1cCBtYXRjaCBleHByZXNzaW9uIGJ1aWxkZXIgcGFuZWwgZm9yIHJvb21zXG5cdFx0dGhpcy5fcm9vbUZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6bm0tcm9vbUZpbHRlcicpO1xuXHRcdHRoaXMuX3Jvb21GaWx0ZXIudGl0bGUgPSAnUm9vbSBGaWx0ZXIgRXhwcmVzc2lvbiBCdWlsZGVyJztcblx0XHR0aGlzLl9yb29tRmlsdGVyLnByZWRlZmluZWRWYXJOYW1lcyA9IFJvb21Qcm9wZXJ0aWVzRGF0YS5wcm9wZXJ0aWVzQXJyYXk7XG5cdFx0JCh0aGlzLl9yb29tRmlsdGVyKS5vbih0aGlzLl9yb29tRmlsdGVyLkVYUFJFU1NJT05fVVBEQVRFRF9FVkVOVCwgJC5wcm94eSh0aGlzLl9vblJvb21GaWx0ZXJVcGRhdGVkLCB0aGlzKSk7XG5cblx0XHQkKCcjem5tLWZpbHRlclJvb21CdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25TaG93Um9vbUZpbHRlckJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLWFwcGx5Um9vbUZpbHRlckNCJykub24oJ2NoYW5nZScsICQucHJveHkodGhpcy5fb25BcHBseUJ0Q2hhbmdlLCB0aGlzKSk7XG5cblx0XHQvLyBTZXR1cCBtYXRjaCBleHByZXNzaW9uIGJ1aWxkZXIgcGFuZWwgZm9yIHVzZXJzXG5cdFx0dGhpcy5fdXNlckZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6bm0tdXNlckZpbHRlcicpO1xuXHRcdHRoaXMuX3VzZXJGaWx0ZXIudGl0bGUgPSAnVXNlciBGaWx0ZXIgRXhwcmVzc2lvbiBCdWlsZGVyJztcblx0XHR0aGlzLl91c2VyRmlsdGVyLnByZWRlZmluZWRWYXJOYW1lcyA9IFVzZXJQcm9wZXJ0aWVzRGF0YS5wcm9wZXJ0aWVzQXJyYXk7XG5cdFx0JCh0aGlzLl91c2VyRmlsdGVyKS5vbih0aGlzLl91c2VyRmlsdGVyLkVYUFJFU1NJT05fVVBEQVRFRF9FVkVOVCwgJC5wcm94eSh0aGlzLl9vblVzZXJGaWx0ZXJVcGRhdGVkLCB0aGlzKSk7XG5cblx0XHQkKCcjem5tLWZpbHRlclVzZXJCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25TaG93VXNlckZpbHRlckJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLWFwcGx5VXNlckZpbHRlckNCJykub24oJ2NoYW5nZScsICQucHJveHkodGhpcy5fb25BcHBseUJ0Q2hhbmdlLCB0aGlzKSk7XG5cblx0XHQvLyBNQUlOIENPTlRST0xTXG5cblx0XHQkKCcjem5tLW1vbml0b3JCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25Nb25pdG9yU2VsZWN0aW9uQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tc2VuZE1lc3NhZ2VCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25TZW5kQWRtaW5Nc2dCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI3pubS1tZXNzYWdlSW4nKS5vbigna2V5dXAnLCAkLnByb3h5KHRoaXMuX29uU2VuZEFkbWluTXNnSW5LZXlVcCwgdGhpcykpO1xuXG5cdFx0Ly8gTU9OSVRPUklORyBDT05UUk9MU1xuXG5cdFx0JCgnI3pubS1jbG9zZU1vbml0b3JCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI3pubS1lZGl0QnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uRWRpdEJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLWNhbmNlbEJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vbkNhbmNlbEJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLXN1Ym1pdEJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblN1Ym1pdEJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdC8vIEhpZGUgZWRpdCBjb250cm9sc1xuXHRcdCQoJyN6bm0tZWRpdENvbnRyb2xzJykuaGlkZSgpO1xuXG5cdFx0Ly8gWk9ORSBNT05JVE9SIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0Ly8gU2V0IHJlZmVyZW5jZSB0byB1c2VyIGNvdW50IGNoYXJ0XG5cdFx0dGhpcy5fdXNlckNvdW50Q2hhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem5tLXVzZXJDb3VudENoYXJ0Jyk7XG5cblx0XHQvLyBJbml0aWFsaXplIHRpbWUgcmFuZ2Ugc2xpZGVyXG5cdFx0dGhpcy5fdGltZVNsaWRlciA9ICQoJyN6bm0tdGltZVNsaWRlcicpLmtlbmRvUmFuZ2VTbGlkZXIoe1xuXHRcdFx0bWluOiAtMjQsXG4gICAgICAgICAgICBtYXg6IDAsXG4gICAgICAgICAgICBzbWFsbFN0ZXA6IDEsXG4gICAgICAgICAgICBsYXJnZVN0ZXA6IDAsXG5cdFx0XHRjaGFuZ2U6ICQucHJveHkodGhpcy5fb25UaW1lUmFuZ2VDaGFuZ2UsIHRoaXMpLFxuXHRcdFx0dG9vbHRpcDoge1xuXHRcdFx0XHR0ZW1wbGF0ZTogZ2V0VGltZVJhbmdlVG9vbHRpcFRlbXBsYXRlKClcblx0XHRcdH0sXG5cdFx0XHRsZWZ0RHJhZ0hhbmRsZVRpdGxlOiAnRHJhZycsXG5cdFx0XHRyaWdodERyYWdIYW5kbGVUaXRsZTogJ0RyYWcnLFxuXHRcdH0pLmRhdGEoJ2tlbmRvUmFuZ2VTbGlkZXInKTtcblxuXHRcdC8vIFJlc2V0IHRpbWUgcmFuZ2Ugb24gdXNlciBjb3VudCBjaGFydFxuXHRcdHRoaXMuX29uVGltZVJhbmdlQ2hhbmdlKCk7XG5cblx0XHQvLyBBZGQgYnV0dG9uIGNsaWNrIGxpc3RlbmVyc1xuXHRcdCQoJyN6bm0tcmVsb2FkV29yZHNCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25Xb3Jkc1JlbG9hZEJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLXJlbG9hZFpvbmVFeHRCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25ab25lRXh0UmVsb2FkQnRDbGljaywgdGhpcykpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBleHRlbnNpb24gbG9nIGdyaWRcblx0XHR0aGlzLl96b25lRXh0TG9nR3JpZCA9ICQoJyN6bm0tem9uZUV4dExvZ0dyaWQnKS5rZW5kb0dyaWQoe1xuXHRcdFx0ZGF0YVNvdXJjZTogW10sXG5cdFx0XHRyZXNpemFibGU6IHRydWUsXG5cdFx0XHRzZWxlY3RhYmxlOiBmYWxzZSxcblx0XHRcdG5vUmVjb3Jkczoge1xuXHRcdFx0XHR0ZW1wbGF0ZTogJ05vIGVudHJpZXMuJ1xuXHRcdFx0fSxcblx0XHRcdGNvbHVtbnM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAndGltZXN0YW1wJyxcblx0XHRcdFx0XHR0aXRsZTogJ1RpbWVzdGFtcCcsXG5cdFx0XHRcdFx0d2lkdGg6IDE4MFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICdsZXZlbCcsXG5cdFx0XHRcdFx0dGl0bGU6ICdMZXZlbCcsXG5cdFx0XHRcdFx0d2lkdGg6IDEwMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICdtZXNzYWdlJyxcblx0XHRcdFx0XHR0aXRsZTogJ01lc3NhZ2UnLFxuXHRcdFx0XHRcdHdpZHRoOiA0MDBcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0XHRkYXRhQm91bmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHRoaXMuY29udGVudC5zY3JvbGxUb3AodGhpcy50Ym9keS5oZWlnaHQoKSk7IC8vIFNjcm9sbCB0byBib3R0b21cblx0XHRcdH1cblx0XHR9KS5kYXRhKCdrZW5kb0dyaWQnKTtcblxuXHRcdC8vIFJPT00gTU9OSVRPUiAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdC8vIEluaXRpYWxpemUgZXh0ZW5zaW9uIGxvZyBncmlkXG5cdFx0dGhpcy5fcm9vbUV4dExvZ0dyaWQgPSAkKCcjem5tLXJvb21FeHRMb2dHcmlkJykua2VuZG9HcmlkKHtcblx0XHRcdGRhdGFTb3VyY2U6IFtdLFxuXHRcdFx0cmVzaXphYmxlOiB0cnVlLFxuXHRcdFx0c2VsZWN0YWJsZTogZmFsc2UsXG5cdFx0XHRub1JlY29yZHM6IHtcblx0XHRcdFx0dGVtcGxhdGU6ICdObyBlbnRyaWVzLidcblx0XHRcdH0sXG5cdFx0XHRjb2x1bW5zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ3RpbWVzdGFtcCcsXG5cdFx0XHRcdFx0dGl0bGU6ICdUaW1lc3RhbXAnLFxuXHRcdFx0XHRcdHdpZHRoOiAxODBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbGV2ZWwnLFxuXHRcdFx0XHRcdHRpdGxlOiAnTGV2ZWwnLFxuXHRcdFx0XHRcdHdpZHRoOiAxMDBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbWVzc2FnZScsXG5cdFx0XHRcdFx0dGl0bGU6ICdNZXNzYWdlJyxcblx0XHRcdFx0XHR3aWR0aDogNDAwXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0ZGF0YUJvdW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICB0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wKHRoaXMudGJvZHkuaGVpZ2h0KCkpOyAvLyBTY3JvbGwgdG8gYm90dG9tXG5cdFx0XHR9XG5cdFx0fSkuZGF0YSgna2VuZG9HcmlkJyk7XG5cblx0XHQvLyBVU0VSIE1PTklUT1IgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHR0aGlzLl9raWNrRGVsYXlJbiA9ICQoJyN6bm0ta2lja0RlbGF5TlMnKS5rZW5kb051bWVyaWNUZXh0Qm94KHtcblx0XHQgICAgbWluOiAwLFxuXHRcdCAgICBzdGVwOiAxLFxuXHRcdCAgICBmb3JtYXQ6ICcjJyxcblx0XHRcdHBsYWNlaG9sZGVyOiAnRGVsYXkgKHMpJ1xuXHRcdH0pLmRhdGEoJ2tlbmRvTnVtZXJpY1RleHRCb3gnKTtcblxuXHRcdHRoaXMuX2Jhbk1vZGVEZCA9ICQoJyN6bm0tYmFuTW9kZUREJykua2VuZG9Ecm9wRG93bkxpc3Qoe1xuXHRcdFx0ZGF0YVNvdXJjZTogWydJUCcsICdOQU1FJ10sXG5cdFx0XHRhdXRvV2lkdGg6IHRydWUsXG5cdFx0XHRvcHRpb25MYWJlbDoge1xuXHRcdFx0XHR0ZXh0OiAnTW9kZSdcblx0XHRcdH0sXG5cdFx0XHRvcHRpb25MYWJlbFRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+Izp0ZXh0Izwvc3Bhbj4nLFxuXHRcdH0pLmRhdGEoJ2tlbmRvRHJvcERvd25MaXN0Jyk7XG5cblx0XHR0aGlzLl9iYW5EdXJVbml0RGQgPSAkKCcjem5tLWJhbkR1cmF0aW9uVW5pdEREJykua2VuZG9Ecm9wRG93bkxpc3Qoe1xuXHRcdFx0YXV0b1dpZHRoOiB0cnVlLFxuXHRcdH0pLmRhdGEoJ2tlbmRvRHJvcERvd25MaXN0Jyk7XG5cblx0XHR0aGlzLl9iYW5EdXJhdGlvbkluID0gJCgnI3pubS1iYW5EdXJhdGlvbk5TJykua2VuZG9OdW1lcmljVGV4dEJveCh7XG5cdFx0ICAgIG1pbjogMSxcblx0XHQgICAgc3RlcDogMSxcblx0XHQgICAgZm9ybWF0OiAnIycsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ0R1cmF0aW9uJ1xuXHRcdH0pLmRhdGEoJ2tlbmRvTnVtZXJpY1RleHRCb3gnKTtcblxuXHRcdHRoaXMuX2JhbkRlbGF5SW4gPSAkKCcjem5tLWJhbkRlbGF5TlMnKS5rZW5kb051bWVyaWNUZXh0Qm94KHtcblx0XHQgICAgbWluOiAwLFxuXHRcdCAgICBzdGVwOiAxLFxuXHRcdCAgICBmb3JtYXQ6ICcjJyxcblx0XHRcdHBsYWNlaG9sZGVyOiAnRGVsYXkgKHMpJ1xuXHRcdH0pLmRhdGEoJ2tlbmRvTnVtZXJpY1RleHRCb3gnKTtcblxuXHRcdC8vIEFkZCBidXR0b24gY2xpY2sgbGlzdGVuZXJzXG5cdFx0JCgnI3pubS1kaXNjb25uZWN0QnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uRGlzY29ubmVjdEJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLWtpY2tCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25LaWNrQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tYmFuQnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uQmFuQnRDbGljaywgdGhpcykpO1xuXG5cdFx0Ly8gQ2hhcnRzXG5cblx0XHR0aGlzLl9wYWNrZXRRdWV1ZUNoYXJ0ID0gJCgnI3pubS1wYWNrZXRRdWV1ZUNoYXJ0Jykua2VuZG9DaGFydCh7XG5cdFx0XHR0cmFuc2l0aW9uczogZmFsc2UsXG5cdFx0XHRjaGFydEFyZWE6IHtcblx0XHRcdFx0aGVpZ2h0OiAxMDBcblx0XHRcdH0sXG5cdCAgICAgICAgbGVnZW5kOiB7XG5cdCAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuXHQgICAgICAgICAgICB0eXBlOiAnYmFyJyxcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9JScsXG5cdCAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnaW5zaWRlQmFzZSdcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0Z2FwOiAuNSxcblx0XHRcdFx0c3BhY2luZzogMCxcblx0XHRcdFx0b3ZlcmxheToge1xuXHRcdFx0XHRcdGdyYWRpZW50OiAnbm9uZSdcblx0XHRcdFx0fSxcblx0XHRcdFx0Ym9yZGVyOiB7XG5cdFx0XHRcdFx0d2lkdGg6IDBcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnUGFja2V0IHF1ZXVlJyxcblx0XHQgICAgICAgICAgICBmaWVsZDogJ3ZhbHVlJyxcblx0XHQgICAgICAgICAgICBjYXRlZ29yeUZpZWxkOiAnY2F0ZWdvcnknLFxuXHRcdFx0XHRcdGNvbG9yOiAnI0ZCN0QzMydcblx0XHQgICAgICAgIH1cblx0XHRcdF0sXG5cdCAgICAgICAgdmFsdWVBeGlzOiB7XG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9JSdcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgbGluZToge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWluOiAwLFxuXHQgICAgXHRcdG1heDogMTAwXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjYXRlZ29yeUF4aXM6IHtcblx0ICAgICAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1ham9yVGlja3M6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0XHRcdHRvb2x0aXA6IHtcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXG5cdFx0dGhpcy5fZHJvcHBlZE1zZ0NoYXJ0ID0gJCgnI3pubS1kcm9wcGVkTXNnQ2hhcnQnKS5rZW5kb0NoYXJ0KHtcblx0XHRcdHRyYW5zaXRpb25zOiBmYWxzZSxcblx0XHRcdGNoYXJ0QXJlYToge1xuXHRcdFx0XHRoZWlnaHQ6IDEwMFxuXHRcdFx0fSxcblx0ICAgICAgICBsZWdlbmQ6IHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG5cdCAgICAgICAgICAgIHR5cGU6ICdiYXInLFxuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2luc2lkZUJhc2UnLFxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRnYXA6IC41LFxuXHRcdFx0XHRzcGFjaW5nOiAwLFxuXHRcdFx0XHRvdmVybGF5OiB7XG5cdFx0XHRcdFx0Z3JhZGllbnQ6ICdub25lJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRib3JkZXI6IHtcblx0XHRcdFx0XHR3aWR0aDogMFxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXJpZXM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdEcm9wcGVkIG1lc3NhZ2VzJyxcblx0XHQgICAgICAgICAgICBmaWVsZDogJ3ZhbHVlJyxcblx0XHQgICAgICAgICAgICBjYXRlZ29yeUZpZWxkOiAnY2F0ZWdvcnknLFxuXHRcdFx0XHRcdGNvbG9yOiAnI0ZCN0QzMydcblx0XHQgICAgICAgIH1cblx0XHRcdF0sXG5cdCAgICAgICAgdmFsdWVBeGlzOiB7XG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9J1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsaW5lOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaW46IDAsXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjYXRlZ29yeUF4aXM6IHtcblx0ICAgICAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1ham9yVGlja3M6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0XHRcdHRvb2x0aXA6IHtcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXG5cdFx0dGhpcy5fd3JpdHRlbkRhdGFDaGFydCA9ICQoJyN6bm0td3JpdHRlbkRhdGFDaGFydCcpLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMTAwXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcblx0ICAgICAgICAgICAgdHlwZTogJ2JhcicsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdCAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnaW5zaWRlQmFzZScsXG5cdFx0XHRcdFx0dGVtcGxhdGU6IGdldFdSQnl0ZXNMYWJlbFRlbXBsYXRlKCksXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdGdhcDogLjUsXG5cdFx0XHRcdHNwYWNpbmc6IDAsXG5cdFx0XHRcdG92ZXJsYXk6IHtcblx0XHRcdFx0XHRncmFkaWVudDogJ25vbmUnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvcmRlcjoge1xuXHRcdFx0XHRcdHdpZHRoOiAwXG5cdFx0XHRcdH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ1dyaXR0ZW4gZGF0YScsXG5cdFx0ICAgICAgICAgICAgZmllbGQ6ICd2YWx1ZScsXG5cdFx0ICAgICAgICAgICAgY2F0ZWdvcnlGaWVsZDogJ2NhdGVnb3J5Jyxcblx0XHRcdFx0XHRjb2xvcjogJyNGQjdEMzMnXG5cdFx0ICAgICAgICB9XG5cdFx0XHRdLFxuXHQgICAgICAgIHZhbHVlQXhpczoge1xuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfSdcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgbGluZToge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWluOiAwLFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG5cdCAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0bGFiZWxzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdFx0XHR0b29sdGlwOiB7XG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHQgICAgICAgIH1cblx0ICAgIH0pLmRhdGEoJ2tlbmRvQ2hhcnQnKTtcblxuXHRcdHRoaXMuX3JlYWREYXRhQ2hhcnQgPSAkKCcjem5tLXJlYWREYXRhQ2hhcnQnKS5rZW5kb0NoYXJ0KHtcblx0XHRcdHRyYW5zaXRpb25zOiBmYWxzZSxcblx0XHRcdGNoYXJ0QXJlYToge1xuXHRcdFx0XHRoZWlnaHQ6IDEwMFxuXHRcdFx0fSxcblx0ICAgICAgICBsZWdlbmQ6IHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG5cdCAgICAgICAgICAgIHR5cGU6ICdiYXInLFxuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2luc2lkZUJhc2UnLFxuXHRcdFx0XHRcdHRlbXBsYXRlOiBnZXRXUkJ5dGVzTGFiZWxUZW1wbGF0ZSgpLFxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRnYXA6IC41LFxuXHRcdFx0XHRzcGFjaW5nOiAwLFxuXHRcdFx0XHRvdmVybGF5OiB7XG5cdFx0XHRcdFx0Z3JhZGllbnQ6ICdub25lJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRib3JkZXI6IHtcblx0XHRcdFx0XHR3aWR0aDogMFxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXJpZXM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdSZWFkIGRhdGEnLFxuXHRcdCAgICAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHRcdCAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6ICdjYXRlZ29yeScsXG5cdFx0XHRcdFx0Y29sb3I6ICcjRkI3RDMzJ1xuXHRcdCAgICAgICAgfVxuXHRcdFx0XSxcblx0ICAgICAgICB2YWx1ZUF4aXM6IHtcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGxpbmU6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1pbjogMCxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhdGVnb3J5QXhpczoge1xuXHQgICAgICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWFqb3JUaWNrczoge1xuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxhYmVsczoge1xuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdH1cblx0ICAgICAgICB9LFxuXHRcdFx0dG9vbHRpcDoge1xuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0ICAgICAgICB9XG5cdCAgICB9KS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cblx0XHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdC8vIEFkZCBsaXN0ZW5lciB0byByZWRyYXcgYWxsIGNoYXJ0cyBpbiBjYXNlIG9mIHdpbmRvdyByZXNpemVcblx0XHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsICQucHJveHkodGhpcy5fb25XaW5kb3dSZXNpemUsIHRoaXMpKTtcblx0XHR0aGlzLl9vbldpbmRvd1Jlc2l6ZSgpOyAvLyBBbHNvIGRvIGl0IGltbWVkaWF0ZWx5XG5cblx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdERhdGEodHJ1ZSk7XG5cdH1cblxuXHRkZXN0cm95KClcblx0e1xuXHRcdC8vIENhbGwgc3VwZXIgbWV0aG9kXG5cdFx0c3VwZXIuZGVzdHJveSgpO1xuXG5cdFx0Ly8gQ2xvc2UgbW9uaXRvcmluZ1xuXHRcdHRoaXMuX29uQ2xvc2VNb25pdG9yQnRDbGljaygpO1xuXG5cdFx0Ly8gUmVtb3ZlIGRvdWJsZWNsaWNrIGV2ZW50IGxpc3RlbmVyc1xuXHRcdHRoaXMuX3pvbmVMaXN0Qm94LndyYXBwZXIuZmluZCgnLmstbGlzdCcpLm9mZignZGJsY2xpY2snKTtcblx0XHR0aGlzLl9yb29tTGlzdEJveC53cmFwcGVyLmZpbmQoJy5rLWxpc3QnKS5vZmYoJ2RibGNsaWNrJyk7XG5cdFx0dGhpcy5fdXNlckxpc3RCb3gud3JhcHBlci5maW5kKCcuay1saXN0Jykub2ZmKCdkYmxjbGljaycpO1xuXG5cdFx0Ly8gUmVtb3ZlIG90aGVyIGV2ZW50IGxpc3RlbmVyc1xuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbUJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tcmVtb3ZlUm9vbUJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tcm9vbUNyZWF0b3JDcmVhdGVCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLWZpbHRlclJvb21CdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLWFwcGx5Um9vbUZpbHRlckNCJykub2ZmKCdjaGFuZ2UnKTtcblx0XHQkKCcjem5tLWZpbHRlclVzZXJCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLWFwcGx5VXNlckZpbHRlckNCJykub2ZmKCdjaGFuZ2UnKTtcblx0XHQkKCcjem5tLW1vbml0b3JCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLXNlbmRNZXNzYWdlQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1tZXNzYWdlSW4nKS5vZmYoJ2tleXVwJyk7XG5cdFx0JCgnI3pubS1jbG9zZU1vbml0b3JCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLWVkaXRCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLWNhbmNlbEJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tc3VibWl0QnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCh3aW5kb3cpLm9mZigncmVzaXplJyk7XG5cdFx0JCgnI3pubS1yZWxvYWRXb3Jkc0J0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tcmVsb2FkWm9uZUV4dEJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tZGlzY29ubmVjdEJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0ta2lja0J0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tYmFuQnQnKS5vZmYoJ2NsaWNrJyk7XG5cblx0XHQvLyBDbGVhciByZXF1ZXN0IHNjaGVkdWxpbmdcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fcmVxdWVzdFRpbWVyKTtcblxuXHRcdC8vIEhpZGUgcm9vbSBjcmVhdGlvbiBwYW5lbFxuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbU1vZGFsJykubW9kYWwoJ2hpZGUnKTtcblxuXHRcdC8vIFJlbW92ZSByb29tIGNyZWF0aW9uIHBhbmVsIGxpc3RlbmVyXG5cdFx0JCgnI3pubS1jcmVhdGVSb29tTW9kYWwnKS5vZmYoJ2hpZGRlbi5icy5tb2RhbCcpO1xuXG5cdFx0Ly8gUmVtb3ZlIGZpbHRlciBwYW5lbHMgbGlzdGVuZXJzXG5cdFx0JCh0aGlzLl9yb29tRmlsdGVyKS5vZmYodGhpcy5fcm9vbUZpbHRlci5FWFBSRVNTSU9OX1VQREFURURfRVZFTlQpO1xuXHRcdCQodGhpcy5fdXNlckZpbHRlcikub2ZmKHRoaXMuX3VzZXJGaWx0ZXIuRVhQUkVTU0lPTl9VUERBVEVEX0VWRU5UKTtcblx0fVxuXG5cdG9uRXh0ZW5zaW9uQ29tbWFuZChjb21tYW5kLCBkYXRhKVxuXHR7XG5cdFx0Ly8gRGF0YSByZWNlaXZlZFxuXHRcdGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9EQVRBKVxuXHRcdHtcblx0XHRcdC8vIFdlIGhhdmUgdG8gY2hlY2sgaWYgdGhlIHJlc3BvbnNlIGlkIGNvcnJlc3BvbmRzIHRvIHRoZSBjdXJyZW50IHJlcXVlc3QgaWQ7XG5cdFx0XHQvLyBpZiBub3QsIHRoZSByZXNwb25zZSBpcyBkaXNjYXJkZWQgYXMgaXQgcmVmZXJzIHRvIGFuIG91dGRhdGV0IHJlcXVlc3Rcblx0XHRcdGNvbnN0IHJlc3BvbnNlSWQgPSBkYXRhLmdldEludCgnaWQnKTtcblxuXHRcdFx0aWYgKHJlc3BvbnNlSWQgPT0gdGhpcy5fY3VycmVudFJlcXVlc3RJZClcblx0XHRcdHtcblx0XHRcdFx0Ly8gLS0tIFpPTkVTIExJU1QgLS0tXG5cdFx0XHRcdGlmIChkYXRhLmNvbnRhaW5zS2V5KCd6b25lcycpKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dGhpcy5fc2V0Wm9uZXNEYXRhUHJvdmlkZXIoZGF0YS5nZXRTRlNBcnJheSgnem9uZXMnKSk7XG5cblx0XHRcdFx0XHRpZiAodGhpcy5fc2VsZWN0ZWRab25lKVxuXHRcdFx0XHRcdFx0dGhpcy5fc2V0U2NvcGVMYWJlbCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tIFJPT01TIExJU1QgLS0tXG5cdFx0XHRcdGlmIChkYXRhLmNvbnRhaW5zS2V5KCdyb29tcycpKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dGhpcy5fc2V0R3JvdXBzRGF0YVByb3ZpZGVyKGRhdGEuZ2V0VXRmU3RyaW5nQXJyYXkoJ2dyb3VwcycpKTtcblxuXHRcdFx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdFx0XHRcdC8vIElmIGEgbnVsbCByb29tcyBsaXN0IGlzIHJldHVybmVkLCB0aGUgem9uZSBtdXN0IGhhdmUgYmVlbiBkZWxldGVkIVxuXHRcdFx0XHRcdGlmICghZGF0YS5pc051bGwoJ3Jvb21zJykpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dGhpcy5fc2V0Um9vbXNEYXRhUHJvdmlkZXIoZGF0YS5nZXRTRlNBcnJheSgncm9vbXMnKSk7XG5cblx0XHRcdFx0XHRcdGlmICghdGhpcy5fc2VsZWN0ZWRSb29tKVxuXHRcdFx0XHRcdFx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHRcdFx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdFx0XHRcdFx0Ly8gU2hvdyB3YXJuaW5nIGlmIHRoZSByb29tcyBsaXN0IGV4Y2VlZHMgdGhlIHNlcnZlci1zaWRlIGxpbWl0XG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5jb250YWluc0tleSgnclNpemUnKSlcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2hvd0xpbWl0RXhjZWVkZWRXYXJuaW5nKCQoJyN6bm0tcm9vbUxpc3RXYXJuaW5nJyksICdUaGUgcmVjZWl2ZWQgbGlzdCBpcyBpbmNvbXBsZXRlLCBiZWNhdXNlIGl0cyBzaXplICgnICsgZGF0YS5nZXRJbnQoJ3JTaXplJykgKyAnIFJvb21zKSBleGNlZWRlZCB0aGlzIGNsaWVudFxcJ3MgbGltaXQgb2YgJyArIGRhdGEuZ2V0SW50KCdyTGltaXQnKSArICc7IHlvdSBzaG91bGQgcmVmaW5lIHlvdXIgc2VhcmNoJyk7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3Nob3dMaW1pdEV4Y2VlZGVkV2FybmluZygkKCcjem5tLXJvb21MaXN0V2FybmluZycpLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5fYWN0aXZlUGFuZWxUeXBlID09ICdyb29tJylcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fYWNjb3JkaW9uLnNlbGVjdCgnW2RhdGEtaXRlbS10eXBlPVwiem9uZVwiXScpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9hY2NvcmRpb24uZXhwYW5kKCdbZGF0YS1pdGVtLXR5cGU9XCJ6b25lXCJdJyk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX29uWm9uZVNlbGVjdGVkKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX29uRW50aXRpZXNQYW5lbENoYW5nZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIC0tLSBVU0VSUyBMSVNUIC0tLVxuXHRcdFx0XHRpZiAoZGF0YS5jb250YWluc0tleSgndXNlcnMnKSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIElmIGEgbnVsbCB1c2VycyBsaXN0IGlzIHJldHVybmVkLCB0aGUgcm9vbSBtdXN0IGhhdmUgYmVlbiBkZWxldGVkIVxuXHRcdFx0XHRcdGlmICghZGF0YS5pc051bGwoJ3VzZXJzJykpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dGhpcy5fc2V0VXNlcnNEYXRhUHJvdmlkZXIoZGF0YS5nZXRTRlNBcnJheSgndXNlcnMnKSk7XG5cblx0XHRcdFx0XHRcdC8vIFNob3cgd2FybmluZyBpZiB0aGUgdXNlcnMgbGlzdCBleGNlZWRzIHRoZSBzZXJ2ZXItc2lkZSBsaW1pdFxuXHRcdFx0XHRcdFx0aWYgKGRhdGEuY29udGFpbnNLZXkoJ3VTaXplJykpXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3Nob3dMaW1pdEV4Y2VlZGVkV2FybmluZygkKCcjem5tLXVzZXJMaXN0V2FybmluZycpLCAnVGhlIHJlY2VpdmVkIGxpc3QgaXMgaW5jb21wbGV0ZSwgYmVjYXVzZSBpdHMgc2l6ZSAoJyArIGRhdGEuZ2V0SW50KCd1U2l6ZScpICsgJyB1c2VycykgZXhjZWVkcyB0aGlzIGNsaWVudFxcJ3MgbGltaXQgb2YgJyArIGRhdGEuZ2V0SW50KCd1TGltaXQnKSArICc7IHlvdSBzaG91bGQgcmVmaW5lIHlvdXIgc2VhcmNoJyk7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3Nob3dMaW1pdEV4Y2VlZGVkV2FybmluZygkKCcjem5tLXVzZXJMaXN0V2FybmluZycpLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5fYWN0aXZlUGFuZWxUeXBlID09ICd1c2VyJylcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fYWNjb3JkaW9uLnNlbGVjdCgnW2RhdGEtaXRlbS10eXBlPVwicm9vbVwiXScpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9hY2NvcmRpb24uZXhwYW5kKCdbZGF0YS1pdGVtLXR5cGU9XCJyb29tXCJdJyk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX29uUm9vbVNlbGVjdGVkKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX29uRW50aXRpZXNQYW5lbENoYW5nZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIC0tLSBNT05JVE9SRUQgREFUQSAtLS1cblx0XHRcdFx0aWYgKGRhdGEuY29udGFpbnNLZXkoJ21vbml0b3JlZCcpKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29uc3Qgem9uZSA9IGRhdGEuZ2V0U0ZTT2JqZWN0KCdtb25pdG9yZWQnKS5nZXRVdGZTdHJpbmcoJ3pvbmUnKTtcblx0XHRcdFx0XHRjb25zdCB0eXBlID0gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFV0ZlN0cmluZygndHlwZScpO1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSBkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuZ2V0VXRmU3RyaW5nKCduYW1lJyk7XG5cblx0XHRcdFx0XHRpZiAoem9uZSA9PSB0aGlzLl9tb25pdG9yZWRab25lICYmIHR5cGUgPT0gdGhpcy5fbW9uaXRvcmVkVHlwZSAmJiBuYW1lID09IHRoaXMuX21vbml0b3JlZE5hbWUpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aWYgKCFkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuaXNOdWxsKCdwYXJhbXMnKSlcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcGFyYW1zID0gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFNGU0FycmF5KCdwYXJhbXMnKTtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLl9zZXRNb25pdG9yaW5nSW50ZXJmYWNlKCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQnVpbGQgaW50ZXJmYWNlXG5cdFx0XHRcdFx0XHRcdGlmICghdGhpcy5faXNFZGl0aW5nKVxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5faW50ZXJmYWNlQnVpbGRlci5idWlsZEludGVyZmFjZShwYXJhbXMsIGB6bm0tJHt0aGlzLl9tb25pdG9yZWRUeXBlfVRhYk5hdmlnYXRvcmAsIHRydWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLl9za2lwSW5pdFRhYnMpXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0JChgI3pubS0ke3RoaXMuX21vbml0b3JlZFR5cGV9VGFiTmF2aWdhdG9yICN0YWJzYCkuc2Nyb2xsaW5nVGFicyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJvb3RzdHJhcFZlcnNpb246IDQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNjcm9sbFRvVGFiRWRnZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZW5hYmxlU3dpcGluZzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzYWJsZVNjcm9sbEFycm93c09uRnVsbHlTY3JvbGxlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y3NzQ2xhc3NMZWZ0QXJyb3c6ICdmYSBmYS1jaGV2cm9uLWxlZnQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjc3NDbGFzc1JpZ2h0QXJyb3c6ICdmYSBmYS1jaGV2cm9uLXJpZ2h0J1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX3NraXBJbml0VGFicyA9IHRydWU7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFNldCBmaXJzdCB0YWIgcGFuZWwgYXMgYWN0aXZlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmFjdGl2YXRlRmlyc3RUYWJQYW5lbCgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZWRyYXcgdGltZSByYW5nZSBzbGlkZXIgdG8gc2V0IGl0cyB3aWR0aFxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fdGltZVNsaWRlci5yZXNpemUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQWRkIGxpc3RlbmVyIHRvIHJlZHJhdyBhbGwgY2hhcnRzIG9uIHRhYiBjaGFuZ2Vcblx0XHRcdFx0XHRcdFx0XHRcdC8vICh0byB3b3JrIGFyb3VuZCBhbiBpc3N1ZSB3aXRoIHRoZSBjaGFydCByZXNpemluZyB0byBkZWZhdWx0IHdpZHRoIHdoZW4gcGFuZSBpcyBoaWRkZW4pXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCdhW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykub24oJ3Nob3duLmJzLnRhYicsICQucHJveHkodGhpcy5fb25XaW5kb3dSZXNpemUsIHRoaXMpKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyBEaXNhYmxlIGNhdGVnb3JpZXNcblx0XHRcdFx0XHRcdFx0bGV0IGRpc2FibGVkQ2F0ID0gKGRhdGEuZ2V0U0ZTT2JqZWN0KCdtb25pdG9yZWQnKS5jb250YWluc0tleSgnZXhjbHVkZScpID8gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFV0ZlN0cmluZ0FycmF5KCdleGNsdWRlJykgOiBbXSk7XG5cblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgY2F0IG9mIGRpc2FibGVkQ2F0KVxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IG5hdkxpbmsgPSAkKGAjem5tLSR7dGhpcy5fbW9uaXRvcmVkVHlwZX1UYWJOYXZpZ2F0b3IgI3RhYnMgI3RhYi0ke2NhdH1gKTtcblxuXHRcdFx0XHRcdFx0XHRcdG5hdkxpbmsuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdFx0XHRcdFx0bmF2TGluay5hdHRyKCd0YWJpbmRleCcsIC0xKTtcblx0XHRcdFx0XHRcdFx0XHRuYXZMaW5rLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfWk9ORSlcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9zaG93Wm9uZVRyYWZmaWNEYXRhKGRhdGEuZ2V0U0ZTT2JqZWN0KCdtb25pdG9yZWQnKS5nZXRTRlNPYmplY3QoJ3RyYWZmaWMnKSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9VU0VSKVxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3RhdHNcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9zaG93VXNlclN0YXRzRGF0YShkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuZ2V0U0ZTT2JqZWN0KCdzdGF0cycpKTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE5QQ1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlzTnBjID0gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldEJvb2woJ25wYycpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGlzYWJsZSBkaXNjb25uZWN0LCBraWNrIGFuZCBiYW4gYnV0dG9uc1xuXHRcdFx0XHRcdFx0XHRcdCQoJyN6bm0tZGlzY29ubmVjdEJ0JykuYXR0cignZGlzYWJsZWQnLCBpc05wYyk7XG5cdFx0XHRcdFx0XHRcdFx0JCgnI3pubS1raWNrQnQnKS5hdHRyKCdkaXNhYmxlZCcsIGlzTnBjKTtcblx0XHRcdFx0XHRcdFx0XHQkKCcjem5tLWJhbkJ0JykuYXR0cignZGlzYWJsZWQnLCBpc05wYyk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBHZW8tbG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBnZW9Mb2NEYXRhID0gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFNGU09iamVjdCgnZ2VvTG9jJyk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fc2V0R2VvTG9jYXRpb25VSShnZW9Mb2NEYXRhKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHQvLyBTaG93IGFsZXJ0XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydChgVGhlICR7Y2FwaXRhbGl6ZUZpcnN0KHRoaXMuX21vbml0b3JlZFR5cGUpfSBiZWluZyBtb25pdG9yZWQgaXMgbm8gbW9yZSBhdmFpbGFibGUgb24gdGhlIHNlcnZlciwgcGxlYXNlIHNlbGVjdCBhbm90aGVyIG9uZS5gLCBmYWxzZSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQ2FuY2VsIG1vbml0b3Jpbmdcblx0XHRcdFx0XHRcdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoY29tbWFuZCA9PSB0aGlzLlJFU1BfVVBEQVRFX0VSUk9SKVxuXHRcdHtcblx0XHRcdGlmIChkYXRhLmdldFV0ZlN0cmluZygnem9uZScpID09IHRoaXMuX21vbml0b3JlZFpvbmVcblx0XHRcdFx0JiYgZGF0YS5nZXRVdGZTdHJpbmcoJ3R5cGUnKSA9PSAgdGhpcy5fbW9uaXRvcmVkVHlwZVxuXHRcdFx0XHQmJiBkYXRhLmdldFV0ZlN0cmluZygnbmFtZScpID09ICB0aGlzLl9tb25pdG9yZWROYW1lKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBTaG93IGFsZXJ0XG5cdFx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydChgVW5hYmxlIHRvIHVwZGF0ZSAke2NhcGl0YWxpemVGaXJzdCh0aGlzLl9tb25pdG9yZWRUeXBlKX0gc2V0dGluZ3M7IHRoZSBmb2xsb3dpbmcgZXJyb3Igd2FzIHJlcG9ydGVkOiAke2RhdGEuZ2V0VXRmU3RyaW5nKCdtZXNzYWdlJyl9LmApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGVsc2UgaWYgKGNvbW1hbmQgPT0gdGhpcy5SRVNQX1JPT01fQ09ORklHKVxuXHRcdHtcblx0XHRcdC8vIFJlLWVuYWJsZSBDcmVhdGUgYnV0dG9uXG5cdFx0XHQkKCcjem5tLWNyZWF0ZVJvb21CdCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXG5cdFx0XHQvLyBTaG93IFJvb20gY3JlYXRpb24gcGFuZWxcblx0XHRcdHRoaXMuX3Nob3dSb29tQ3JlYXRpb25QYW5lbChkYXRhLmdldFNGU0FycmF5KCdzZXR0aW5ncycpKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9ST09NX0NPTkZJR19FUlJPUilcblx0XHR7XG5cdFx0XHQvLyBSZS1lbmFibGUgQ3JlYXRlIGJ1dHRvblxuXHRcdFx0JCgnI3pubS1jcmVhdGVSb29tQnQnKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuXHRcdFx0Ly8gU2hvdyBhbiBhbGVydFxuXHRcdFx0dGhpcy5zaGVsbEN0cmwuc2hvd1NpbXBsZUFsZXJ0KGRhdGEuZ2V0VXRmU3RyaW5nKCdlcnJvcicpKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9ST09NX0NSRUFURUQpXG5cdFx0e1xuXHRcdFx0Ly8gUmUtZW5hYmxlIHJvb20gY3JlYXRpb24gcGFuZWxcblx0XHRcdHRoaXMuX2VuYWJsZUNyZWF0ZVJvb21QYW5lbCh0cnVlKTtcblxuXHRcdFx0Ly8gSGlkZSByb29tIGNyZWF0aW9uIHBhbmVsXG5cdFx0XHQkKCcjem5tLWNyZWF0ZVJvb21Nb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG5cblx0XHRcdC8vIFVwZGF0ZSByb29tcyBsaXN0XG5cdFx0XHR0aGlzLl9yZXF1ZXN0RGF0YSh0cnVlKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9ST09NX0NSRUFUSU9OX0VSUk9SKVxuXHRcdHtcblx0XHRcdC8vIERpc3BsYXkgZXJyb3IgbWVzc2FnZVxuXHRcdFx0JCgnI3pubS1jcmVhdGVSb29tRXJyb3InKS50ZXh0KGRhdGEuZ2V0VXRmU3RyaW5nKCdlcnJvcicpKTtcblx0XHRcdCQoJyN6bm0tY3JlYXRlUm9vbUVycm9yJykuc2hvdygpO1xuXG5cdFx0XHQvLyBSZS1lbmFibGUgcm9vbSBjcmVhdGlvbiBwYW5lbFxuXHRcdFx0dGhpcy5fZW5hYmxlQ3JlYXRlUm9vbVBhbmVsKHRydWUpO1xuXHRcdH1cblxuXHRcdC8vIFVuZXhwZWN0ZWQgZXJyb3IgcmVjZWl2ZWRcblx0XHQvLyBUaGlzIGVycm9yIGlzIHJldHVybmVkIGluIGNhc2Ugc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiByZXRyaWV2aW5nIHRoZSBtb25pdG9yZWQgZW50aXR5IHBhcmFtZXRlcnMsXG5cdFx0Ly8gc28gd2UgaGF2ZSB0byBzdG9wIHJlcXVlc3RpbmcgdGhlIHNhbWUgZW50aXR5XG5cdFx0ZWxzZSBpZiAoY29tbWFuZCA9PSB0aGlzLlJFU1BfVU5FWFBFQ1RFRF9FUlJPUilcblx0XHR7XG5cdFx0XHQvLyBDYW5jZWwgbW9uaXRvcmluZ1xuXHRcdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cblx0XHRcdC8vIFNob3cgYW4gYWxlcnRcblx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydChkYXRhLmdldFV0ZlN0cmluZygnZXJyb3InKSk7XG5cdFx0fVxuXG5cdFx0Ly8gRXh0ZW5zaW9uIChab25lIG9yIFJvb20pIGxvZyBtZXNzYWdlcyByZWNlaXZlZFxuXHRcdGVsc2UgaWYgKGNvbW1hbmQgPT0gdGhpcy5SRVNQX0xPR19NRVNTQUdFUylcblx0XHR7XG5cdFx0XHRsZXQgbG9nRW50cmllcyA9IGRhdGEuZ2V0U0ZTQXJyYXkoJ2VudHJpZXMnKTtcblxuXHRcdFx0Zm9yIChsZXQgZSA9IDA7IGUgPCBsb2dFbnRyaWVzLnNpemUoKTsgZSsrKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgbG9nRW50cnkgPSBsb2dFbnRyaWVzLmdldFNGU09iamVjdChlKTtcblxuXHRcdFx0XHRjb25zdCBsb2dab25lID0gbG9nRW50cnkuZ2V0VXRmU3RyaW5nKCd6b25lJyk7XG5cdFx0XHRcdGNvbnN0IGxvZ1Jvb20gPSBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ3Jvb20nKTtcblxuXHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgem9uZSBpcyBjdXJyZW50bHkgbW9uaXRvcmVkXG5cdFx0XHRcdGlmICh0aGlzLl9tb25pdG9yZWRab25lID09IGxvZ1pvbmUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhsb2dFbnRyeS5nZXRMb25nKCd0aW1lJykpXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cobmV3IERhdGUobG9nRW50cnkuZ2V0TG9uZygndGltZScpKVxuXG5cdFx0XHRcdFx0bGV0IGVsZSA9IHtcblx0XHRcdFx0XHRcdHRpbWVzdGFtcDoga2VuZG8udG9TdHJpbmcobmV3IERhdGUobG9nRW50cnkuZ2V0TG9uZygndGltZScpKSwgJ2RkL01NL3l5eXkgSEg6bW06c3MnKSxcblx0XHRcdFx0XHRcdGxldmVsOiBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ2xldmVsJyksXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ21zZycpLFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1pPTkUgJiYgbG9nUm9vbSA9PSAnJylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQvLyBBZGQgdG8gem9uZSBleHRlbnNpb24gbG9nXG5cdFx0XHRcdFx0XHR0aGlzLl9hZGRMb2dFbnRyeVRvR3JpZCh0aGlzLl96b25lRXh0TG9nR3JpZCwgZWxlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfUk9PTSAmJiB0aGlzLl9tb25pdG9yZWROYW1lID09IGxvZ1Jvb20pXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdC8vIEFkZCB0byByb29tIGV4dGVuc2lvbiBsb2dcblx0XHRcdFx0XHRcdFx0dGhpcy5fYWRkTG9nRW50cnlUb0dyaWQodGhpcy5fcm9vbUV4dExvZ0dyaWQsIGVsZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gVUkgRVZFTlQgTElTVEVORVJTXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0X29uVXBkYXRlSW50ZXJ2YWxDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKGZhbHNlKTtcblx0fVxuXG5cdF9vbkVudGl0aWVzUGFuZWxDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gU2V0IG1haW4gY29udHJvbHMgc3RhdGVcblx0XHR0aGlzLl9zZXRNYWluQ29udHJvbHNFbmFibGVkKCk7XG5cblx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdERhdGEodHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIHRoZSBTY29wZSBsYWJlbCBpbiB0aGUgUm9vbXMgcGFuZWwuXG5cdCAqL1xuXHRfb25ab25lU2VsZWN0ZWQoKVxuXHR7XG5cdFx0Ly8gQ2xlYXIgUm9vbSBhbmQgVXNlciBsaXN0c1xuXHRcdHRoaXMuX3Jlc2V0Um9vbUxpc3QoKTtcblx0XHR0aGlzLl9yZXNldFVzZXJMaXN0KCk7XG5cblx0XHQvLyBTZXQgc2NvcGUgbGFiZWxcblx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHQvLyBFbmFibGUvZGlzYWJsZSBSb29tIGFuZCBVc2VyIHRvb2xzXG5cdFx0Y29uc3QgZGlzYWJsZWQgPSB0aGlzLl9zZWxlY3RlZFpvbmUgPT0gdW5kZWZpbmVkO1xuXG5cdFx0Ly8gKE5PVEU6IHRoaXMgZW5hYmxlcy9kaXNhYmxlcyB3aG9sZSBmaWVsZHNldDsgdGhpcyBkb2Vzbid0IGFmZmVjdCBLZW5kbyBEcm9wRG93biwgc28gd2UgaGF2ZSB0byBkbyBpdCBtYW51YWxseSlcblx0XHQkKCcjcm9vbVRvb2xzJykuYXR0cignZGlzYWJsZWQnLCBkaXNhYmxlZCk7XG5cdFx0JCgnI3VzZXJUb29scycpLmF0dHIoJ2Rpc2FibGVkJywgZGlzYWJsZWQpO1xuXG5cdFx0dGhpcy5fZ3JvdXBzRHJvcERvd24uZW5hYmxlKCFkaXNhYmxlZCk7XG5cblx0XHQvLyBTZXQgbWFpbiBjb250cm9scyBzdGF0ZVxuXHRcdHRoaXMuX3NldE1haW5Db250cm9sc0VuYWJsZWQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIFNjb3BlIGxhYmVsIGluIHRoZSBVc2VycyBwYW5lbC5cblx0ICovXG5cdF9vblJvb21TZWxlY3RlZCgpXG5cdHtcblx0XHQvLyBDbGVhciBVc2VyIGxpc3Rcblx0XHR0aGlzLl9yZXNldFVzZXJMaXN0KCk7XG5cblx0XHQvLyBTZXQgc2NvcGUgbGFiZWxcblx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHQvLyBFbmFibGUgUmVtb3ZlIGJ1dHRvblxuXHRcdCQoJyN6bm0tcmVtb3ZlUm9vbUJ0JykuYXR0cignZGlzYWJsZWQnLCB0aGlzLl9zZWxlY3RlZFJvb20gPT0gdW5kZWZpbmVkKTtcblxuXHRcdC8vIFNldCBtYWluIGNvbnRyb2xzIHN0YXRlXG5cdFx0dGhpcy5fc2V0TWFpbkNvbnRyb2xzRW5hYmxlZCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgc2NvcGUgbGFiZWwgaW4gdGhlIFVzZXJzIHBhbmVsLlxuXHQgKi9cblx0X29uR3JvdXBDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gQ2xlYXIgUm9vbSBhbmQgVXNlciBsaXN0c1xuXHRcdHRoaXMuX3Jlc2V0Um9vbUxpc3QoKTtcblx0XHR0aGlzLl9yZXNldFVzZXJMaXN0KCk7XG5cblx0XHQvLyBTZXQgc2NvcGUgbGFiZWxcblx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdERhdGEodHJ1ZSk7XG5cblx0XHQvLyBTZXQgbWFpbiBjb250cm9scyBzdGF0ZVxuXHRcdHRoaXMuX3NldE1haW5Db250cm9sc0VuYWJsZWQoKTtcblx0fVxuXG5cdF9vblVzZXJTZWxlY3RlZCgpXG5cdHtcblx0XHQvLyBTZXQgbWFpbiBjb250cm9scyBzdGF0ZVxuXHRcdHRoaXMuX3NldE1haW5Db250cm9sc0VuYWJsZWQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IHJvb20gY3JlYXRpb24gcGFuZWwuXG5cdCAqL1xuXHRfb25DcmVhdGVSb29tQnRDbGljaygpXG5cdHtcblx0XHQvLyBEaXNhYmxlIENyZWF0ZSBidXR0b25cblx0XHQkKCcjem5tLWNyZWF0ZVJvb21CdCcpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cblx0XHQvLyBSZXF1ZXN0IGRlZmF1bHQgcm9vbSBzZXR0aW5ncyB0byBleHRlbnNpb25cblx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0dFVF9ST09NX0NPTkZJRyk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlIGV4aXN0aW5nIHJvb20uXG5cdCAqL1xuXHRfb25SZW1vdmVSb29tQnRDbGljaygpXG5cdHtcblx0XHR0aGlzLnNoZWxsQ3RybC5zaG93Q29uZmlybVdhcm5pbmcoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhlIHNlbGVjdGVkIFJvb20/JywgJC5wcm94eSh0aGlzLl9vblJlbW92ZVJlbW92ZUNvbmZpcm0sIHRoaXMpKTtcblx0fVxuXG5cdF9vblJlbW92ZVJlbW92ZUNvbmZpcm0oKVxuXHR7XG5cdFx0Y29uc3Qgc2VsZWN0ZWRab25lID0gdGhpcy5fem9uZUxpc3RCb3guZGF0YUl0ZW0odGhpcy5fem9uZUxpc3RCb3guc2VsZWN0KCkpO1xuXHRcdGxldCBzZWxlY3RlZFJvb20gPSB0aGlzLl9yb29tTGlzdEJveC5kYXRhSXRlbSh0aGlzLl9yb29tTGlzdEJveC5zZWxlY3QoKSk7XG5cblx0XHRpZiAoc2VsZWN0ZWRSb29tKVxuXHRcdHtcblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBzZXJ2ZXJcblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgc2VsZWN0ZWRab25lLm5hbWUpO1xuXHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygncm9vbScsIHNlbGVjdGVkUm9vbS5uYW1lKTtcblxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9SRU1PVkVfUk9PTSwgcGFyYW1zKTtcblxuXHRcdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlciB0byB1cGRhdGUgdGhlIHJvb21zIGxpc3Rcblx0XHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgY29udGVudCBvZiByb29tIGNyZWF0aW9uIHBhbmVsLlxuXHQgKi9cblx0X29uQ3JlYXRlUm9vbU1vZGFsSGlkZGVuKGUpXG5cdHtcblx0XHQvLyBJZiBhIG5lc3RlZCBtb2RhbCBpcyBvcGVuZWQsIGl0cyBjbG9zaW5nIGNhdXNlcyB0aGUgcGFyZW50IG1vZGFsIHRvIGJlIGNsb3NlZCB0b28gKEJvb3RzdHJhcCBkb2Vzbid0IHN1cHBvcnQgbmVzdGVkIG1vZGFscylcblx0XHQvLyBBcyBhIHdvcmthcm91bmQsIGhlcmUgd2UgcmVzZXQgdGhlIGNzcyBjbGFzcyAnbW9kYWwtb3Blbicgd2hlbiB0aGUgbmVzdGVkIG1vZGFsIGlzIGNsb3NlZCBhbmQgc2tpcCBldmVyeXRoaW5nIGVsc2Vcblx0XHQvLyBJbiBhZGRpdGlvbiB3ZSBoYWQgdG8gdXNlIGEgY3VzdG9tIGxpc3RlbmVyIG9uIHRoZSBjbG9zZS9jYW5jZWwgYnV0dG9ucyBvZiB0aGUgbmVzdGVkIG1vZGFsIChzZWUgY29uZmlnLWdyaWQuanMgZm9yIGV4YW1wbGUpXG5cdFx0aWYgKGUudGFyZ2V0ICE9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem5tLWNyZWF0ZVJvb21Nb2RhbCcpKVxuXHRcdHtcblx0XHRcdCQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGVzdHJveSBzY3JvbGxpbmcgdGFicyBpbiByb29tIGNyZWF0aW9uIHBhbmVsXG5cdFx0JCgnI3pubS1yb29tQ3JlYXRvclRhYk5hdiAjdGFicycpLnNjcm9sbGluZ1RhYnMoJ2Rlc3Ryb3knKTtcblxuXHRcdC8vIFJlbW92ZSBhbGwgdGFiIG5hdmlnYXRvciBjb250ZW50XG5cdFx0dGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZGVzdHJveUludGVyZmFjZSgpO1xuXG5cdFx0Ly8gUmVtb3ZlIGxpc3RlbmVyIGZvciBjdXN0b20gYWN0aW9ucyB0cmlnZ2VyZWQgYnkgY29uZmlndXJhdGlvbiBpbnRlcmZhY2Vcblx0XHQkKCcjem5tLXJvb21DcmVhdG9yVGFiTmF2Jykub2ZmKCd2YWx1ZS1zZXQnKTtcblxuXHRcdC8vIFJlc2V0IGFuZCBoaWRlIGVycm9yIG1lc3NhZ2Vcblx0XHR0aGlzLl9yZXNldFJvb21DcmVhdGlvbkVycm9yKCk7XG5cdH1cblxuXHRfb25Db25maWdWYWx1ZVNldChlKSAvLyBTQU1FIE1FVEhPRCBEVVBMSUNBVEVEIElOIHpvbmUtY29uZmlndXJhdG9yLmpzXG5cdHtcblx0XHRjb25zdCBjb25maWdQYXJhbSA9IGUudGFyZ2V0LmRhdGE7XG5cblx0XHQvLyBIYW5kbGUgZXh0ZW5zaW9uIG5hbWUvdHlwZSBkcm9wZG93bnMgdXBkYXRlIGFuZCB1cGRhdGUgdGhlIG1haW4gY2xhc3MgZHJvcGRvd24gZGF0YXNvdXJjZSBhY2NvcmRpbmdseVxuXHRcdGlmIChjb25maWdQYXJhbS5uYW1lID09ICdleHRlbnNpb24ubmFtZScgfHwgY29uZmlnUGFyYW0ubmFtZSA9PSAnZXh0ZW5zaW9uLnR5cGUnIHx8IGNvbmZpZ1BhcmFtLm5hbWUgPT0gJ2V4dGVuc2lvbi5maWx0ZXJDbGFzcycpXG5cdFx0e1xuXHRcdFx0Ly8gQWxsIGludm9sdmVkIENvbmZpZ0Zvcm1JdGVtcyBtdXN0IGJlIGF2YWlsYWJsZSBhbmQgaW5pdGlhbGl6ZWQgdG8gcHJvY2VlZFxuXHRcdFx0Y29uc3QgbmFtZUZvcm1JdGVtID0gdGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZ2V0Q29uZmlnRm9ybUl0ZW0oJ2V4dGVuc2lvbi5uYW1lJyk7XG5cdFx0XHRjb25zdCB0eXBlRm9ybUl0ZW0gPSB0aGlzLl9yb29tQ3JlYXRpb25JQnVpbGRlci5nZXRDb25maWdGb3JtSXRlbSgnZXh0ZW5zaW9uLnR5cGUnKTtcblx0XHRcdGNvbnN0IGNsYXNzRm9ybUl0ZW0gPSB0aGlzLl9yb29tQ3JlYXRpb25JQnVpbGRlci5nZXRDb25maWdGb3JtSXRlbSgnZXh0ZW5zaW9uLmZpbGUnKTtcblx0XHRcdGNvbnN0IGZpbHRlckZvcm1JdGVtID0gdGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZ2V0Q29uZmlnRm9ybUl0ZW0oJ2V4dGVuc2lvbi5maWx0ZXJDbGFzcycpO1xuXG5cdFx0XHRpZiAobmFtZUZvcm1JdGVtICE9IG51bGwgJiYgdHlwZUZvcm1JdGVtICE9IG51bGwgJiYgY2xhc3NGb3JtSXRlbSAhPSBudWxsICYmIGZpbHRlckZvcm1JdGVtICE9IG51bGwpXG5cdFx0XHR7XG5cdFx0XHRcdGNvbnN0IHNvdXJjZSA9IG5hbWVGb3JtSXRlbS5kYXRhO1xuXHRcdFx0XHRsZXQgY2xhc3Nlc0xpc3QgPSBbXTtcblxuXHRcdFx0XHRsZXQgZGF0YSA9IHNvdXJjZS50cmlnZ2VyRGF0YTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnNpemUoKTsgaSsrKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGV0IGV4dCA9IGRhdGEuZ2V0U0ZTT2JqZWN0KGkpO1xuXG5cdFx0XHRcdFx0aWYgKGV4dC5nZXRVdGZTdHJpbmcoJ25hbWUnKSA9PSBuYW1lRm9ybUl0ZW0uZGF0YS52YWx1ZSAmJiBleHQuZ2V0VXRmU3RyaW5nKCd0eXBlJykgPT0gdHlwZUZvcm1JdGVtLmRhdGEudmFsdWUpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bGV0IGNsYXNzZXMgPSBleHQuZ2V0VXRmU3RyaW5nKCdjbGFzc2VzU3RyaW5nJykuc3BsaXQoJywnKTtcblxuXHRcdFx0XHRcdFx0aWYgKGZpbHRlckZvcm1JdGVtLmRhdGEudmFsdWUgPT0gdHJ1ZSlcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0bGV0IGZpbHRlcmVkQ2xhc3NlcyA9IGNsYXNzZXMuZmlsdGVyKGZpbHRlckNsYXNzTmFtZSk7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMgPSBmaWx0ZXJlZENsYXNzZXM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNsYXNzZXNMaXN0ID0gY2xhc3Nlc0xpc3QuY29uY2F0KGNsYXNzZXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCBjdXJyZW50Q2xhc3MgPSBjbGFzc0Zvcm1JdGVtLmRhdGEudmFsdWU7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGNsYXNzZXMgbGlzdCBkb2Vzbid0IGNvbnRhaW4gdGhlIGN1cnJlbnQgdmFsdWUsIGNyZWF0ZSBhbiBlbXB0eSBlbnRyeSBhbmQgcmVzZXQgdGhlIHZhbHVlXG5cdFx0XHRcdGlmIChjbGFzc2VzTGlzdC5pbmRleE9mKGN1cnJlbnRDbGFzcykgPCAwKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYgKGNsYXNzZXNMaXN0Lmxlbmd0aCA9PSAwKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNsYXNzZXNMaXN0LnB1c2goJycpO1xuXHRcdFx0XHRcdFx0Y3VycmVudENsYXNzID0gJyc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGN1cnJlbnRDbGFzcyA9IGNsYXNzZXNMaXN0WzBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IG1haW5DbGFzc0Ryb3BEb3duID0gY2xhc3NGb3JtSXRlbS5faW5uZXJXaWRnZXQ7XG5cdFx0XHRcdG1haW5DbGFzc0Ryb3BEb3duLnNldERhdGFTb3VyY2UoY2xhc3Nlc0xpc3QpO1xuXG5cdFx0XHRcdGNsYXNzRm9ybUl0ZW0uZGF0YS52YWx1ZSA9IGN1cnJlbnRDbGFzcztcblx0XHRcdFx0Y2xhc3NGb3JtSXRlbS5fc2V0V2lkZ2V0VmFsdWUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRfb25Sb29tQ3JlYXRvckNyZWF0ZUJ0Q2xpY2soKVxuXHR7XG5cdFx0Ly8gUmVzZXQgYW5kIGhpZGUgZXJyb3IgbWVzc2FnZVxuXHRcdHRoaXMuX3Jlc2V0Um9vbUNyZWF0aW9uRXJyb3IoKTtcblxuXHRcdC8vIENoZWNrIHZhbGlkaXR5XG5cdFx0aWYgKHRoaXMuX3Jvb21DcmVhdGlvbklCdWlsZGVyLmNoZWNrSXNWYWxpZCgpKVxuXHRcdHtcblx0XHRcdGxldCBjaGFuZ2VzID0gdGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZ2V0Q2hhbmdlZERhdGEoKTtcblxuXHRcdFx0aWYgKGNoYW5nZXMuc2l6ZSgpID4gMClcblx0XHRcdHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGhlIHJvb20gbmFtZSBhZ2FpbnN0IHRoZSByb29tcyBsaXN0IChkdXBsaWNhdGUgbmFtZXMgbm90IGFsbG93ZWQhKVxuXHRcdFx0XHRpZiAodHJ1ZSkvL3RoaXMuX3ZhbGlkYXRlTmV3Um9vbU5hbWUoY2hhbmdlcykpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBEaXNhYmxlIHJvb20gY3JlYXRpb24gcGFuZWxcblx0XHRcdFx0XHR0aGlzLl9lbmFibGVDcmVhdGVSb29tUGFuZWwoZmFsc2UpO1xuXG5cdFx0XHRcdFx0Ly8gU2VuZCBzZXR0aW5ncyB0byBzZXJ2ZXIgaW5zdGFuY2Vcblx0XHRcdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0XHRcdHBhcmFtcy5wdXRTRlNBcnJheSgnc2V0dGluZ3MnLCBjaGFuZ2VzKTtcblx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6TmFtZScsIHRoaXMuX3pvbmVMaXN0Qm94LmRhdGFJdGVtKHRoaXMuX3pvbmVMaXN0Qm94LnNlbGVjdCgpKS5uYW1lKTtcblx0XHRcdFx0XHRwYXJhbXMucHV0Qm9vbCgnbm90aWZ5JywgJCgnI3pubS1ub3RpZnlDbGllbnRzQ0InKS5wcm9wKCdjaGVja2VkJykpO1xuXG5cdFx0XHRcdFx0Ly8gU2VuZCBzZXR0aW5ncyB0byBleHRlbnNpb25cblx0XHRcdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0NSRUFURV9ST09NLCBwYXJhbXMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIFNob3cgYWxlcnRcblx0XHRcdFx0XHR0aGlzLnNoZWxsQ3RybC5zaG93U2ltcGxlQWxlcnQoJ1VuYWJsZSB0byBzdWJtaXQgY29uZmlndXJhdGlvbiBiZWNhdXNlIHRoZSBSb29tIG5hbWUgYWxyZWFkeSBleGlzdHM7IGR1cGxpY2F0ZSBuYW1lcyBhcmUgbm90IGFsbG93ZWQuJywgdHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdC8vIFNob3cgYWxlcnRcblx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydCgnVW5hYmxlIHRvIHN1Ym1pdCBSb29tIGNvbmZpZ3VyYXRpb24gZHVlIHRvIGFuIGludmFsaWQgdmFsdWU7IHBsZWFzZSB2ZXJpZnkgdGhlIGhpZ2hsaWdodGVkIGZvcm0gZmllbGRzIGluIGFsbCB0YWJzLicsIHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdF9vblNob3dSb29tRmlsdGVyQnRDbGljaygpXG5cdHtcblx0XHR0aGlzLl9yb29tRmlsdGVyLnNob3coKTtcblx0fVxuXG5cdF9vblNob3dVc2VyRmlsdGVyQnRDbGljaygpXG5cdHtcblx0XHR0aGlzLl91c2VyRmlsdGVyLnNob3coKTtcblx0fVxuXG5cdF9vbkFwcGx5QnRDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHR9XG5cblx0X29uUm9vbUZpbHRlclVwZGF0ZWQoKVxuXHR7XG5cdFx0Ly8gRW5hYmxlL2Rpc2FibGUgXCJBcHBseVwiIGNoZWNrYm94XG5cdFx0JCgnI3pubS1hcHBseVJvb21GaWx0ZXJDQicpLmF0dHIoJ2Rpc2FibGVkJywgdGhpcy5fcm9vbUZpbHRlci5maWx0ZXJFeHByZXNzaW9uID09IG51bGwpO1xuXG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHR9XG5cblx0X29uVXNlckZpbHRlclVwZGF0ZWQoKVxuXHR7XG5cdFx0Ly8gRW5hYmxlL2Rpc2FibGUgXCJBcHBseVwiIGNoZWNrYm94XG5cdFx0JCgnI3pubS1hcHBseVVzZXJGaWx0ZXJDQicpLmF0dHIoJ2Rpc2FibGVkJywgdGhpcy5fdXNlckZpbHRlci5maWx0ZXJFeHByZXNzaW9uID09IG51bGwpO1xuXG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHR9XG5cblx0X29uTW9uaXRvclNlbGVjdGlvbkJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX3NlbGVjdGVkWm9uZSlcblx0XHR7XG5cdFx0XHQvLyBDYW5jZWwgcHJldmlvdXMgbW9uaXRvcmluZ1xuXHRcdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cblx0XHRcdGxldCBnZXRab25lVXNlckNvdW50SGlzdG9yeSA9IGZhbHNlO1xuXG5cdFx0XHR0aGlzLl9tb25pdG9yZWRab25lID0gdGhpcy5fc2VsZWN0ZWRab25lLm5hbWU7XG5cblx0XHRcdC8vIFpvbmUgbXVzdCBiZSBtb25pdG9yZWRcblx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3pvbmUnKVxuXHRcdFx0e1xuXHRcdFx0XHR0aGlzLl9tb25pdG9yZWRUeXBlID0gdGhpcy5NT05JVE9SRURfVFlQRV9aT05FO1xuXHRcdFx0XHR0aGlzLl9tb25pdG9yZWROYW1lID0gdGhpcy5fbW9uaXRvcmVkWm9uZTtcblxuXHRcdFx0XHRnZXRab25lVXNlckNvdW50SGlzdG9yeSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJvb20gbXVzdCBiZSBtb25pdG9yZWRcblx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nICYmIHRoaXMuX3NlbGVjdGVkUm9vbSAhPSB1bmRlZmluZWQpXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMuX21vbml0b3JlZFR5cGUgPSB0aGlzLk1PTklUT1JFRF9UWVBFX1JPT007XG5cdFx0XHRcdHRoaXMuX21vbml0b3JlZE5hbWUgPSB0aGlzLl9zZWxlY3RlZFJvb20ubmFtZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlciBtdXN0IGJlIG1vbml0b3JlZFxuXHRcdFx0aWYgKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAndXNlcicgJiYgdGhpcy5fc2VsZWN0ZWRVc2VyICE9IHVuZGVmaW5lZClcblx0XHRcdHtcblx0XHRcdFx0dGhpcy5fbW9uaXRvcmVkVHlwZSA9IHRoaXMuTU9OSVRPUkVEX1RZUEVfVVNFUjtcblx0XHRcdFx0dGhpcy5fbW9uaXRvcmVkTmFtZSA9IHRoaXMuX3NlbGVjdGVkVXNlci5uYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGxvYWRpbmcgYmFyXG5cdFx0XHR0aGlzLl9zd2l0Y2hWaWV3KCd6bm0tbG9hZGluZycpO1xuXG5cdFx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0XHR0aGlzLl9yZXF1ZXN0RGF0YSh0cnVlLCBnZXRab25lVXNlckNvdW50SGlzdG9yeSk7XG5cdFx0fVxuXHR9XG5cblx0X29uU2VuZEFkbWluTXNnSW5LZXlVcChldmVudClcblx0e1xuXHRcdGlmIChldmVudC5rZXkgIT09ICdFbnRlcicpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuX29uU2VuZEFkbWluTXNnQnRDbGljaygpO1xuXHR9XG5cblx0X29uU2VuZEFkbWluTXNnQnRDbGljaygpXG5cdHtcblx0XHRpZiAodGhpcy5fc2VsZWN0ZWRab25lICYmICQoJyN6bm0tbWVzc2FnZUluJykudmFsKCkgIT0gJycpXG5cdFx0e1xuXHRcdFx0Ly8gQnVpbGQgcmVxdWVzdCBwYXJhbWV0ZXJzXG5cdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXG5cdFx0XHQvLyBBbHdheXMgaW5jbHVkZSB6b25lXG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fc2VsZWN0ZWRab25lLm5hbWUpO1xuXG5cdFx0XHQvLyBTZW5kIG1lc3NhZ2UgdG8gcm9vbT9cblx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nICYmIHRoaXMuX3NlbGVjdGVkUm9vbSAhPSB1bmRlZmluZWQpXG5cdFx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3Jvb20nLCB0aGlzLl9zZWxlY3RlZFJvb20ubmFtZSk7XG5cblx0XHRcdC8vIFNlbmQgbWVzc2FnZSB0byB1c2VyP1xuXHRcdFx0aWYgKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAndXNlcicgJiYgdGhpcy5fc2VsZWN0ZWRVc2VyICE9IHVuZGVmaW5lZClcblx0XHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygndXNlcicsIHRoaXMuX3NlbGVjdGVkVXNlci5uYW1lKTtcblxuXHRcdFx0Ly8gQWRkIG1lc3NhZ2Vcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ21zZycsICQoJyN6bm0tbWVzc2FnZUluJykudmFsKCkpO1xuXG5cdFx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0FETUlOX01TRywgcGFyYW1zKTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGV4dCBpbnB1dFxuXHRcdFx0JCgnI3pubS1tZXNzYWdlSW4nKS52YWwoJycpO1xuXHRcdH1cblx0fVxuXG5cdF9vbkNsb3NlTW9uaXRvckJ0Q2xpY2soKVxuXHR7XG5cdFx0Ly8gU2F2ZSByZWYuIGZvciBsYXRlciB1c2FnZVxuXHRcdGNvbnN0IG1vbml0b3JlZFR5cGUgPSB0aGlzLl9tb25pdG9yZWRUeXBlO1xuXG5cdFx0dGhpcy5fbW9uaXRvcmVkWm9uZSA9IG51bGw7XG5cdFx0dGhpcy5fbW9uaXRvcmVkVHlwZSA9IG51bGw7XG5cdFx0dGhpcy5fbW9uaXRvcmVkTmFtZSA9IG51bGw7XG5cblx0XHQvLyBDbGVhciBnZW9sb2NhdGlvbiBVSVxuXHRcdHRoaXMuX2NsZWFyR2VvTG9jYXRpb25VSSgpO1xuXG5cdFx0Ly8gQ2xlYXIgbG9nIGRhdGFncmlkcyBkYXRhcHJvdmlkZXJzXG5cdFx0Ly8gTk9URTogYSB0cnktY2F0Y2ggaXMgdXNlZCBoZXJlIGJlY2F1c2UsIGZvciBhbiB1bmtub3duIHJlYXNvbiwgS2VuZG8gaXMgdGhyb3dpbmcgYW4gZXJyb3Igd2hlbiByZXNldHRpbmcgdGhlIGRhdGEgc291cmNlcyB3aGVuIHRoZSBtb2R1bGUgaXMgZGVzdHJveWVkXG5cdFx0dHJ5XG5cdFx0e1xuXHRcdFx0dGhpcy5fem9uZUV4dExvZ0dyaWQuc2V0RGF0YVNvdXJjZShbXSk7XG5cdFx0XHR0aGlzLl9yb29tRXh0TG9nR3JpZC5zZXREYXRhU291cmNlKFtdKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cblxuXHRcdC8vIExlYXZlIGVkaXQgbW9kZVxuXHRcdHRoaXMuX29uQ2FuY2VsQnRDbGljaygpO1xuXG5cdFx0Ly8gUmVhcnJhbmdlIG1vbml0b3JpbmcgaW50ZXJmYWNlXG5cdFx0dGhpcy5fc2V0TW9uaXRvcmluZ0ludGVyZmFjZSgpO1xuXG5cdFx0Ly8gQ2xlYXIgdGFiIG5hdmlnYXRvclxuXHRcdHRoaXMuX2NsZWFyVGFicyhtb25pdG9yZWRUeXBlKTtcblx0fVxuXG5cdF9vbkVkaXRCdENsaWNrKClcblx0e1xuXHRcdGlmICghdGhpcy5faXNFZGl0aW5nKVxuXHRcdHtcblx0XHRcdC8vIFNob3cgZWRpdCBjb250cm9sc1xuXHRcdFx0JCgnI3pubS1lZGl0Q29udHJvbHMnKS5zaG93KCk7XG5cblx0XHRcdC8vIEhpZGUgZWRpdCBidXR0b25cblx0XHRcdCQoJyN6bm0tZWRpdEJ0JykuaGlkZSgpO1xuXG5cdFx0XHQvLyBFbmFibGUgZWRpdGFibGUgZmllbGRzXG5cdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmRpc2FibGVJbnRlcmZhY2UoZmFsc2UpO1xuXG5cdFx0XHR0aGlzLl9pc0VkaXRNb2RlID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRfb25DYW5jZWxCdENsaWNrKClcblx0e1xuXHRcdGlmICh0aGlzLl9pc0VkaXRpbmcpXG5cdFx0e1xuXHRcdFx0Ly8gSGlkZSBlZGl0IGNvbnRyb2xzXG5cdFx0XHQkKCcjem5tLWVkaXRDb250cm9scycpLmhpZGUoKTtcblxuXHRcdFx0Ly8gU2hvdyBlZGl0IGJ1dHRvblxuXHRcdFx0JCgnI3pubS1lZGl0QnQnKS5zaG93KCk7XG5cblx0XHRcdC8vIERpc2FibGUgZWRpdGFibGUgZmllbGRzXG5cdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmRpc2FibGVJbnRlcmZhY2UodHJ1ZSk7XG5cblx0XHRcdHRoaXMuX2lzRWRpdE1vZGUgPSBmYWxzZTtcblxuXHRcdFx0Ly8gSGlkZSB2YWxpZGF0aW9uIG1lc3NhZ2VzXG5cdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLnJlc2V0VmFsaWRhdGlvbigpO1xuXG5cdFx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gdXBkYXRlIGludGVyZmFjZSAodXBkYXRpbmcgc3VzcGVuZGVkIGluIGVkaXQgbW9kZSlcblx0XHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdF9vblN1Ym1pdEJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX2lzRWRpdGluZylcblx0XHR7XG5cdFx0XHQvLyBDaGVjayB2YWxpZGl0eVxuXHRcdFx0aWYgKHRoaXMuX2ludGVyZmFjZUJ1aWxkZXIuY2hlY2tJc1ZhbGlkKCkpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBjaGFuZ2VzID0gdGhpcy5faW50ZXJmYWNlQnVpbGRlci5nZXRDaGFuZ2VkRGF0YSgpO1xuXG5cdFx0XHRcdGlmIChjaGFuZ2VzLnNpemUoKSA+IDApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKGNoYW5nZXMuZ2V0RHVtcCgpKVxuXG5cdFx0XHRcdFx0Ly8gU2VuZCBzZXR0aW5ncyB0byBzZXJ2ZXIgaW5zdGFuY2Vcblx0XHRcdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0XHRcdHBhcmFtcy5wdXRTRlNBcnJheSgnc2V0dGluZ3MnLCBjaGFuZ2VzKTtcblx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkWm9uZSk7XG5cblx0XHRcdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1JPT00pXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gU3VibWl0IHJvb20gc2V0dGluZ3Ncblx0XHRcdFx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3Jvb20nLCB0aGlzLl9tb25pdG9yZWROYW1lKTtcblx0XHRcdFx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfU0VUX1JPT01fU0VUVElOR1MsIHBhcmFtcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9VU0VSKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdC8vIFN1Ym1pdCB1c2VyIHNldHRpbmdzXG5cdFx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd1c2VyJywgdGhpcy5fbW9uaXRvcmVkTmFtZSk7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX1NFVF9VU0VSX1NFVFRJTkdTLCBwYXJhbXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gU3VibWl0IHpvbmUgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfU0VUX1pPTkVfU0VUVElOR1MsIHBhcmFtcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVhdmUgZWRpdCBtb2RlXG5cdFx0XHRcdFx0dGhpcy5fb25DYW5jZWxCdENsaWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0Ly8gU2hvdyBhbGVydFxuXHRcdFx0XHR0aGlzLnNoZWxsQ3RybC5zaG93U2ltcGxlQWxlcnQoJ1VuYWJsZSB0byBzdWJtaXQgY2hhbmdlcyBkdWUgdG8gYW4gaW52YWxpZCB2YWx1ZTsgcGxlYXNlIHZlcmlmeSB0aGUgaGlnaGxpZ2h0ZWQgZm9ybSBmaWVsZHMgaW4gYWxsIHRhYnMuJywgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0X29uVGltZVJhbmdlQ2hhbmdlKClcblx0e1xuXHRcdGxldCB2YWx1ZXMgPSB0aGlzLl90aW1lU2xpZGVyLnZhbHVlKCk7XG5cblx0XHRpZiAodmFsdWVzWzBdID09IHZhbHVlc1sxXSlcblx0XHR7XG5cdFx0XHRpZiAodmFsdWVzWzFdID09IC0yNClcblx0XHRcdFx0dmFsdWVzWzFdID0gLTIzO1xuXG5cdFx0XHR2YWx1ZXNbMF0gPSB2YWx1ZXNbMV0gLSAxO1xuXG5cdFx0XHQvLyBSZXNldCB0aGUgdGltZSByYW5nZSBzbGlkZXIgdmFsdWUgKHdlIG5lZWQgdG8gdXNlIHNldFRpbWVvdXRcblx0XHRcdC8vIGJhY2F1c2UgZG9pbmcgaXQgaW4gdGhlIGNoYW5nZSBldmVudCBsaXN0ZW5lciBkb2Vzbid0IHJlZHJhdyB0aGUgc2xpZGVyKVxuXHRcdFx0c2V0VGltZW91dCgkLnByb3h5KCBmdW5jdGlvbih2YWx1ZXMpIHsgdGhpcy5fdGltZVNsaWRlci52YWx1ZSh2YWx1ZXMpOyB9LCB0aGlzKSwgMTAsIHZhbHVlcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdXNlckNvdW50Q2hhcnQucmFuZ2UgPSB2YWx1ZXM7XG5cdH1cblxuXHRfb25XaW5kb3dSZXNpemUoKVxuXHR7XG5cdFx0Ly8gUmVkcmF3IGNoYXJ0c1xuXHRcdHRoaXMuX3VzZXJDb3VudENoYXJ0LnJlZHJhdygpO1xuXHRcdHRoaXMuX3BhY2tldFF1ZXVlQ2hhcnQucmVkcmF3KCk7XG5cdFx0dGhpcy5fZHJvcHBlZE1zZ0NoYXJ0LnJlZHJhdygpO1xuXHRcdHRoaXMuX3dyaXR0ZW5EYXRhQ2hhcnQucmVkcmF3KCk7XG5cdFx0dGhpcy5fcmVhZERhdGFDaGFydC5yZWRyYXcoKTtcblxuXHRcdC8vIFJlZHJhdyB0aW1lIHJhbmdlIHNsaWRlclxuXHRcdHRoaXMuX3RpbWVTbGlkZXIucmVzaXplKCk7XG5cdH1cblxuXHRfb25Xb3Jkc1JlbG9hZEJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9aT05FKVxuXHRcdHtcblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBleHRlbnNpb25cblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkTmFtZSk7XG5cblx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfUkVMT0FEX1dPUkRTLCBwYXJhbXMpO1xuXHRcdH1cblx0fVxuXG5cdF9vblpvbmVFeHRSZWxvYWRCdENsaWNrKClcblx0e1xuXHRcdGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfWk9ORSlcblx0XHR7XG5cdFx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygnem9uZScsIHRoaXMuX21vbml0b3JlZE5hbWUpO1xuXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX1JFTE9BRF9aT05FX0VYVCwgcGFyYW1zKTtcblx0XHR9XG5cdH1cblxuXHRfb25EaXNjb25uZWN0QnRDbGljaygpXG5cdHtcblx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1VTRVIpXG5cdFx0e1xuXHRcdFx0Ly8gU2VuZCByZXF1ZXN0IHRvIGV4dGVuc2lvblxuXHRcdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3pvbmUnLCB0aGlzLl9tb25pdG9yZWRab25lKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3VzZXInLCB0aGlzLl9tb25pdG9yZWROYW1lKTtcblxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9ESVNDT05ORUNUX1VTRVIsIHBhcmFtcyk7XG5cdFx0fVxuXHR9XG5cblx0X29uS2lja0J0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9VU0VSKVxuXHRcdHtcblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBleHRlbnNpb25cblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkWm9uZSk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd1c2VyJywgdGhpcy5fbW9uaXRvcmVkTmFtZSk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCdtc2cnLCAkKCcjem5tLWtpY2tNc2dJbicpLnZhbCgpKTtcblx0XHRcdHBhcmFtcy5wdXRJbnQoJ2RlbGF5JywgKHRoaXMuX2tpY2tEZWxheUluLnZhbHVlKCkgIT0gbnVsbCA/IE51bWJlcih0aGlzLl9raWNrRGVsYXlJbi52YWx1ZSgpKSA6IHRoaXMuS0lDS19CQU5fREVGQVVMVF9ERUxBWSkpO1xuXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0tJQ0tfVVNFUiwgcGFyYW1zKTtcblxuXHRcdFx0Ly8gUmVzZXQgbWVzc2FnZVxuXHRcdFx0JCgnI3pubS1raWNrTXNnSW4nKS52YWwoJycpO1xuXHRcdH1cblx0fVxuXG5cdF9vbkJhbkJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9VU0VSKVxuXHRcdHtcblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBleHRlbnNpb25cblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkWm9uZSk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd1c2VyJywgdGhpcy5fbW9uaXRvcmVkTmFtZSk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCdtc2cnLCAkKCcjem5tLWJhbk1zZ0luJykudmFsKCkpO1xuXHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygnbW9kZScsIHRoaXMuX2Jhbk1vZGVEZC5zZWxlY3QoKSA+IDAgPyB0aGlzLl9iYW5Nb2RlRGQudmFsdWUoKSA6ICdOQU1FJyk7XG5cdFx0XHRwYXJhbXMucHV0SW50KCdkZWxheScsICh0aGlzLl9iYW5EZWxheUluLnZhbHVlKCkgIT0gbnVsbCA/IE51bWJlcih0aGlzLl9iYW5EZWxheUluLnZhbHVlKCkpIDogdGhpcy5LSUNLX0JBTl9ERUZBVUxUX0RFTEFZKSk7XG5cblx0XHRcdGxldCBkdXJhdGlvbiA9IHRoaXMuX2JhbkR1cmF0aW9uSW4udmFsdWUoKSAhPSBudWxsID8gTnVtYmVyKHRoaXMuX2JhbkR1cmF0aW9uSW4udmFsdWUoKSkgOiAxO1xuXG5cdFx0XHRpZiAodGhpcy5fYmFuRHVyVW5pdERkLnZhbHVlKCkgPT0gJ2hvdXJzJylcblx0XHRcdFx0ZHVyYXRpb24gPSBkdXJhdGlvbiAqIDYwO1xuXHRcdFx0ZWxzZSBpZiAodGhpcy5fYmFuRHVyVW5pdERkLnZhbHVlKCkgPT0gJ2RheXMnKVxuXHRcdFx0XHRkdXJhdGlvbiA9IGR1cmF0aW9uICogNjAgKiAyNDtcblxuXHRcdFx0cGFyYW1zLnB1dEludCgnZHVyYXRpb24nLCBkdXJhdGlvbik7XG5cblx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfQkFOX1VTRVIsIHBhcmFtcyk7XG5cblx0XHRcdC8vIFJlc2V0IG1lc3NhZ2Vcblx0XHRcdCQoJyN6bm0tYmFuTXNnSW4nKS52YWwoJycpO1xuXHRcdH1cblx0fVxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIFBSSVZBVEUgTUVUSE9EU1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdF9zZXRNb25pdG9yaW5nSW50ZXJmYWNlKClcblx0e1xuXHRcdGNvbnN0IGVuYWJsZWQgPSAodGhpcy5fbW9uaXRvcmVkVHlwZSAhPSBudWxsICYmIHRoaXMuX21vbml0b3JlZE5hbWUgIT0gbnVsbCk7XG5cblx0XHQvLyBTaG93L2hpZGUgaGVhZGVyIGFuZCBmb290ZXJcblx0XHRpZiAoZW5hYmxlZClcblx0XHR7XG5cdFx0XHR0aGlzLl9zd2l0Y2hWaWV3KGB6bm0tJHt0aGlzLl9tb25pdG9yZWRUeXBlfU1vbml0b3JgKTtcblxuXHRcdFx0Ly8gSGVhZGVyIHRpdGxlXG5cdFx0XHRsZXQgdGl0bGUgPSAnTm93IG1vbml0b3JpbmcgJztcblxuXHRcdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9VU0VSKVxuXHRcdFx0XHR0aXRsZSArPSBgVXNlcjogPHN0cm9uZz4ke3RoaXMuX21vbml0b3JlZE5hbWV9PC9zdHJvbmc+IChab25lOiAke3RoaXMuX21vbml0b3JlZFpvbmV9KWA7XG5cdFx0XHRlbHNlIGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfUk9PTSlcblx0XHRcdFx0dGl0bGUgKz0gYFJvb206IDxzdHJvbmc+JHt0aGlzLl9tb25pdG9yZWROYW1lfTwvc3Ryb25nPiAoWm9uZTogJHt0aGlzLl9tb25pdG9yZWRab25lfSlgO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aXRsZSArPSBgWm9uZTogPHN0cm9uZz4ke3RoaXMuX21vbml0b3JlZFpvbmV9PC9zdHJvbmc+YDtcblxuXHRcdFx0JCgnI3pubS1tb25pdG9yZWRIZWFkZXInKS5odG1sKHRpdGxlKTtcblx0XHRcdCQoJyN6bm0tbW9uaXRvcmVkRm9vdGVyJykuc2hvdygpO1xuXG5cdFx0XHQvLyBTaG93IHBhbmVsXG5cdFx0XHR0aGlzLl9zd2l0Y2hQYW5lbCgnem5tLW1haW5QYW5lbCcpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dGhpcy5fc3dpdGNoVmlldygnem5tLXNlbGVjdCcpO1xuXG5cdFx0XHQkKCcjem5tLW1vbml0b3JlZEhlYWRlcicpLmh0bWwoJycpO1xuXHRcdFx0JCgnI3pubS1tb25pdG9yZWRGb290ZXInKS5oaWRlKCk7XG5cblx0XHRcdC8vIFNob3cgcGFuZWxcblx0XHRcdHRoaXMuX3N3aXRjaFBhbmVsKCd6bm0tc2lkZWJhclBhbmVsJyk7XG5cdFx0fVxuXHR9XG5cblx0X3N3aXRjaFZpZXcodmlld0lkKVxuXHR7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pubS12aWV3c3RhY2snKS5zZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWV3SWQpO1xuXHR9XG5cblx0X3N3aXRjaFBhbmVsKHBhbmVsSWQpXG5cdHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem5tLXZpZXcnKS5zZWxlY3RlZFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFuZWxJZCk7XG5cdH1cblxuXHQvKipcblx0ICogQnVpbGQgdGhlIHBvbGxpbmcgcmVxdWVzdCB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIsIGJhc2VkIG9uIHRoZSBzZWxlY3Rpb25zIGFuZCBvdGhlciBzZXR0aW5ncyBpbiB0aGUgYWNjb3JkaW9uLlxuXHQgKi9cblx0X3JlcXVlc3REYXRhKG5ld0lkID0gZmFsc2UsIGdldFpvbmVVc2VyQ291bnRIaXN0b3J5ID0gZmFsc2UpXG5cdHtcblx0XHQvLyBDbGVhciBwcmV2aW91cyByZXF1ZXN0IHNjaGVkdWxpbmdcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fcmVxdWVzdFRpbWVyKTtcblxuXHRcdC8vIENoZWNrIGlmIGNvbm5lY3Rpb24gaXMgc3RpbGwgYXZhaWxhYmxlXG5cdFx0aWYgKHRoaXMuc21hcnRGb3guaXNDb25uZWN0ZWQpXG5cdFx0e1xuXHRcdFx0aWYgKG5ld0lkKVxuXHRcdFx0XHR0aGlzLl9jdXJyZW50UmVxdWVzdElkKys7XG5cblx0XHRcdC8vIEJ1aWxkIHJlcXVlc3QgcGFyYW1ldGVyc1xuXHRcdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblxuXHRcdFx0Ly8gVGhlIHVwZGF0ZWQgem9uZXMvcm9vbXMvdXNlcnMgbGlzdHMgYXJlIHJlcXVlc3RlZCBpZiB0aGUgY29ycmVzcG9uZGluZyBwYW5lbCBpcyBkaXNwbGF5ZWQgb25seVxuXHRcdFx0Y29uc3QgZ2V0Wm9uZXMgPSAodGhpcy5fYWN0aXZlUGFuZWxUeXBlID09ICd6b25lJyk7XG5cdFx0XHRjb25zdCBnZXRSb29tcyA9ICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nICYmIHRoaXMuX3NlbGVjdGVkWm9uZSAhPSB1bmRlZmluZWQpO1xuXHRcdFx0Y29uc3QgZ2V0VXNlcnMgPSAodGhpcy5fYWN0aXZlUGFuZWxUeXBlID09ICd1c2VyJyAmJiB0aGlzLl9zZWxlY3RlZFpvbmUgIT0gdW5kZWZpbmVkKTtcblxuXHRcdFx0Ly8gLS0tIFpPTkVTIC0tLVxuXHRcdFx0cGFyYW1zLnB1dEJvb2woJ3pvbmVzJywgZ2V0Wm9uZXMpO1xuXG5cdFx0XHQvLyBST09NUyAmIFVTRVJTXG5cdFx0XHRpZiAoZ2V0Um9vbXMgfHwgZ2V0VXNlcnMpXG5cdFx0XHR7XG5cdFx0XHRcdC8vIENvbW1vbiBmaWx0ZXJpbmcgcGFyYW1zOlxuXG5cdFx0XHRcdC8vIGEpIHpvbmUgbmFtZVxuXHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fc2VsZWN0ZWRab25lLm5hbWUpO1xuXG5cdFx0XHRcdC8vIGIpIGdyb3VwIG5hbWVcblx0XHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygnZ3JvdXAnLCB0aGlzLl9zZWxlY3RlZEdyb3VwLm5hbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBST09NU1xuXHRcdFx0cGFyYW1zLnB1dEJvb2woJ3Jvb21zJywgZ2V0Um9vbXMpO1xuXHRcdFx0aWYgKGdldFJvb21zKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBGaWx0ZXJpbmcgcGFyYW1zOlxuXG5cdFx0XHRcdC8vIGMpIGFkdmFuY2VkIGZpbHRlcmluZyBwYXJhbXNcblx0XHRcdFx0aWYgKCQoJyN6bm0tYXBwbHlSb29tRmlsdGVyQ0InKS5wcm9wKCdjaGVja2VkJykgJiYgdGhpcy5fcm9vbUZpbHRlci5maWx0ZXJFeHByZXNzaW9uICE9IG51bGwpXG5cdFx0XHRcdFx0cGFyYW1zLnB1dFNGU0FycmF5KCdyRmlsdGVyJywgdGhpcy5fcm9vbUZpbHRlci5maWx0ZXJFeHByZXNzaW9uLnRvU0ZTQXJyYXkoKSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVTRVJTXG5cdFx0XHRwYXJhbXMucHV0Qm9vbCgndXNlcnMnLCBnZXRVc2Vycyk7XG5cdFx0XHRpZiAoZ2V0VXNlcnMpXG5cdFx0XHR7XG5cdFx0XHRcdC8vIEZpbHRlcmluZyBwYXJhbXM6XG5cblx0XHRcdFx0Ly8gYykgcm9vbSBuYW1lXG5cdFx0XHRcdGlmICh0aGlzLl9zZWxlY3RlZFJvb20pXG5cdFx0XHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygncm9vbScsIHRoaXMuX3NlbGVjdGVkUm9vbS5uYW1lKTtcblxuXHRcdFx0XHQvLyBkKSBhZHZhbmNlZCBmaWx0ZXJpbmcgcGFyYW1zXG5cdFx0XHRcdGlmICgkKCcjem5tLWFwcGx5VXNlckZpbHRlckNCJykucHJvcCgnY2hlY2tlZCcpICYmIHRoaXMuX3VzZXJGaWx0ZXIuZmlsdGVyRXhwcmVzc2lvbiAhPSBudWxsKVxuXHRcdFx0XHRcdHBhcmFtcy5wdXRTRlNBcnJheSgndUZpbHRlcicsIHRoaXMuX3VzZXJGaWx0ZXIuZmlsdGVyRXhwcmVzc2lvbi50b1NGU0FycmF5KCkpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAtLS0gQ1VSUkVOVExZIE1PTklUT1JFRCBEQVRBIC0tLVxuXHRcdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgIT0gbnVsbCAmJiB0aGlzLl9tb25pdG9yZWROYW1lICE9IG51bGwpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBtb25pdG9yZWRPYmogPSB0aGlzLl9nZXRCYXNpY01vbml0b3JlZE9iamVjdCgpO1xuXG5cdFx0XHRcdGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfWk9ORSlcblx0XHRcdFx0XHRtb25pdG9yZWRPYmoucHV0Qm9vbCgndWMnLCBnZXRab25lVXNlckNvdW50SGlzdG9yeSk7XG5cblx0XHRcdFx0cGFyYW1zLnB1dFNGU09iamVjdCgnbW9uaXRvcmVkJywgbW9uaXRvcmVkT2JqKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHJlcXVlc3QgaWQ7IHdoZW4gYSByZXNwb25zZSBpcyByZWNlaXZlZCwgd2UgY2hlY2sgaXRzIGlkIG1hdGNoZXMgdGhlIGN1cnJlbnQgcmVxdWVzdCBpZDogaWYgbm90LCB0aGUgcmVzcG9uc2UgaXMgZGlzY2FyZGVkXG5cdFx0XHRwYXJhbXMucHV0SW50KCdpZCcsIHRoaXMuX2N1cnJlbnRSZXF1ZXN0SWQpO1xuXG5cdFx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0dFVF9EQVRBLCBwYXJhbXMpO1xuXG5cdFx0XHQvLyBTY2hlZHVsZSBuZXh0IHJlcXVlc3Rcblx0XHRcdHRoaXMuX3JlcXVlc3RUaW1lciA9IHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLl9yZXF1ZXN0RGF0YSwgdGhpcyksIE51bWJlcih0aGlzLl9pbnRlcnZhbERyb3BEb3duLnZhbHVlKCkpICogMTAwMCk7XG5cdFx0fVxuXHR9XG5cblx0X2dldEJhc2ljTW9uaXRvcmVkT2JqZWN0KClcblx0e1xuXHRcdGxldCBtb25pdG9yZWRPYmogPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cblx0XHRtb25pdG9yZWRPYmoucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkWm9uZSk7XG5cdFx0bW9uaXRvcmVkT2JqLnB1dFV0ZlN0cmluZygndHlwZScsIHRoaXMuX21vbml0b3JlZFR5cGUpO1xuXHRcdG1vbml0b3JlZE9iai5wdXRVdGZTdHJpbmcoJ25hbWUnLCB0aGlzLl9tb25pdG9yZWROYW1lKTtcblxuXHRcdHJldHVybiBtb25pdG9yZWRPYmo7XG5cdH1cblxuXHRfc2V0Wm9uZXNEYXRhUHJvdmlkZXIoem9uZXNEYXRhKVxuXHR7XG5cdFx0dGhpcy5fc2V0TGlzdERhdGFQcm92aWRlcih0aGlzLl96b25lTGlzdEJveCwgem9uZXNEYXRhLCB0cnVlKTtcblx0fVxuXG5cdF9zZXRSb29tc0RhdGFQcm92aWRlcihyb29tc0RhdGEpXG5cdHtcblx0XHR0aGlzLl9zZXRMaXN0RGF0YVByb3ZpZGVyKHRoaXMuX3Jvb21MaXN0Qm94LCByb29tc0RhdGEsIHRydWUpO1xuXG5cdFx0Ly8gU2V0IFJlbW92ZSBidXR0b24gc3RhdGVcblx0XHQkKCcjem5tLXJlbW92ZVJvb21CdCcpLmF0dHIoJ2Rpc2FibGVkJywgdGhpcy5fc2VsZWN0ZWRSb29tID09IHVuZGVmaW5lZCk7XG5cdH1cblxuXHRfc2V0VXNlcnNEYXRhUHJvdmlkZXIodXNlcnNEYXRhKVxuXHR7XG5cdFx0dGhpcy5fc2V0TGlzdERhdGFQcm92aWRlcih0aGlzLl91c2VyTGlzdEJveCwgdXNlcnNEYXRhKTtcblx0fVxuXG5cdF9zZXRMaXN0RGF0YVByb3ZpZGVyKGxpc3RXaWRnZXQsIGxpc3REYXRhLCBjb3VudFVzZXJzID0gZmFsc2UpXG5cdHtcblx0XHQvLyBTYXZlIHJlZmVyZW5jZSB0byBzZWxlY3RlZCBpdGVtIG5hbWVcblx0XHQvLyBOT1RFOiBhcyB3ZSBhcmUgc3Vic3RpdHV0aW5nIHRoZSB3aG9sZSBkYXRhIHNvdXJjZSwgd2UgbmVlZCBpdCB0byByZS1zZWxlY3QgdGhlIHNhbWUgaXRlbSBhZnRlciB1cGRhdGVcblx0XHRsZXQgc2VsZWN0ZWREYXRhSXRlbSA9IGxpc3RXaWRnZXQuZGF0YUl0ZW0obGlzdFdpZGdldC5zZWxlY3QoKSk7XG5cdFx0bGV0IHNlbGVjdGVkRGF0YUl0ZW1OYW1lID0gc2VsZWN0ZWREYXRhSXRlbSA/IHNlbGVjdGVkRGF0YUl0ZW0ubmFtZSA6IG51bGw7XG5cblx0XHRsZXQgZGF0YUFycmF5ID0gW107XG5cblx0XHQvLyBDb252ZXJ0IGRhdGEgY29taW5nIGZyb20gc2VydmVyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0RGF0YS5zaXplKCk7IGkrKylcblx0XHR7XG5cdFx0XHRsZXQgaXRlbURhdGEgPSBsaXN0RGF0YS5nZXRTRlNPYmplY3QoaSk7XG5cblx0XHRcdGxldCBpdGVtID0ge307XG5cdFx0XHRpdGVtLm5hbWUgPSBpdGVtRGF0YS5nZXRVdGZTdHJpbmcoJ25hbWUnKTtcblxuXHRcdFx0aWYgKGNvdW50VXNlcnMpXG5cdFx0XHRcdGl0ZW0udXNlcnMgPSBpdGVtRGF0YS5nZXRJbnQoJ3VzZXJzJyk7XG5cblx0XHRcdGRhdGFBcnJheS5wdXNoKGl0ZW0pO1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBuZXcgZGF0YSBzb3VyY2Vcblx0XHRsZXQgbGlzdERTID0gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7XG5cdFx0XHRkYXRhOiBkYXRhQXJyYXksXG5cdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0bW9kZWw6IHtcblx0XHRcdFx0XHRpZDogJ25hbWUnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzb3J0OiB7XG5cdFx0XHRcdGZpZWxkOiAnbmFtZScsXG5cdFx0XHRcdGRpcjogJ2FzYydcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEFzc2lnbiBkYXRhIHNvdXJjZSB0byBsaXN0XG5cdFx0bGlzdFdpZGdldC5zZXREYXRhU291cmNlKGxpc3REUyk7XG5cblx0XHQvLyBTZWxlY3QgYWdhaW4gcHJldmlvdXNseSBzZWxlY3RlZCBpdGVtXG5cdFx0aWYgKHNlbGVjdGVkRGF0YUl0ZW1OYW1lICE9IG51bGwpXG5cdFx0e1xuXHRcdFx0c2VsZWN0ZWREYXRhSXRlbSA9IGxpc3REUy5nZXQoc2VsZWN0ZWREYXRhSXRlbU5hbWUpO1xuXG5cdFx0XHRpZiAoc2VsZWN0ZWREYXRhSXRlbSlcblx0XHRcdHtcblx0XHRcdFx0bGV0IHNlbGVjdGVkRWxlbWVudCA9IGxpc3RXaWRnZXQud3JhcHBlci5maW5kKCdbZGF0YS11aWQ9XCInICsgc2VsZWN0ZWREYXRhSXRlbS51aWQgKyAnXCJdJyk7XG5cdFx0XHRcdGxpc3RXaWRnZXQuc2VsZWN0KHNlbGVjdGVkRWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVzZXQgbWFpbiBjb250cm9sIHN0YXRlXG5cdFx0dGhpcy5fc2V0TWFpbkNvbnRyb2xzRW5hYmxlZCgpO1xuXHR9XG5cblx0X3NldEdyb3Vwc0RhdGFQcm92aWRlcihncm91cHNEYXRhKVxuXHR7XG5cdFx0Ly8gQ3JlYXRlIEdyb3VwcyBhcnJheSwgYWRkaW5nIGNvbW1vbiBlbnRyaWVzXG5cdFx0bGV0IGdyb3Vwc0FycmF5ID0gW1xuXHRcdFx0dGhpcy5fZ2V0R3JvdXBPYmooJycsIHRoaXMuQU5ZX0xBQkVMKSxcblx0XHRcdHRoaXMuX2dldEdyb3VwT2JqKHRoaXMuREVGQVVMVF9HUk9VUF9OQU1FKVxuXHRcdF07XG5cblx0XHQvLyBTYXZlIHJlZmVyZW5jZSB0byBzZWxlY3RlZCBncm91cCBuYW1lXG5cdFx0Ly8gTk9URTogYXMgd2UgYXJlIHN1YnN0aXR1dGluZyB0aGUgd2hvbGUgZGF0YSBzb3VyY2UsIHdlIG5lZWQgaXQgdG8gcmUtc2VsZWN0IHRoZSBzYW1lIGl0ZW0gYWZ0ZXIgdXBkYXRlXG5cdFx0bGV0IHNlbGVjdGVkRGF0YUl0ZW0gPSB0aGlzLl9zZWxlY3RlZEdyb3VwO1xuXHRcdGxldCBzZWxlY3RlZERhdGFJdGVtTmFtZSA9IHNlbGVjdGVkRGF0YUl0ZW0gPyBzZWxlY3RlZERhdGFJdGVtLm5hbWUgOiBudWxsO1xuXG5cdFx0aWYgKGdyb3Vwc0RhdGEgIT0gbnVsbClcblx0XHR7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwc0RhdGEubGVuZ3RoOyBpKyspXG5cdFx0XHR7XG5cdFx0XHRcdGlmIChncm91cHNEYXRhW2ldICE9IHRoaXMuREVGQVVMVF9HUk9VUF9OQU1FKSAvLyBEZWZhdWx0IGdyb3VwIHdhcyBhZGRlZCBiZWZvcmVcblx0XHRcdFx0XHRncm91cHNBcnJheS5wdXNoKHRoaXMuX2dldEdyb3VwT2JqKGdyb3Vwc0RhdGFbaV0pKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgbmV3IGRhdGEgc291cmNlXG5cdFx0bGV0IGdyb3VwRFMgPSBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHtcblx0XHRcdGRhdGE6IGdyb3Vwc0FycmF5LFxuXHRcdFx0c2NoZW1hOiB7XG5cdFx0XHRcdG1vZGVsOiB7XG5cdFx0XHRcdFx0aWQ6ICduYW1lJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBBc3NpZ24gZGF0YSBzb3VyY2UgdG8gZHJvcGRvd25cblx0XHR0aGlzLl9ncm91cHNEcm9wRG93bi5zZXREYXRhU291cmNlKGdyb3VwRFMpO1xuXG5cdFx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0Ly8gU2VsZWN0IHByZXZpb3VzbHkgc2VsZWN0ZWQgaXRlbVxuXHRcdHNlbGVjdGVkRGF0YUl0ZW0gPSBncm91cERTLmdldChzZWxlY3RlZERhdGFJdGVtTmFtZSk7XG5cblx0XHQvLyBJZiBncm91cCBpcyBub3QgZm91bmQsIHNlbGVjdCB0aGUgZGVmYXVsdCBvbmVcblx0XHRpZiAoc2VsZWN0ZWREYXRhSXRlbSA9PSB1bmRlZmluZWQpXG5cdFx0XHRzZWxlY3RlZERhdGFJdGVtID0gZ3JvdXBEUy5nZXQodGhpcy5ERUZBVUxUX0dST1VQX05BTUUpO1xuXG5cdFx0dGhpcy5fZ3JvdXBzRHJvcERvd24uc2VsZWN0KGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0XHRyZXR1cm4gZGF0YUl0ZW0ubmFtZSA9PT0gc2VsZWN0ZWREYXRhSXRlbS5uYW1lO1xuXHRcdH0pO1xuXHR9XG5cblx0X2dldEdyb3VwT2JqKG5hbWUsIGxhYmVsID0gbnVsbClcblx0e1xuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0bGFiZWw6IChsYWJlbCAhPSBudWxsID8gbGFiZWwgOiBuYW1lKVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIFNjb3BlIGxhYmVsIGluIHRoZSBSb29tcyBwYW5lbCBhbmQgaW4gdGhlIFVzZXJzIHBhbmVsLlxuXHQgKi9cblx0X3NldFNjb3BlTGFiZWwoKVxuXHR7XG5cdFx0bGV0IHJvb21TY29wZSA9ICcnO1xuXHRcdGxldCB1c2VyU2NvcGUgPSAnJztcblxuXHRcdGlmICh0aGlzLl9zZWxlY3RlZFpvbmUpXG5cdFx0e1xuXHRcdFx0bGV0IHpvbmVOYW1lID0gdGhpcy5fc2VsZWN0ZWRab25lLm5hbWU7XG5cdFx0XHRyb29tU2NvcGUgPSB0aGlzLl9nZXRTY29wZUxhYmVsUGFydCgnWm9uZTonLCB6b25lTmFtZSk7XG5cblx0XHRcdGxldCBzZWxlY3RlZEdyb3VwID0gdGhpcy5fc2VsZWN0ZWRHcm91cDtcblx0XHRcdGxldCBncm91cE5hbWUgPSAoc2VsZWN0ZWRHcm91cCAmJiBzZWxlY3RlZEdyb3VwLm5hbWUgIT0gJycpID8gc2VsZWN0ZWRHcm91cC5uYW1lIDogdGhpcy5BTllfTEFCRUw7XG5cdFx0XHRsZXQgcm9vbU5hbWUgPSAodGhpcy5fc2VsZWN0ZWRSb29tKSA/IHRoaXMuX3NlbGVjdGVkUm9vbS5uYW1lIDogdGhpcy5BTllfTEFCRUw7XG5cblx0XHRcdHVzZXJTY29wZSA9IHRoaXMuX2dldFNjb3BlTGFiZWxQYXJ0KCdab25lOicsIHpvbmVOYW1lKSArICc8YnI+JyArIHRoaXMuX2dldFNjb3BlTGFiZWxQYXJ0KCdHcm91cDonLCBncm91cE5hbWUpICsgJzxicj4nICsgdGhpcy5fZ2V0U2NvcGVMYWJlbFBhcnQoJ1Jvb206Jywgcm9vbU5hbWUpO1xuXHRcdH1cblxuXHRcdCQoJyN6bm0tcm9vbVNjb3BlTGInKS5odG1sKHJvb21TY29wZSk7XG5cdFx0JCgnI3pubS11c2VyU2NvcGVMYicpLmh0bWwodXNlclNjb3BlKTtcblx0fVxuXG5cdF9nZXRTY29wZUxhYmVsUGFydChsYWJlbCwgdGV4dClcblx0e1xuXHRcdHJldHVybiBgPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+JHtsYWJlbH08L3NwYW4+IDxzcGFuPiR7dGV4dH08L3NwYW4+YDtcblx0fVxuXG5cdF9yZXNldFJvb21MaXN0KClcblx0e1xuXHRcdHRoaXMuX3Jvb21MaXN0Qm94LnNldERhdGFTb3VyY2UoW10pO1xuXG5cdFx0Ly8gQWxzbyBkaXNhYmxlIFJlbW92ZSBidXR0b25cblx0XHQkKCcjem5tLXJlbW92ZVJvb21CdCcpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdH1cblxuXHRfcmVzZXRVc2VyTGlzdCgpXG5cdHtcblx0XHR0aGlzLl91c2VyTGlzdEJveC5zZXREYXRhU291cmNlKFtdKTtcblx0fVxuXG5cdF9zZXRNYWluQ29udHJvbHNFbmFibGVkKClcblx0e1xuXHRcdGxldCBlbmFibGVkID0gKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAnem9uZScgJiYgdGhpcy5fc2VsZWN0ZWRab25lICE9IHVuZGVmaW5lZClcblx0XHRcdFx0XHR8fCAodGhpcy5fYWN0aXZlUGFuZWxUeXBlID09ICdyb29tJyAmJiB0aGlzLl9zZWxlY3RlZFJvb20gIT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHx8ICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3VzZXInICYmIHRoaXMuX3NlbGVjdGVkVXNlciAhPSB1bmRlZmluZWQpO1xuXG5cdFx0JCgnI3pubS1tYWluQ29udHJvbHMnKS5hdHRyKCdkaXNhYmxlZCcsICFlbmFibGVkKTtcblxuXHRcdCQoJyN6bm0tbW9uaXRvclRhcmdldExiJykudGV4dChlbmFibGVkID8gY2FwaXRhbGl6ZUZpcnN0KHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSkgOiAnc2VsZWN0aW9uJyk7XG5cdFx0JCgnI3pubS1tZXNzYWdlSW4nKS5hdHRyKCdwbGFjZWhvbGRlcicsICdNZXNzYWdlIHRvICcgKyAoZW5hYmxlZCA/IGNhcGl0YWxpemVGaXJzdCh0aGlzLl9hY3RpdmVQYW5lbFR5cGUpIDogJ3NlbGVjdGlvbicpKTtcblx0fVxuXG5cdF9zaG93TGltaXRFeGNlZWRlZFdhcm5pbmcoaWNvbiwgdGl0bGUpXG5cdHtcblx0XHRpY29uLmF0dHIoJ3RpdGxlJywgdGl0bGUpO1xuXG5cdFx0aWYgKHRpdGxlICE9ICcnKVxuXHRcdFx0aWNvbi5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0ZWxzZVxuXHRcdFx0aWNvbi5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdH1cblxuXHRfc2hvd1Jvb21DcmVhdGlvblBhbmVsKHJvb21TZXR0aW5ncylcblx0e1xuXHRcdC8vIEJ1aWxkIHVzZXIgaW50ZXJmYWNlIGJhc2VkIG9uIHBhc3NlZCBkYXRhXG5cdFx0dGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuYnVpbGRJbnRlcmZhY2Uocm9vbVNldHRpbmdzLCAnem5tLXJvb21DcmVhdG9yVGFiTmF2JywgZmFsc2UsICdyYycpO1xuXG5cdFx0Ly8gRW5hYmxlIHNjcm9sbGluZyB0YWJzXG5cdFx0JCgnI3pubS1yb29tQ3JlYXRvclRhYk5hdiA+ICN0YWJzJykuc2Nyb2xsaW5nVGFicyh7XG5cdFx0XHRib290c3RyYXBWZXJzaW9uOiA0LFxuXHRcdFx0c2Nyb2xsVG9UYWJFZGdlOiB0cnVlLFxuXHRcdFx0ZW5hYmxlU3dpcGluZzogdHJ1ZSxcblx0XHRcdGRpc2FibGVTY3JvbGxBcnJvd3NPbkZ1bGx5U2Nyb2xsZWQ6IHRydWUsXG5cdFx0XHRjc3NDbGFzc0xlZnRBcnJvdzogJ2ZhIGZhLWNoZXZyb24tbGVmdCcsXG5cdFx0XHRjc3NDbGFzc1JpZ2h0QXJyb3c6ICdmYSBmYS1jaGV2cm9uLXJpZ2h0J1xuXHRcdH0pO1xuXG5cdFx0Ly8gUmVzZXQgTm90aWZ5IGNsaWVudHMgY2hlY2tib3hcblx0XHQkKCcjem5tLW5vdGlmeUNsaWVudHNDQicpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcblxuXHRcdC8vIFNldCBsaXN0ZW5lciBmb3IgY3VzdG9tIGFjdGlvbnMgdHJpZ2dlcmVkIGJ5IGNvbmZpZ3VyYXRpb24gaW50ZXJmYWNlXG5cdFx0JCgnI3pubS1yb29tQ3JlYXRvclRhYk5hdicpLm9uKCd2YWx1ZS1zZXQnLCAkLnByb3h5KHRoaXMuX29uQ29uZmlnVmFsdWVTZXQsIHRoaXMpKTtcblxuXHRcdC8vIERpc3BsYXkgcGFuZWxcblx0XHQkKCcjem5tLWNyZWF0ZVJvb21Nb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG5cblx0XHQvLyBSZXNldCBhbmQgaGlkZSBlcnJvciBtZXNzYWdlXG5cdFx0dGhpcy5fcmVzZXRSb29tQ3JlYXRpb25FcnJvcigpO1xuXHR9XG5cblx0X3Jlc2V0Um9vbUNyZWF0aW9uRXJyb3IoKVxuXHR7XG5cdFx0Ly8gUmVzZXQgYW5kIGhpZGUgZXJyb3IgbWVzc2FnZVxuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbUVycm9yJykudGV4dCgnJyk7XG5cdFx0JCgnI3pubS1jcmVhdGVSb29tRXJyb3InKS5oaWRlKCk7XG5cdH1cblxuXHRfdmFsaWRhdGVOZXdSb29tTmFtZShjaGFuZ2VzKVxuXHR7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VzLnNpemUoKTsgaSsrKVxuXHRcdHtcblx0XHRcdGNvbnN0IHNldHRpbmcgPSBjaGFuZ2VzLmdldFNGU09iamVjdChpKTtcblxuXHRcdFx0aWYgKHNldHRpbmcuY29udGFpbnNLZXkoJ25hbWUnKSAmJiBzZXR0aW5nLmdldFV0ZlN0cmluZygnbmFtZScpID09ICduYW1lJylcblx0XHRcdHtcblx0XHRcdFx0Ly8gR2V0IG5hbWUgdmFsdWVcblx0XHRcdFx0Y29uc3QgbmFtZSA9IHNldHRpbmcuZ2V0VGV4dCgndmFsdWUnKTtcblxuXHRcdFx0XHQvLyBHZXQgZGF0YSBzb3VyY2Vcblx0XHRcdFx0Y29uc3QgZHMgPSB0aGlzLl9yb29tTGlzdEJveC5kYXRhU291cmNlLmRhdGEoKTtcblxuXHRcdFx0XHQvLyBDaGVjayBpZiBuYW1lIGV4aXN0cyBpbiBkYXRhIHNvdXJjZVxuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYgKGRzW2pdLm5hbWUgPT0gbmFtZSlcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0X2VuYWJsZUNyZWF0ZVJvb21QYW5lbChlbmFibGUpXG5cdHtcblx0XHRsZXQgbW9kYWxFbGVtZW50ID0gJCgnI3pubS1jcmVhdGVSb29tTW9kYWwnKTtcblxuXHRcdC8vIEVuYWJsZSBtb2RhbCBjbG9zZSBidXR0b25zXG5cdFx0JCgnYnV0dG9uW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgbW9kYWxFbGVtZW50KS5hdHRyKCdkaXNhYmxlZCcsICFlbmFibGUpO1xuXG5cdFx0Ly8gRW5hYmxlIGNyZWF0ZSBidXR0b25cblx0XHQkKCcjem5tLXJvb21DcmVhdG9yQ3JlYXRlQnQnLCBtb2RhbEVsZW1lbnQpLmF0dHIoJ2Rpc2FibGVkJywgIWVuYWJsZSk7XG5cblx0XHQvLyBFbmFibGUgY2hlY2tib3hcblx0XHQkKCcjem5tLW5vdGlmeUNsaWVudHNDQicsIG1vZGFsRWxlbWVudCkuYXR0cignZGlzYWJsZWQnLCAhZW5hYmxlKTtcblxuXHRcdC8vIEVuYWJsZSBjb25maWd1cmF0aW9uIGludGVyZmFjZVxuXHRcdHRoaXMuX3Jvb21DcmVhdGlvbklCdWlsZGVyLmRpc2FibGVJbnRlcmZhY2UoIWVuYWJsZSk7XG5cdH1cblxuXHRfY2xlYXJUYWJzKG1vbml0b3JlZFR5cGUpXG5cdHtcblx0XHQvLyBEZXN0cm95IHNjcm9sbGluZyB0YWJzXG5cdFx0JChgI3pubS0ke21vbml0b3JlZFR5cGV9VGFiTmF2aWdhdG9yICN0YWJzYCkuc2Nyb2xsaW5nVGFicygnZGVzdHJveScpO1xuXG5cdFx0Ly8gUmVtb3ZlIGFsbCB0YWIgbmF2aWdhdG9yIGNvbnRlbnRcblx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmRlc3Ryb3lJbnRlcmZhY2UoKTtcblxuXHRcdC8vIFNldCBhbGwgdGFiIHBhbmVscyBhcyBpbmFjdGl2ZVxuXHRcdCQoYCN6bm0tJHttb25pdG9yZWRUeXBlfVRhYk5hdmlnYXRvciAjdGFiUGFuZWxzIC50YWItcGFuZWApLnJlbW92ZUNsYXNzKCdzaG93IGFjdGl2ZScpO1xuXG5cdFx0Ly8gUmVtb3ZlIHRhYiBjaGFuZ2UgZXZlbnQgbGlzdGVuZXJcblx0XHQkKCdhW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykub2ZmKCdzaG93bi5icy50YWInKTtcblxuXHRcdHRoaXMuX3NraXBJbml0VGFicyA9IGZhbHNlO1xuXHR9XG5cblx0X3Nob3dab25lVHJhZmZpY0RhdGEoZGF0YSlcblx0e1xuXHRcdC8vIEJ1aWxkIHVzZXIgY291bnQgbW9uaXRvciBoaXN0b3J5XG5cdFx0aWYgKGRhdGEuY29udGFpbnNLZXkoJ2hpc3RvcnknKSlcblx0XHR7XG5cdFx0XHRsZXQgdXNlckNvdW50RGF0YSA9IGRhdGEuZ2V0SW50QXJyYXkoJ2hpc3RvcnknKTtcblx0XHRcdGxldCBzYW1wbGluZ1JhdGVNaW5zID0gZGF0YS5nZXRJbnQoJ3JhdGUnKTtcblxuXHRcdFx0dGhpcy5fdXNlckNvdW50Q2hhcnQuYWRkSGlzdG9yeUVudHJpZXModXNlckNvdW50RGF0YSwgc2FtcGxpbmdSYXRlTWlucyAqIDYwKTtcblx0XHR9XG5cblx0XHQvLyBBZGQgbGFzdCB1c2VyIGNvdW50IHZhbHVlXG5cdFx0dGhpcy5fdXNlckNvdW50Q2hhcnQuYWRkRW50cnkoZGF0YS5nZXRJbnQoJ2N1cnJlbnQnKSk7XG5cdH1cblxuXHRfYWRkTG9nRW50cnlUb0dyaWQoZ3JpZCwgaXRlbSlcblx0e1xuXHRcdGxldCBkcyA9IGdyaWQuZGF0YVNvdXJjZTtcblxuXHRcdC8vIENoZWNrIGl0ZW1zIGxpbWl0XG5cdFx0aWYgKGRzLnRvdGFsKCkgPT0gdGhpcy5NQVhfRVhURU5TSU9OX0xPR19TSVpFKVxuXHRcdFx0ZHMucmVtb3ZlKGRzLmF0KDApKTtcblxuXHRcdGRzLmFkZChpdGVtKTtcblx0fVxuXG5cdF9zaG93VXNlclN0YXRzRGF0YShkYXRhKVxuXHR7XG5cdFx0Ly8gUGFja2V0IHF1ZXVlIGZpbGxpbmcgJVxuXHRcdGxldCBwYWNrZXRRdWV1ZSA9IHJvdW5kVG9EZWNpbWFscyhkYXRhLmdldEZsb2F0KCdwYWNrZXQnKSwgMik7XG5cdFx0dGhpcy5fcGFja2V0UXVldWVDaGFydC5zZXREYXRhU291cmNlKFt7Y2F0ZWdvcnk6ICdRdWV1ZScsIHZhbHVlOiBwYWNrZXRRdWV1ZX1dKTtcblxuXHRcdC8vIERyb3BwZWQgbWVzc2FnZXNcblx0XHRsZXQgZHJvcHBlZE1zZyA9IGRhdGEuZ2V0SW50KCdkcm9wcGVkJyk7XG5cdFx0dGhpcy5fZHJvcHBlZE1zZ0NoYXJ0LnNldERhdGFTb3VyY2UoW3tjYXRlZ29yeTogJ0Ryb3BwZWQnLCB2YWx1ZTogZHJvcHBlZE1zZ31dKTtcblxuXHRcdC8vIFdyaXR0ZW4gZGF0YSBhbW91bnRcblx0XHRsZXQgd3JpdHRlbkRhdGFPYmogPSBzY2FsZUJ5dGVzKGRhdGEuZ2V0TG9uZygnd0J5dGVzJyksIDIpO1xuXHRcdHRoaXMuX3dyaXR0ZW5EYXRhQ2hhcnQuc2V0RGF0YVNvdXJjZShbe2NhdGVnb3J5OiAnV3JpdHRlbicsIHZhbHVlOiB3cml0dGVuRGF0YU9iai52YWx1ZSwgdW5pdDogd3JpdHRlbkRhdGFPYmoudW5pdH1dKTtcblxuXHRcdC8vIFJlYWQgZGF0YSBhbW91bnRcblx0XHRsZXQgcmVhZERhdGFPYmogPSBzY2FsZUJ5dGVzKGRhdGEuZ2V0TG9uZygnckJ5dGVzJyksIDIpO1xuXHRcdHRoaXMuX3JlYWREYXRhQ2hhcnQuc2V0RGF0YVNvdXJjZShbe2NhdGVnb3J5OiAnUmVhZCcsIHZhbHVlOiByZWFkRGF0YU9iai52YWx1ZSwgdW5pdDogcmVhZERhdGFPYmoudW5pdH1dKTtcblx0fVxuXG5cdF9zZXRHZW9Mb2NhdGlvblVJKGdlb0xvY0RhdGEpXG5cdHtcblx0XHRjb25zdCBsb2NhdGlvbiA9IGdlb0xvY0RhdGEuZ2V0VXRmU3RyaW5nKCdsb2NhdGlvbicpO1xuXHRcdGNvbnN0IGVycm9yID0gZ2VvTG9jRGF0YS5nZXRVdGZTdHJpbmcoJ2Vycm9yJyk7XG5cdFx0Y29uc3QgbGF0aXR1ZGUgPSBnZW9Mb2NEYXRhLmdldFV0ZlN0cmluZygnbGF0aXR1ZGUnKTtcblx0XHRjb25zdCBsb25naXR1ZGUgPSBnZW9Mb2NEYXRhLmdldFV0ZlN0cmluZygnbG9uZ2l0dWRlJyk7XG5cblx0XHQvLyBTaG93IGxvY2F0aW9uXG5cdFx0JCgnI3pubS1nZW9Mb2NhdGlvbkxiJykudGV4dChsb2NhdGlvbik7XG5cblx0XHQvLyBMb2cgZXJyb3Jcblx0XHRpZiAoZXJyb3IgIT0gJycpXG5cdFx0XHR0aGlzLnNoZWxsQ3RybC5sb2dNZXNzYWdlKGVycm9yLCAnd2FybicpO1xuXG5cdFx0Ly8gRW5hYmxlL2Rpc2FibGUgU2hvdyBtYXAgYnV0dG9uXG5cdFx0aWYgKGxhdGl0dWRlICE9ICcnICYmIGxvbmdpdHVkZSAhPSAnJylcblx0XHR7XG5cdFx0XHQkKCcjem5tLXNob3dNYXBCdCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXG5cdFx0XHRjb25zdCB1cmwgPSBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3NlYXJjaC8/YXBpPTEmcXVlcnk9JHtOdW1iZXIobGF0aXR1ZGUpICsgJywnICsgTnVtYmVyKGxvbmdpdHVkZSl9YDtcblx0XHRcdCQoJyN6bm0tc2hvd01hcEJ0JykuYXR0cignaHJlZicsIHVybCk7XG5cdFx0fVxuXHR9XG5cblx0X2NsZWFyR2VvTG9jYXRpb25VSSgpXG5cdHtcblx0XHQkKCcjem5tLWdlb0xvY2F0aW9uTGInKS50ZXh0KCcnKTtcblx0XHQkKCcjem5tLXNob3dNYXBCdCcpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0JCgnI3pubS1zaG93TWFwQnQnKS5hdHRyKCdocmVmJywgJyMnKTtcblx0fVxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIFBSSVZBVEUgR0VUVEVSU1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdGdldCBfYWN0aXZlUGFuZWxUeXBlKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl9hY2NvcmRpb24uc2VsZWN0KCkuZGF0YSgnaXRlbVR5cGUnKTtcblx0fVxuXG5cdGdldCBfc2VsZWN0ZWRab25lKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl96b25lTGlzdEJveC5kYXRhSXRlbSh0aGlzLl96b25lTGlzdEJveC5zZWxlY3QoKSk7XG5cdH1cblxuXHRnZXQgX3NlbGVjdGVkR3JvdXAoKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2dyb3Vwc0Ryb3BEb3duLmRhdGFJdGVtKHRoaXMuX2dyb3Vwc0Ryb3BEb3duLnNlbGVjdCgpKTtcblx0fVxuXG5cdGdldCBfc2VsZWN0ZWRSb29tKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl9yb29tTGlzdEJveC5kYXRhSXRlbSh0aGlzLl9yb29tTGlzdEJveC5zZWxlY3QoKSk7XG5cdH1cblxuXHRnZXQgX3NlbGVjdGVkVXNlcigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlckxpc3RCb3guZGF0YUl0ZW0odGhpcy5fdXNlckxpc3RCb3guc2VsZWN0KCkpO1xuXHR9XG5cblx0Z2V0IF9pc0VkaXRpbmcoKVxuXHR7XG5cdFx0cmV0dXJuICh0aGlzLl9tb25pdG9yZWRUeXBlICE9IG51bGwgJiYgdGhpcy5fbW9uaXRvcmVkTmFtZSAhPSBudWxsICYmIHRoaXMuX2lzRWRpdE1vZGUpO1xuXHR9XG59XG4iLCJleHBvcnQgY2xhc3MgUm9vbVByb3BlcnRpZXNEYXRhXG57XG5cdHN0YXRpYyBnZXQgTEFCRUxTKCkge1xuXHRcdGxldCBtYXAgPSBuZXcgTWFwKCk7XG5cblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLk5BTUUsICduYW1lJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Sb29tUHJvcGVydGllcy5HUk9VUF9JRCwgJ2dyb3VwSWQnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLk1BWF9VU0VSUywgJ21heFVzZXJzJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Sb29tUHJvcGVydGllcy5NQVhfU1BFQ1RBVE9SUywgJ21heFNwZWN0YXRvcnMnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLlVTRVJfQ09VTlQsICd1c2VyQ291bnQnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLlNQRUNUQVRPUl9DT1VOVCwgJ3NwZWN0YXRvckNvdW50Jyk7XG5cdFx0bWFwLnNldChTRlMyWC5Sb29tUHJvcGVydGllcy5JU19HQU1FLCAnaXNHYW1lJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Sb29tUHJvcGVydGllcy5JU19QUklWQVRFLCAnaXNQcml2YXRlJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Sb29tUHJvcGVydGllcy5IQVNfRlJFRV9QTEFZRVJfU0xPVFMsICdoYXNGcmVlUGxheWVyU2xvdHMnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLklTX1RZUEVfU0ZTR0FNRSwgJ2lzU0ZTR2FtZVR5cGUnKTtcblxuXHRcdHJldHVybiBtYXA7XG5cdH1cblxuXHRzdGF0aWMgZ2V0TGFiZWwocHJvcE5hbWUpXG5cdHtcblx0XHRyZXR1cm4gJ1Jvb20uJyArIFJvb21Qcm9wZXJ0aWVzRGF0YS5MQUJFTFMuZ2V0KHByb3BOYW1lKTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgcHJvcGVydGllc0FycmF5KClcblx0e1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgUm9vbVByb3BlcnRpZXNEYXRhLkxBQkVMUy5lbnRyaWVzKCkpXG5cdFx0e1xuXHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRsYWJlbDogUm9vbVByb3BlcnRpZXNEYXRhLmdldExhYmVsKGtleSksXG5cdFx0XHRcdHZhbHVlOiBrZXlcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcnI7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFVzZXJQcm9wZXJ0aWVzRGF0YVxue1xuXHRzdGF0aWMgZ2V0IExBQkVMUygpIHtcblx0XHRsZXQgbWFwID0gbmV3IE1hcCgpO1xuXG5cdFx0bWFwLnNldChTRlMyWC5Vc2VyUHJvcGVydGllcy5OQU1FLCAnbmFtZScpO1xuXHRcdG1hcC5zZXQoU0ZTMlguVXNlclByb3BlcnRpZXMuSVNfUExBWUVSLCAnaXNQbGF5ZXInKTtcblx0XHRtYXAuc2V0KFNGUzJYLlVzZXJQcm9wZXJ0aWVzLklTX1NQRUNUQVRPUiwgJ2lzU3BlY3RhdG9yJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Vc2VyUHJvcGVydGllcy5JU19OUEMsICdpc05QQycpO1xuXHRcdG1hcC5zZXQoU0ZTMlguVXNlclByb3BlcnRpZXMuUFJJVklMRUdFX0lELCAncHJpdmlsZWdlSWQnKTtcblxuXHRcdHJldHVybiBtYXA7XG5cdH1cblxuXHRzdGF0aWMgZ2V0TGFiZWwocHJvcE5hbWUpXG5cdHtcblx0XHRyZXR1cm4gJ1VzZXIuJyArIFVzZXJQcm9wZXJ0aWVzRGF0YS5MQUJFTFMuZ2V0KHByb3BOYW1lKTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgcHJvcGVydGllc0FycmF5KClcblx0e1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgVXNlclByb3BlcnRpZXNEYXRhLkxBQkVMUy5lbnRyaWVzKCkpXG5cdFx0e1xuXHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRsYWJlbDogVXNlclByb3BlcnRpZXNEYXRhLmdldExhYmVsKGtleSksXG5cdFx0XHRcdHZhbHVlOiBrZXlcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcnI7XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUM3R0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDbktBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdGFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN2SEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDNS9EQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBIiwic291cmNlUm9vdCI6IiJ9